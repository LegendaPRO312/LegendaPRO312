
//]]></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/yjXVFOxf6UdoTA2BOwEH6n4ClfI.gz.js"></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/ihC7RhTVhw2ULO_1rMUWydIu_rA.gz.js"></script><script type="text/javascript" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=">//<![CDATA[
var Identity = Identity || {}; (function(i) { i.wlImgSm ="https://storage.live.com/users/0x{0}/myprofile/expressionprofile/profilephoto:UserTileStatic/p?ck=1\u0026ex=720\u0026sid=1993DF1DF4D46C0C11BFCA1DF57E6DD1\u0026fofoff=1"; i.wlImgLg ="https://storage.live.com/users/0x{0}/myprofile/expressionprofile/profilephoto:UserTileMedium/p?ck=1\u0026ex=720\u0026sid=1993DF1DF4D46C0C11BFCA1DF57E6DD1\u0026fofoff=1";i.popupLoginUrls = {"WindowsLiveId":"https://login.live.com/login.srf?wa=wsignin1.0\u0026rpsnv=11\u0026ct=1726831301\u0026rver=6.0.5286.0\u0026wp=MBI_SSL\u0026wreply=https:%2F%2fwww.bing.com%2Fsecure%2FPassport.aspx%3Fpopup%3D1%26ssl%3D1\u0026lc=1043\u0026id=264960"}; })(Identity);;
//]]></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/fDgf7Oh5R8mPygWLQcaNRoJGj5Q.gz.js"></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/kzHfYwAwahpHm-ZU7kDOHkFbADU.gz.js"></script><script type="text/javascript" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=">//<![CDATA[
(function() { var accLinkParams ={"accLinkRefreshEndPointUrl":"/orgid/acclink/refresh","isAadAuthenticated":false,"refreshAccountLinkInfoTimeInSeconds":3600,"refreshAccountLinkInfoRetryTimeInSeconds":600,"correlationId":"66ed5ac490874b3888a0439989605046","hasActiveLinkedAccount":false}; AccountLink.init(accLinkParams); })();;var sch=sch||{};(function(){var n="click";sj_evt.bind("onP1",function(){setTimeout(function(){var i=_ge("id_h"),t=_ge("id_sc");i&&t&&(sj_jb("Blue/HamburgerServicesHeaderFlyout_c",0,i,"mouseover",t,n,t,"focus"),sj_be(t,n,function(n){sch.clk=n}))},50)},1)})();var SearchBox;(function(n){function u(){t=_ge("b_header");sj_be(_d.body,"click",i)}function i(n){var i=sj_et(n);i.id!="sb_form_q"&&(t.className=t.className.replace(r,""))}var r=/(^|\s)b_focus(?!\S)/gi,t;n.removeFocusClass=i;sj_evt.bind("onP1",u)})(SearchBox||(SearchBox={}));var Lib;(function(n){var t;(function(n){function t(n){return n&&n.classList}function i(n,i){t(n)&&n.classList.add(i)}function r(n,i){t(n)&&n.classList.remove(i)}function u(n,i){t(n)&&n.classList.toggle(i)}function f(n,i){return t(n)&&n.classList.contains(i)}function e(n,t){return n.getElementsByClassName?n.getElementsByClassName(t):null}function o(n){return n instanceof SVGElement?n.getAttribute("class"):n.className}n.add=i;n.remove=r;n.toggle=u;n.contains=f;n.getElementByClassName=e;n.getClassAttribute=o})(t=n.CssClass||(n.CssClass={}))})(Lib||(Lib={}));var SydneyCameraProviderFactory;(function(n){n.registeredCameraProvidersMap={FileUploadCameraProvider:"FileUploadCameraProvider",SydneyMobileWebCameraProvider:"SydneyMobileWebCameraProvider",SydneyNativeCameraProvider:"SydneyNativeCameraProvider",SydneyEdgeNativeCameraProvider:"SydneyEdgeNativeCameraProvider"};n.create=function(t){n.registeredCameraProvidersMap[t]&&_w[t]&&_w[t].create()}})(SydneyCameraProviderFactory||(SydneyCameraProviderFactory={}));var SydneyCameraProviderBase;(function(n){var i,t;(function(n){n.Pending="pending";n.Granted="granted";n.Denied="denied"})(i=n.CameraPermissionStatus||(n.CameraPermissionStatus={}));t=function(){function n(){}return n.prototype.registerResultCallback=function(n){this.onResultCallback=n},n}();n.CameraProviderBase=t})(SydneyCameraProviderBase||(SydneyCameraProviderBase={}));var SydneyFSCLocationHelper;(function(n){function t(n){n&&typeof n.locations!="undefined"&&typeof n.locations.locationsList!="undefined"&&n.locations.locationsList.length>0&&typeof CIB!="undefined"&&typeof CIB.config!="undefined"&&typeof CIB.config.sydney!="undefined"&&typeof CIB.config.sydney.message!="undefined"&&(CIB.config.sydney.message.locationHints=n.locations.locationsList)}n.writeToLocationHints=t})(SydneyFSCLocationHelper||(SydneyFSCLocationHelper={}));var __awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},FreeSydneyHelper;(function(n){function t(){var n=_w._sydConvTranslation;return[{category:"chat",text:n.customGptWelcomeTilesQuestionDescription,title:" ",size:"medium"},{category:"write",text:n.customGptWelcomeTilesListDescription,title:" ",size:"medium"},{category:"laugh",text:n.customGptWelcomeTilesSummarizeDescription,title:" ",size:"medium"}]}function i(){var i,r,u,f,e,o,s,h,n=_w._sydConvTranslation,c=SydFSCHelper.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.freeSydneyCopilotIconUrl,""),l=SydFSCHelper.getConfigOrDefault((r=_w._sydConvConfig)===null||r===void 0?void 0:r.freeSydneyDesignerIconUrl,""),a=SydFSCHelper.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableDesignerGPT,!0),v=SydFSCHelper.getConfigOrDefault((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableCopilotCharacter,!1),y=SydFSCHelper.getConfigOrDefault((e=_w._sydConvConfig)===null||e===void 0?void 0:e.freeSydneyMicaIconUrl,""),p=SydFSCHelper.getConfigOrDefault((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableShopperGpt,!1),w=SydFSCHelper.getConfigOrDefault((s=_w._sydConvConfig)===null||s===void 0?void 0:s.freeSydneyShopperIconUrl,""),b=SydFSCHelper.getConfigOrDefault((h=_w._sydConvConfig)===null||h===void 0?void 0:h.shopperGptOptionSet,"ai_persona_personal_shopper_gpt_v3"),t=[{id:"copilot",type:"Copilot",name:"Copilot",displayName:"Copilot",icon:c,avatarImageUrl:c,description:n.freeSydneyPersonaCopilotDescription,extraOptionsSets:[],supportedTones:["Balanced","Creative","Precise"],defaultTone:"Balanced",showThreads:!0,welcomeHeader:n.freeSydneyPersonaCopilotWelcomeUpsellTitle,welcomeTiles:[{category:"write",text:n.freeSydneyWelcomeTilesWriteDescription2,title:n.freeSydneyWelcomeTilesWriteTitle,size:"medium"},{category:"compare",text:n.freeSydneyWelcomeTilesCompareDescription,title:n.freeSydneyWelcomeTilesCompareTitle,size:"medium"},{category:"organize",text:n.freeSydneyWelcomeTilesOrganizeDescription,title:n.freeSydneyWelcomeTilesOrganizeTitle,size:"medium"}]},];return a&&t.push({id:"designer",type:"Designer",name:"Designer",displayName:"Designer",icon:l,avatarImageUrl:"https://www.bing.com/th?id=OEP.1BB87D41D15FE27B500A4BFCDE01BB0E&pid=BEmail",description:n.freeSydneyPersonaDesignerDescription,extraOptionsSets:["ai_persona_designer_gpt","flux_websearch_v14"],supportedTones:["Creative"],defaultTone:"Creative",showThreads:!1,welcomeHeader:n.freeSydneyPersonaDesignerWelcomeUpsellTitle,welcomeTiles:[{size:"small",text:n.freeSydneyPersonaDesignerPromptOne,imageUrl:"https://designer.microsoft.com/designer-gpt-welcome-tiles/8.jpeg",hideText:!0,hideTitle:!0,overlayOnHover:!0},{size:"small",text:n.freeSydneyPersonaDesignerPromptTwo,imageUrl:"https://designer.microsoft.com/designer-gpt-welcome-tiles/7.jpeg",hideText:!0,hideTitle:!0,overlayOnHover:!0},{size:"small",text:n.freeSydneyPersonaDesignerPromptThree,imageUrl:"https://designer.microsoft.com/designer-gpt-welcome-tiles/9.jpeg",hideText:!0,hideTitle:!0,overlayOnHover:!0},]}),v&&t.push({id:"mica",type:"Mica",name:"Mica",displayName:"Mica the Fox",icon:y,avatarImageUrl:"https://www.bing.com/th?id=OEP.EA9EA7F47B564FA698F6E1F77A3B26CF&pid=BEmail",description:n.freeSydneyPersonaMicaDescription,extraOptionsSets:["animationfoxgpt"],supportedTones:["Creative"],defaultTone:"Creative",showThreads:!1,welcomeHeader:n.freeSydneyPersonaMicaWelcomeUpsellTitle,welcomeTiles:[{size:"small",text:n.freeSydneyPersonaMicaPromptOne,imageUrl:"https://www.bing.com/th?id=OEP.B0F582C6895DAA70C784366807B340D0&pid=BEmail",hideText:!0,hideTitle:!0,overlayOnHover:!0},{size:"small",text:n.freeSydneyPersonaMicaPromptTwo,imageUrl:"https://www.bing.com/th?id=OEP.3422307DCA679DFE966152308E1E6945&pid=BEmail",hideText:!0,hideTitle:!0,overlayOnHover:!0},{size:"small",text:n.freeSydneyPersonaMicaPromptThree,imageUrl:"https://www.bing.com/th?id=OEP.080C6D1EF47C3A9CE1CB60257E40DC3F&pid=BEmail",hideText:!0,hideTitle:!0,overlayOnHover:!0},]}),p&&t.push({id:"shopping",type:"shopping",name:"Personal shopper",displayName:"Personal shopper",icon:w,avatarImageUrl:"https://www.bing.com/th?id=OSS.BTF4F05379EDB48FF123263FE0A294EA2D14CF63EA7DE7F7764446DBB09A738ECA&pid=Bemail",description:n.freeSydneyPersonaShopperDescription,extraOptionsSets:[b],supportedTones:["Creative"],defaultTone:"Creative",showThreads:!1,welcomeHeader:n.freeSydneyPersonaShopperWelcomeUpsellTitle,welcomeTiles:[{size:"small",text:n.freeSydneyPersonaShopperPromptOne,imageUrl:"https://th.bing.com/th?id=OSS.BTD01519DD0912953AEF2F4FCCF08E3614A1272F04342346CE9548898DE3016436&w=1024&h=1024&c=1",hideText:!0,hideTitle:!0,overlayOnHover:!0},{size:"small",text:n.freeSydneyPersonaShopperPromptTwo,imageUrl:"https://th.bing.com/th?id=OSS.BTBE78601880390CE49F74F3EB367892394DBB263B17A0C9FDCFE1FC665D52061E&w=1024&h=1024&c=1",hideText:!0,hideTitle:!0,overlayOnHover:!0},{size:"small",text:n.freeSydneyPersonaShopperPromptThree,imageUrl:"https://th.bing.com/th?id=OSS.BTF69D4FB61505A4A8880BDE0A2F83274E3553C223E362FEDFEBF830F6DF6B6349&w=1024&h=1024&c=1",hideText:!0,hideTitle:!0,overlayOnHover:!0},]}),{freeSydneyPersonaModels:t}}function r(){var n;return __awaiter(this,void 0,void 0,function(){var i,r,t,f;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),i=new URL("turing/api/1p-gpt-list",window.location.origin),[4,SydFSCHelper.createRequest(i.href,"","GET")];case 1:return(r=e.sent(),t=JSON.parse(r.response),t===null||t===void 0?void 0:t.gptList)?[2,((n=t===null||t===void 0?void 0:t.gptList)===null||n===void 0?void 0:n.map(function(n){return u(n)}))||[]]:[3,3];case 2:return f=e.sent(),SydFSCHelper.SydLog("SystemEvent","Get1pGptsFromApiError","FreeSydneyHelper",{}),[2,[]];case 3:return[2]}})})}function u(n){var t,i,r,u,e;return!n||!n.gptId||!n.type||!n.name?{}:{id:n.gptId,type:n.type,name:n.name,displayName:n.displayName,icon:n.iconData||n.iconUrlLow||"",avatarImageUrl:n.iconUrlHigh||"",description:n.description,authorName:n.authorName,extraOptionsSets:(t=n.extraOptionsSets)!==null&&t!==void 0?t:[],supportedTones:n.supportedTones,defaultTone:n.defaultTone,showThreads:!1,welcomeHeader:n.description||n.shortDescription||"",welcomeTiles:(e=(u=(r=(i=n.conversationStarters)===null||i===void 0?void 0:i.conversationStarterList)===null||r===void 0?void 0:r.filter(function(n){return(n===null||n===void 0?void 0:n.text)||(n===null||n===void 0?void 0:n.imageUrl)}))===null||u===void 0?void 0:u.map(function(n){return f(n)}))!==null&&e!==void 0?e:[],accessLevel:n.accessLevel}}function f(n){return n?n.imageUrl?{size:"small",title:n.title,text:n.text,imageUrl:n.imageUrl,hideText:!0,hideTitle:!0,overlayOnHover:!0}:{size:"medium",title:n.title,text:n.text}:{}}n.getDefaultCustomWelcomeTiles=t;n.getFreeSydneyPersonasData=i;n.get1pGptsFromApi=r;sj_evt.fire("FreeSydneyHelperLoaded")})(FreeSydneyHelper||(FreeSydneyHelper={}));var __awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},PersonaGPTHandler;(function(n){function p(){var n,i,f,s,h;if(u=SydFSCHelper.getConfigOrDefault((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableWelcomeScreenV2,!1),r=SydFSCHelper.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableWelcomeScreenV3,!1),o=SydFSCHelper.getConfigOrDefault((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isSapphireClient,!1),b(),h=(s=_w._sydMobNativeIntegration)===null||s===void 0?void 0:s.enablePersonaBack,h&&sj_be(_w,"popstate",function(){var n,i,r,u;((i=(n=CIB===null||CIB===void 0?void 0:CIB.vm)===null||n===void 0?void 0:n.personas)===null||i===void 0?void 0:i._isPersonaView)&&((u=(r=CIB===null||CIB===void 0?void 0:CIB.vm)===null||r===void 0?void 0:r.personas)===null||u===void 0?void 0:u.setPersona(t))}),CIB.onSelectedPersonaChanged)CIB.onSelectedPersonaChanged(function(n){var i,f,s,c,l,a,v,y,p,w,b,k,d,g,nt;n===t?e.observe((c=(s=(f=(i=_d.querySelector("cib-serp"))===null||i===void 0?void 0:i.shadowRoot)===null||f===void 0?void 0:f.querySelector("cib-conversation"))===null||s===void 0?void 0:s.shadowRoot)===null||c===void 0?void 0:c.querySelector("cib-welcome-container"),{attributeOldValue:!0}):r?(v=(a=(l=_d.querySelector("cib-serp"))===null||l===void 0?void 0:l.shadowRoot)===null||a===void 0?void 0:a.querySelector("cib-conversation"))===null||v===void 0?void 0:v.querySelectorAll('slot[name="wlcmCntnr"]').forEach(function(n){return n.remove()}):u&&((w=(p=(y=_d.querySelector("cib-serp"))===null||y===void 0?void 0:y.shadowRoot)===null||p===void 0?void 0:p.querySelector("cib-conversation"))===null||w===void 0?void 0:w.querySelectorAll('slot[name="wlcmContHeader"]').forEach(function(n){return n.remove()}));h&&(((b=_w===null||_w===void 0?void 0:_w.history)===null||b===void 0?void 0:b.state)?n===t?(k=_w===null||_w===void 0?void 0:_w.history)===null||k===void 0?void 0:k.back():(d=_w===null||_w===void 0?void 0:_w.history)===null||d===void 0?void 0:d.replaceState({newPersona:n},""):((g=_w===null||_w===void 0?void 0:_w.history)===null||g===void 0?void 0:g.state)||n===t||((nt=_w===null||_w===void 0?void 0:_w.history)===null||nt===void 0?void 0:nt.pushState({newPersona:n},"")));o&&typeof SydneySuperAppLogger!="undefined"&&SydneySuperAppLogger.logCriticalInfo("onSelectedPersonaChanged",{sysMsg:n})})}function w(n){for(var t,i=0,f=n;i<f.length;i++)t=f[i],(t===null||t===void 0?void 0:t.type)==="attributes"&&t.attributeName==="persona"&&t.oldValue===""&&(r?sj_evt.fire("cib_init",_d.querySelector("cib-serp")):u&&SydWelcomeScreenMobile.setContent(_d.querySelector("cib-serp")),e.disconnect())}function b(){var n;return __awaiter(this,void 0,void 0,function(){var r,o,s,h,e,c,l,v,u;return __generator(this,function(y){switch(y.label){case 0:return i("setAIPersonaConfigs",{sysMsg:"started"}),CIB.config.features.enableAIPersonasForMobile=!0,[4,k()];case 1:return(r=y.sent(),o=nt(),s=tt(),h=SydFSCHelper.getConfigOrDefault((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableExploreAIIntegration,!1),e=__spreadArray(__spreadArray([],o,!0),s,!0),!h)?[3,4]:[4,rt(a)];case 2:return c=y.sent(),[4,ut()];case 3:l=y.sent();c&&l&&r.push(et());y.label=4;case 4:return CIB.setPersonaItemsData?(i("setAIPersonaConfigs",{sysMsg:"Set AI Persona data from OS new method"}),u=f(e,r),v={personaItems:u,chatMode:t},CIB.setPersonaItemsData(v)):CIB.setAIPersonaData?(i("setAIPersonaConfigs",{sysMsg:"Set AI Persona data from OS old method"}),u=f(e,r),CIB.setAIPersonaData(u)):i("setAIPersonaConfigs",{sysMsg:"Fallback to the data from default AI Personas Config",payload:{reason:"Empty data from OS",dataFromOS:r}}),[2]}})})}function k(){var n,t,r,u,f,e;return __awaiter(this,void 0,void 0,function(){var l,a,o,h,v;return __generator(this,function(y){switch(y.label){case 0:i("getAIPersonasFromOS",{sysMsg:"started"});y.label=1;case 1:return(y.trys.push([1,5,,6]),!((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enablePersonaTestData))?[3,2]:(a=(t=_w.sapphireBridge)===null||t===void 0?void 0:t.getPersona1TestData(),[2,a]);case 2:return[4,SydFSCHelper.createRequest(s(),"","GET")];case 3:return l=y.sent(),o=JSON.parse(l.response),h=(u=(r=o===null||o===void 0?void 0:o.gptListResponse)===null||r===void 0?void 0:r.personagpts)!==null&&u!==void 0?u:[],((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableShopperGptMobile)&&h.push(c()),((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableShopperGptMobileP3)&&h.unshift(c()),[2,h];case 4:return[3,6];case 5:return v=y.sent(),it("getAIPersonasFromOS",{sysMsg:"Error while parsing response",err:v,data:l}),[2,[]];case 6:return[2]}})})}function d(){var n,t,i,r,u;return __awaiter(this,void 0,void 0,function(){var o,h,e,c,l,a;return __generator(this,function(v){switch(v.label){case 0:return(v.trys.push([0,6,,7]),!((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableAIPersonasForDesktop))?[3,4]:(SydFSCHelper.SydLog("SystemEvent","GetPersonasStarted","PersonaGPTHandler",{}),!((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enablePersonaTestData))?[3,1]:(o=(i=_w.sapphireBridge)===null||i===void 0?void 0:i.getPersona1TestData(),[2,o]);case 1:return[4,SydFSCHelper.createRequest(s(),"","GET")];case 2:return h=v.sent(),e=JSON.parse(h.response),c=(u=(r=e===null||e===void 0?void 0:e.gptListResponse)===null||r===void 0?void 0:r.personagpts)!==null&&u!==void 0?u:[],l=f([],c),[2,l];case 3:return[3,5];case 4:return[2,[]];case 5:return[3,7];case 6:return a=v.sent(),SydFSCHelper.SydLog("SystemEvent","GetPersonasParseError","PersonaGPTHandler",{}),[2,[]];case 7:return[2]}})})}function g(n){var t;((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableAIPersonasForMobile)&&CIB.selectedPersona&&n&&i("Persona conversation id",{payload:{conversationId:n!==null&&n!==void 0?n:"-",selectedPersona:CIB.selectedPersona}})}function s(){var n,t,i=new URL("sydchat/readTopicsInfo",window.location.origin);return i.searchParams.append("lang",(t=(n=_G.Lang)===null||n===void 0?void 0:n.split("-")[0])!==null&&t!==void 0?t:"en"),i.searchParams.append("personas","primary"),i.href}function nt(){var n,i,r,u,f,e,o,s,h,c,d=(n=_w._sydConvTranslation)===null||n===void 0?void 0:n.personaBalancedDescription,l=(i=_w._sydConvTranslation)===null||i===void 0?void 0:i.personaBalancedSuggestionChip1,a=(r=_w._sydConvTranslation)===null||r===void 0?void 0:r.personaBalancedSuggestionChip2,v=(u=_w._sydConvTranslation)===null||u===void 0?void 0:u.personaBalancedSuggestionChip3,y=(f=_w._sydConvTranslation)===null||f===void 0?void 0:f.personaBalancedSuggestionChip4,g=(e=_w._sydConvTranslation)===null||e===void 0?void 0:e.personaCreativeDescription,p=(o=_w._sydConvTranslation)===null||o===void 0?void 0:o.personaCreativeSuggestionChip1,w=(s=_w._sydConvTranslation)===null||s===void 0?void 0:s.personaCreativeSuggestionChip2,b=(h=_w._sydConvTranslation)===null||h===void 0?void 0:h.personaCreativeSuggestionChip3,k=(c=_w._sydConvTranslation)===null||c===void 0?void 0:c.personaCreativeSuggestionChip4;return[{personaTitle:"Copilot",topic:t,description:g,prompt:"",optionsSets:[],suggestionChips:[p,w,b,k,],suggestions:[{text:p},{text:w},{text:b},{text:k},],avatarImageUrl:"https://www.bing.com/th?id=OEP.4859ABAF577E9841CBACD96A9B6AD457&pid=BEmail",responseType:SydFSCHelper.CREATIVE_TONE,defaultTone:SydFSCHelper.CREATIVE_TONE,supportedTones:[SydFSCHelper.CREATIVE_TONE,SydFSCHelper.BALANCED_TONE]},{personaTitle:"Copilot",topic:t,description:d,prompt:"",optionsSets:[],suggestionChips:[l,a,v,y,],suggestions:[{text:l},{text:a},{text:v},{text:y},],avatarImageUrl:"https://www.bing.com/th?id=OEP.4859ABAF577E9841CBACD96A9B6AD457&pid=BEmail",responseType:SydFSCHelper.BALANCED_TONE,defaultTone:SydFSCHelper.BALANCED_TONE,supportedTones:[SydFSCHelper.CREATIVE_TONE,SydFSCHelper.BALANCED_TONE]},]}function tt(){var r=[],u,t,i,n,f,e;if(typeof FreeSydneyHelper!="undefined"&&FreeSydneyHelper)for(u=FreeSydneyHelper.getFreeSydneyPersonasData().freeSydneyPersonaModels,t=0,i=u;t<i.length;t++)n=i[t],n.id!=="copilot"&&(f=n.welcomeTiles.map(function(n){return{text:n.text}}),e={personaTitle:n.displayName,description:n.welcomeHeader,shortDescription:n.description,defaultTone:n.defaultTone,responseType:n.defaultTone,avatarImageUrl:n.avatarImageUrl,supportedTones:n.supportedTones,optionsSets:n.extraOptionsSets,topic:n.id,prompt:"",suggestions:f},r.push(e));return r}function f(n,t){var f,r=[],u,e,i,o,s;if(r.push.apply(r,n),(t===null||t===void 0?void 0:t.length)>0)for(u=0,e=t;u<e.length;u++)i=e[u],o=i.suggestions.map(function(n){return n.text}),h(o),s=__spreadArray([],i.suggestions,!0),h(s),r.push({personaTitle:i.title,shortDescription:(f=i.shortDescription)!==null&&f!==void 0?f:i.description,description:i.description,topic:i.topic,prompt:i.prompt,optionsSets:i.optionsSets,suggestionChips:o.slice(0,4),suggestions:s.slice(0,4),avatarImageUrl:i.avatarImageUrl,smallImageUrl:i.smallImageUrl,responseType:i.defaultTone,defaultTone:i.defaultTone,supportedTones:i.supportedTones,actionBarMessage:i.actionBarMessage});return r}function h(n){for(var r,i,t=n.length-1;t>0;t--)r=Math.floor(Math.random()*(t+1)),i=[n[r],n[t]],n[t]=i[0],n[r]=i[1]}function i(n,t){typeof SydneySuperAppLogger!="undefined"&&SydneySuperAppLogger&&SydneySuperAppLogger.logInfo(n,t)}function it(n,t){typeof SydneySuperAppLogger!="undefined"&&SydneySuperAppLogger&&SydneySuperAppLogger.logError(n,t)}function rt(n){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(r){switch(r.label){case 0:return[4,SuperAppBridge.getAppListAsync({type:"all",appId:l})];case 1:return t=r.sent(),i=t.findIndex(function(t){var i=t.id;return i===n}),[2,i>-1]}})})}function ut(){return __awaiter(this,void 0,void 0,function(){var n,t,i,r,u,f;return __generator(this,function(e){switch(e.label){case 0:return[4,SydneySuperAppConnector.getDeviceInfo()];case 1:if(n=e.sent(),n){if(t=n.platform,i=n.isCopilotApp,r=n.clientVersion,u=n.isBingApp,f=n.isDebugMode,i)return t.toLowerCase()===v.toLowerCase()&&!ft(r,y)?[2,!1]:[2,!0];if(u&&f)return[2,!0]}return[2,!1]}})})}function ft(n,t){var i;if(n=n.toLowerCase(),t=t.toLowerCase(),n===t)return!0;var r=n.split(".").map(function(n){return parseInt(n)}),u=t.split(".").map(function(n){return parseInt(n)}),f=Math.min(r.length,u.length);for(i=0;i<f;i++){if(r[i]>u[i])return!0;if(r[i]<u[i])return!1}return f===r.length?!1:!0}function c(){var n;return{topic:"shopping",title:"Personal shopper",shortDescription:"Discover and research products",description:"I can help you save time and money on your next purchase. Shop with confidence!",actionBarMessage:"Ask me anything about shopping",prompt:"",type:"Shopping",avatarImageUrl:"https://www.bing.com/th?id=OSS.BTF4F05379EDB48FF123263FE0A294EA2D14CF63EA7DE7F7764446DBB09A738ECA&pid=Bemail",smallImageUrl:"https://www.bing.com/th?id=OSS.BTF4F05379EDB48FF123263FE0A294EA2D14CF63EA7DE7F7764446DBB09A738ECA&pid=Bemail&w=48&h=48",optionsSets:[(n=_w._sydConvConfig)===null||n===void 0?void 0:n.shopperGptOptionSet],suggestions:[{text:"What haircare products work well for frizzy hair?"},{text:"Can you recommend some good nonstick frying pans?"},{text:"Can you suggest affordable wireless headphones?"},{text:"What hiking backpacks would you recommend?"}],defaultTone:"Creative",supportedTones:["Creative"]}}function et(){return{topic:"integrations",title:"Inspiration",shortDescription:"",description:"",actionBarMessage:"",prompt:"",type:"",avatarImageUrl:"https://aicdn.sapphire.microsoftapp.net/webapps/codex/icons/explore_ai.png",smallImageUrl:"https://aicdn.sapphire.microsoftapp.net/webapps/codex/icons/explore_ai.png",optionsSets:[],suggestions:[],defaultTone:"Creative",supportedTones:["Creative"]}}var l="6dc7564de7424d4698716df1b6d86867",a="80df31fd241744bba002a75f779c86cb",v="Android",y="28.4",t="default",e=new MutationObserver(w),r,u,o;n.SetupPersonaGPTs=p;n.getPersonas=d;n.logNewConversation=g})(PersonaGPTHandler||(PersonaGPTHandler={}));var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},ToneTier,SydFSCHelper;(function(n){n.LOW="Low";n.MEDIUM="Medium";n.HIGH="High"})(ToneTier||(ToneTier={})),function(n){function co(f){var o,h,c,l,a,w,b,d,g,nt,it,rt,ut,ft,et,ot,st,ht;return f===void 0&&(f=null),__awaiter(this,void 0,void 0,function(){var ct,si,kb,sr,lr,ar,hi,db,gb,vt,wt,nk,tk,vr,ik,yr,pr,ti,rk,kr,dr,uk,fk,ci,ek,ok,sk,hk,ck,lk,ak,vk,yk,pk,wk,gr,nu,ru,fu,li,ou,bk,kk,dk,hu,cu,lu,au,vu,yu,pu,gk,wu,nd,td,id,rd,ud,bu,ku,du,fd,ed,od,gu,sd,hd,nf,tf,cd,ld,ad,rf,vd,yd,pf,pd,kf,wd,bd,kd,dd,df,gf,ne,ai,te,ie,re,vi,ue,ee,gd,oe,se,he,ce,ng,tg,le,ig,ae,ve,rg,ye,pe,ug,ge,fg,eg,no,og,to,io,sg,ro,uo,fo,eo,hg,cg,lg,ag,vg,yg,oo,pg,wg,bg,kg,dg,gg,nn,so,ho,co,ns,ts,rs,us,tn,rn,un,fn,en,fs,es,ls,as,vs,ys,ps,ks,ih,lh,ah,vh,ph,wh,bh,gh,nc,tc,ic,on,sn,hn,cn,rc,uc,ln,ec,oc,sc,an,hc,cc,lc,ac,vc,yc,pc,wc,bc,kc,dc,gc,nl,tl,il,rl,ul,fl,sl,hl,vn,cl,ll,al,vl,yi,yl,pl,wl,bl,kl,dl,gl,na,ta,ia,ra,ua,fa,yn,pn,ea,wn,oa,sa,ha,ca,bi,la,aa,va,ya,bn,kn,dn,gn,pa,wa,ba,ka,da,ntt,ttt,itt,rtt,utt,ftt,ett,ott,stt,htt,ctt,ga,nv,tv,iv,ltt,att,vtt,ytt,ptt,wtt,rv,btt,ktt,dtt,uv,gtt,fv,nit,tit,iit,rit,uit,fit,ev,eit,oit,sit,ov,sv,hit,cit,lit,ait,vit,hv,yit,pit,wit,cv,bit,kit,dit,lv,git,av,nrt,trt,irt,rrt,urt,frt,ert,ort,srt,hrt,crt,lrt,art,vrt,yrt,prt,vv,wrt,yv,brt,krt,drt,grt,pv,nut,tut,iut,rut,uut,wv,fut,eut,out,sut,hut,cut,lut,aut,vut,yut,put,wut,but,kut,dut,gut,nft,tft,ift,rft,uft,fft,eft,bv,kv,dv,oft,sft,hft,cft,lft,gv,ny,aft,vft,yft,pft,wft,bft,kft,ty,iy,dft,ry,gft,net,uy,tet,iet,fy,ey,oy,sy,hy,cy,ly,ay,vy,yy,ret,dt,uet,fet,py,eet,oet,set,het,cet,wy,by,aet,vet,ki,yet,pet,wet,bet,ky,dy,gy,np,tp,ip,rp,up,fp,ep,ket,op,sp,hp,cp,lp,ap,vp,det,yp,pp,wp,bp,kp,get,not,tot,dp,iot,rot,gp,uot,nw,fot,gt,ii,eot,oot,sot,hot,cot,lot,aot,vot,yot,tw,pot,wot,iw,bot,kot,rw,dot,uw,got,nst,tst,ist,fw,ew,rst,ust,fst,ow,est,ost,sst,hst,cst,sw,lst,hw,ast,vst,yst,pst,wst,bst,kst,dst,gst,nht,tht,iht,cw,rht,uht,fht,eht,lw,aw,oht,sht,hht,cht,lht,aht,vht,yht,pht,wht,vw,bht,kht,dht,ght,nct,yw,tct,ict,pw,ww,bw,kw,rct,uct,dw,gw,fct,ect,oct,sct,hct,cct,lct,nb,act,tb,ib,di,rb,vct,yct,pct,wct,bct,kct,dct,gct,nlt,ub,tlt,ilt,gi,rlt,ult,flt,elt,fb,eb,ob,ni,sb,hb,nr,cb,lb,tr,rr,ab,ri,ur,olt,vb,slt,yb,pb,wb,bb,hlt,clt,llt,alt,er,vlt,ui,yt,fi,ei,or,ylt,kt,plt=this;return __generator(this,function(wlt){switch(wlt.label){case 0:if(ct=_w._sydConvConfig,si=t(ct===null||ct===void 0?void 0:ct.enableEmptyToneDebugLogs,!0),si&&i(r.System,"BeginConfigs","Codex"),n.isConfigSet=!0,kb=t(ct===null||ct===void 0?void 0:ct.overrideSydOptions,!1),sr=t(ct===null||ct===void 0?void 0:ct.sydOptionSets,!1),lr=t(ct===null||ct===void 0?void 0:ct.voiceSrOptions,u),ar=t(ct===null||ct===void 0?void 0:ct.sydUrlPart,!1),hi=t(ct===null||ct===void 0?void 0:ct.isSydCorpnet,!1),db=t(ct===null||ct===void 0?void 0:ct.enableSydOverlay,!1),gb=t(ct===null||ct===void 0?void 0:ct.isVisualParityRun,!1),vt=t(ct===null||ct===void 0?void 0:ct.isMSAAuthenticated,!1),wt=t(ct===null||ct===void 0?void 0:ct.isAADAuthenticated,!1),nk=t(ct===null||ct===void 0?void 0:ct.userMailId,u),tk=t(ct===null||ct===void 0?void 0:ct.username,u),vr=t(ct===null||ct===void 0?void 0:ct.sydBaseUrl,vf),ik=t(ct===null||ct===void 0?void 0:ct.cmcBaseUrl,yf),yr=t(ct===null||ct===void 0?void 0:ct.isCompliantSydneyEndpointEnabled,!1),pr=t(ct===null||ct===void 0?void 0:ct.enableCompliantBCE,!1),ti=t(ct===null||ct===void 0?void 0:ct.isBingChatForEnterprise,!1),rk=t(ct===null||ct===void 0?void 0:ct.isBingChatForSchools,!1),p=rk||ti,pt=p&&t(ct===null||ct===void 0?void 0:ct.bfbCookieChatConsented,!1),kr=t(ct===null||ct===void 0?void 0:ct.sydIDs,u),dr=t(ct===null||ct===void 0?void 0:ct.traceId,u),uk=t(_w._sydConvTranslation,{}),fk=t(ct===null||ct===void 0?void 0:ct.enableSydMic,!0),ci=t(ct===null||ct===void 0?void 0:ct.enableSydShare,!1),ek=t(ct===null||ct===void 0?void 0:ct.enableAnswerBridgeShare,!0),ok=t(ct===null||ct===void 0?void 0:ct.enableShareIframePostMessageLogs,!1),sk=t(ct===null||ct===void 0?void 0:ct.enableUnifiedNativeShareProvider,!1),hk=t(ct===null||ct===void 0?void 0:ct.enableMessageShareableSignalV2,!0),ck=t(ct===null||ct===void 0?void 0:ct.addDv3Opt,!0),lk=t(ct===null||ct===void 0?void 0:ct.enable161Feats,!0),ak=t(ct===null||ct===void 0?void 0:ct.enableAnsCardSuffix,!0),vk=t(ct===null||ct===void 0?void 0:ct.enableLikeSaveToBingPage,!1),yk=t(ct===null||ct===void 0?void 0:ct.isAdultUser,!0),pk=t(ct===null||ct===void 0?void 0:ct.isMissingDob,!1),wk=t(ct===null||ct===void 0?void 0:ct.removeDSAT,!0),gr=t(ct===null||ct===void 0?void 0:ct.enableErrorTelemetry,!0),nu=t(ct===null||ct===void 0?void 0:ct.enableSpeechContinuousErrorHandling,!0),ru=t(ct===null||ct===void 0?void 0:ct.enableSpeechErrorLoggingAsSystemEvent,!0),fu=t(ct===null||ct===void 0?void 0:ct.enableSpeechChatDataAfterPhrase,!1),li=t(ct===null||ct===void 0?void 0:ct.enableSpeechEarconOnInput,!1),ou=t(ct===null||ct===void 0?void 0:ct.enableTTSOnSuggestionAfterVoice,!1),bk=t(ct===null||ct===void 0?void 0:ct.enableTTSNeverSetting,!0),kk=t(ct===null||ct===void 0?void 0:ct.enableCustomizedTtsOptions,!0),dk=t(ct===null||ct===void 0?void 0:ct.enableCustomizedTtsVoiceNameOptions,!1),hu=t(ct===null||ct===void 0?void 0:ct.enableSimpleVoiceInput,!0),cu=t(ct===null||ct===void 0?void 0:ct.enableSpeechDictationMode,!0),lu=t(ct===null||ct===void 0?void 0:ct.enableSpeechDuplex,!1),au=t(ct===null||ct===void 0?void 0:ct.enableSpeechDuplexUI,!1),vu=t(ct===null||ct===void 0?void 0:ct.enableAudioPreloadLimit,!0),yu=t(ct===null||ct===void 0?void 0:ct.enableSpeechFateTTSStop,!0),pu=t(ct===null||ct===void 0?void 0:ct.enableSpeechGetUserMedia,!1),gk=t(ct===null||ct===void 0?void 0:ct.enableCdxFeats,!1),wu=t(ct===null||ct===void 0?void 0:ct.cdxFeats,u),nd=t(ct===null||ct===void 0?void 0:ct.disableSecureUpdateConversation,!1),td=t(ct===null||ct===void 0?void 0:ct.disableSecureSendFeedback,!1),id=t(ct===null||ct===void 0?void 0:ct.enableFdbkFinalized,!0),rd=t(ct===null||ct===void 0?void 0:ct.enableSemSerpShare,!1),ud=t(ct===null||ct===void 0?void 0:ct.enableCreatorShare,!1),bu=t(ct===null||ct===void 0?void 0:ct.enableSydImageCreate,!0),ku=t(ct===null||ct===void 0?void 0:ct.enableSunoMusicCreate,!0),du=t(ct===null||ct===void 0?void 0:ct.enableSunoMusicInst,!1),fd=t(ct===null||ct===void 0?void 0:ct.enableSunoMusicRelativeBaseUrl,!1),ed=t(ct===null||ct===void 0?void 0:ct.enableSecureConnect,!0),od=t(ct===null||ct===void 0?void 0:ct.enableAffinityInstance,!1),gu=t(ct===null||ct===void 0?void 0:ct.enableAutomaticReconnect,!1),sd=t(ct===null||ct===void 0?void 0:ct.enableSSE,!1),hd=t(ct===null||ct===void 0?void 0:ct.enableSSEFallback,!1),nf=t(ct===null||ct===void 0?void 0:ct.sydneyBaseUrlForSSE,u),tf=t(ct===null||ct===void 0?void 0:ct.pathBaseForSSE,"/sydney/sse"),cd=t(ct===null||ct===void 0?void 0:ct.enableStatefulReconnection,!1),ld=t(ct===null||ct===void 0?void 0:ct.enableTelemetryFixForCreateConvError,!0),ad=t(ct===null||ct===void 0?void 0:ct.enableFixForDuplicateErrorCount,!0),rf=t(ct===null||ct===void 0?void 0:ct.enableGetMessagesHub,!0),vd=t(ct===null||ct===void 0?void 0:ct.enableShortOpt,!1),yd=t(ct===null||ct===void 0?void 0:ct.enablePuidOvr,!1),pf=t(ct===null||ct===void 0?void 0:ct.enablePerfTracker,!0),pd=t(ct===null||ct===void 0?void 0:ct.enableEmbeddedPerf,!1),kf=t(ct===null||ct===void 0?void 0:ct.enableSinglePerfEventPerMessage,!0),wd=t(ct===null||ct===void 0?void 0:ct.enableE2EPerf,!0),bd=t(ct===null||ct===void 0?void 0:ct.enableCIBBootstrapper,!1),kd=t(ct===null||ct===void 0?void 0:ct.enableFixForTextSelectionFlickering,!1),dd=t(ct===null||ct===void 0?void 0:ct.enableCCPPerf,!1),df=t(ct===null||ct===void 0?void 0:ct.enableVisibilityPerfFix,!1),gf=t(ct===null||ct===void 0?void 0:ct.enableLiteSuggestionItemWrap,!1),ne=t(ct===null||ct===void 0?void 0:ct.enableNeatListening,!1),ai=t(ct===null||ct===void 0?void 0:ct.enableCIQAlwaysLoad,!1),te=t(ct===null||ct===void 0?void 0:ct.enableUnauthRedir,!0),ie=t(ct===null||ct===void 0?void 0:ct.enableNewChatIconInActionBar,!0),re=t(ct===null||ct===void 0?void 0:ct.enableActionBarV2,!0),vi=t(ct===null||ct===void 0?void 0:ct.speechSurface,sf),ue=t(ct===null||ct===void 0?void 0:ct.enableSpeechDictationBridgeMode,!1),ee=t(ct===null||ct===void 0?void 0:ct.enableNativeEchoCancellation,!1),gd=t(ct===null||ct===void 0?void 0:ct.enableTranslateForBotMessage,!1),oe=t(ct===null||ct===void 0?void 0:ct.enableReadAloudMessage,!0),se=t(ct===null||ct===void 0?void 0:ct.enableReadAloudOptions,!1),he=t(ct===null||ct===void 0?void 0:ct.enableReadAloudOnDeepLeoOnly,!0),ce=t(ct===null||ct===void 0?void 0:ct.enableReadAloudFixV1,!1),ng=t(ct===null||ct===void 0?void 0:ct.bypassMicPermissionsQuery,!1),tg=t(ct===null||ct===void 0?void 0:ct.enableWhisperSR,!1),le=t(ct===null||ct===void 0?void 0:ct.enableSpeechLogNoiseReduction,!0),ig=t(ct===null||ct===void 0?void 0:ct.enableAutoReopenMic,!1),ae=t(ct===null||ct===void 0?void 0:ct.enableAutoReopenMicTTSStopped,!1),ve=t(ct===null||ct===void 0?void 0:ct.enableAltVoiceQuerySubmissionOnMobileABV2,!1),rg=t(ct===null||ct===void 0?void 0:ct.enableAdaptiveTTSQuality,!0),ye=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableMockMicListeningState,!1),pe=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableMockMicBlockedState,!1),ug=t(ct===null||ct===void 0?void 0:ct.enableAutoStopSpeechRecogIfInvisible,!1),ge=t(ct===null||ct===void 0?void 0:ct.enableUndefinedToListeningAnimation,!1),fg=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableReopenMicNotification,!1),eg=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableReopenMicNotificationTest,!1),no=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableUniversalInput,!1),og=t(ct===null||ct===void 0?void 0:ct.enableDynamicBaseUrl,!1),to=t(ct===null||ct===void 0?void 0:ct.enableSpeechErrorHandling,!0),io=t(ct===null||ct===void 0?void 0:ct.enableSpeechAriaLabel,!0),sg=t(ct===null||ct===void 0?void 0:ct.enableSpeechReopenMic,!1),ro=t(ct===null||ct===void 0?void 0:ct.enableSpeechTTSLatencyLogging,!0),uo=t(ct===null||ct===void 0?void 0:ct.enableSpeechInputWhileRequestIsPending,!1),fo=t(ct===null||ct===void 0?void 0:ct.enableSpeechIconDarkTheme,!0),eo=t(ct===null||ct===void 0?void 0:ct.enableSpeechAudioContextPlayback,!1),hg=t(ct===null||ct===void 0?void 0:ct.enableDesignerGPTAsPartnerNameinBICUrl,!0),cg=t(ct===null||ct===void 0?void 0:ct.enableNewTopicAutoExpand,!0),lg=t(ct===null||ct===void 0?void 0:ct.enableMaxTurnsPerConversation,!0),ag=t(ct===null||ct===void 0?void 0:ct.enableAmberTurnPerConversation,!1),vg=t(ct===null||ct===void 0?void 0:ct.isAccountLinkedWithActiveAAD,!1),yg=t(ct===null||ct===void 0?void 0:ct.enableThreadsAADMSASwitch,!0),oo=t(ct===null||ct===void 0?void 0:ct.enableTelemetryPrivacy,!1),pg=t(ct===null||ct===void 0?void 0:ct.enableSydSafeSearch,!1),wg=t(ct===null||ct===void 0?void 0:ct.enableFeedbackClientSideScreenshot,!0),bg=t(ct===null||ct===void 0?void 0:ct.enablePrivacyConsent,!0),kg=t(ct===null||ct===void 0?void 0:ct.syntheticStreamSpeed,at),dg=t(ct===null||ct===void 0?void 0:ct.disableShareWithNoMargin,!1),gg=t(ct===null||ct===void 0?void 0:ct.enableCreativeLandingPage,!1),nn=t(ct===null||ct===void 0?void 0:ct.enableServerLogMerging,!0),so=t(ct===null||ct===void 0?void 0:ct.enableOneClickCopy,!1),ho=t(ct===null||ct===void 0?void 0:ct.enableReorderCopiedTextReferences,!1),co=t(ct===null||ct===void 0?void 0:ct.enableCodeCopy,!0),ns=t(ct===null||ct===void 0?void 0:ct.enableUserMessageCopy,!0),ts=t(ct===null||ct===void 0?void 0:ct.enableRichTextPaste,!1),rs=t(ct===null||ct===void 0?void 0:ct.enablePasteMarkdownTable,!1),us=t(ct===null||ct===void 0?void 0:ct.enablePasteMath,!1),tn=t(ct===null||ct===void 0?void 0:ct.enableMobileOneClickShare,!1),rn=t(ct===null||ct===void 0?void 0:ct.enableFeedbackInstrumentation,!0),un=t(ct===null||ct===void 0?void 0:ct.enableSuggEndFix,!1),fn=t(ct===null||ct===void 0?void 0:ct.enableAutoRecoverFromInvalidSession,!0),en=t(ct===null||ct===void 0?void 0:ct.enableAutoRecoverFromInvalidSessionForFirstTurn,!0),fs=t(ct===null||ct===void 0?void 0:ct.enableInlineFeedback,!0),es=t(ct===null||ct===void 0?void 0:ct.enableInlineFeedbackV2,!1),ls=t(ct===null||ct===void 0?void 0:ct.enableInlineFeedbackV21,!0),as=t(ct===null||ct===void 0?void 0:ct.enableFeedbackCollectMoreInfo,!0),vs=t(ct===null||ct===void 0?void 0:ct.enableSerpFeedback,!0),ys=t(ct===null||ct===void 0?void 0:ct.enableMessageSave,!1),ps=t(ct===null||ct===void 0?void 0:ct.enableMoreOnBotMessageActionsBar,!1),ks=t(ct===null||ct===void 0?void 0:ct.enableMessageExport,!1),ih=t(ct===null||ct===void 0?void 0:ct.enableMessageExportWithPlainText,!1),lh=t(ct===null||ct===void 0?void 0:ct.enableHandoffAPI,!0),ah=t(ct===null||ct===void 0?void 0:ct.enableGetTokenInAdvance,!1),vh=t(ct===null||ct===void 0?void 0:ct.enableRedirectUriFunction,!1),ph=t(ct===null||ct===void 0?void 0:ct.enableMsalLocalStorageCache,!0),wh=t(ct===null||ct===void 0?void 0:ct.enableMsalDifferentAuthority,!0),bh=t(ct===null||ct===void 0?void 0:ct.enableMsalStoreAuthInCookie,!1),gh=t(ct===null||ct===void 0?void 0:ct.enableSearchOnBingForBotMessage,!1),nc=t(ct===null||ct===void 0?void 0:ct.enableSearchIconForSearchOnBing,!1),tc=t(ct===null||ct===void 0?void 0:ct.enableScopeRowForTable,!0),ic=t(ct===null||ct===void 0?void 0:ct.enableMarkdownTableV2,!1),on=t(ct===null||ct===void 0?void 0:ct.enableSearchOnBingInLinkHoverCard,!1),sn=t(ct===null||ct===void 0?void 0:ct.enableLearnMoreCitationWithArrow,!1),hn=t(ct===null||ct===void 0?void 0:ct.enablePromotionItemCitationWithArrow,!1),cn=t(ct===null||ct===void 0?void 0:ct.enableLinkCitationWithArrow,!1),rc=t(ct===null||ct===void 0?void 0:ct.enableExportBlockDialog,!1),uc=t(ct===null||ct===void 0?void 0:ct.enableMessageExportOnlineWord,!0),ln=t(ct===null||ct===void 0?void 0:ct.enableMessageExportWord,!1),ec=t(ct===null||ct===void 0?void 0:ct.enableMessageExportOnlineExcel,!0),oc=t(ct===null||ct===void 0?void 0:ct.enableMessageExportLocalExcel,!1),sc=t(ct===null||ct===void 0?void 0:ct.enableTableBarFlatActions,!0),an=t(ct===null||ct===void 0?void 0:ct.enableThreadExportLocalWord,!1),hc=t(ct===null||ct===void 0?void 0:ct.enableThreadExportOnlineWord,!0),cc=t(ct===null||ct===void 0?void 0:ct.enableMessageExportV2,!0),lc=t(ct===null||ct===void 0?void 0:ct.enableBotMessageActionsBar,!0),ac=t(ct===null||ct===void 0?void 0:ct.enableShorterToastDuration,!1),vc=t(ct===null||ct===void 0?void 0:ct.enableDirectlyOpenExportOnlineLink,!0),yc=t(ct===null||ct===void 0?void 0:ct.enableTonePreview,!1),pc=t(ct===null||ct===void 0?void 0:ct.enableMSAuth1stPartyApp,!0),wc=t(ct===null||ct===void 0?void 0:ct.enableAdsRedirectLinkForTextMessage,!1),bc=t(ct===null||ct===void 0?void 0:ct.enableCopyHtml,!0),kc=t(ct===null||ct===void 0?void 0:ct.enableCopyHtmlWithHighlightedCode,!1),dc=t(ct===null||ct===void 0?void 0:ct.enableExportPdfWithAnswerScreenshot,!1),gc=t(ct===null||ct===void 0?void 0:ct.enableExportDocxWithAnswerScreenshot,!1),nl=t(ct===null||ct===void 0?void 0:ct.enableLibrariesSplitImport,!1),tl=t(ct===null||ct===void 0?void 0:ct.enableFlatActionBar,!1),il=t(ct===null||ct===void 0?void 0:ct.codexMUIDUser,!1),rl=t(ct===null||ct===void 0?void 0:ct.enableChatIconClickable,!1),ul=t(ct===null||ct===void 0?void 0:ct.enableChatQueryClickable,!1),fl=t(ct===null||ct===void 0?void 0:ct.enableChatQueryClickableV2,!1),sl=t(ct===null||ct===void 0?void 0:ct.enableChatQueryClickableV3,!1),hl=t(ct===null||ct===void 0?void 0:ct.enableChatQueryClickableV4,!1),vn=t(ct===null||ct===void 0?void 0:ct.enableThreadOnlyFromSignal,!0),cl=t(ct===null||ct===void 0?void 0:ct.enableShareQuestionWithResponse,!1),ll=t(ct===null||ct===void 0?void 0:ct.enableShareQuestionTitlePrefix,!1),al=t(ct===null||ct===void 0?void 0:ct.enableShareInlineAdsIframe,!1),vl=t(ct===null||ct===void 0?void 0:ct.enableShareToMyBing,!1),yi=t(ct===null||ct===void 0?void 0:ct.enableShareLinkPreviewForNative,!0),yl=t(ct===null||ct===void 0?void 0:ct.enableShareOverlay,!0),pl=t(ct===null||ct===void 0?void 0:ct.enableShowShareButtonWithSecurityCheck,!0),wl=t(ct===null||ct===void 0?void 0:ct.enableScreenshotIgnoreOnCibSerp,!1),bl=t(ct===null||ct===void 0?void 0:ct.enableStandaloneUtility,!1),kl=t(ct===null||ct===void 0?void 0:ct.enableCPPRRUpsell,!1),dl=t(ct===null||ct===void 0?void 0:ct.enableWelcomeCopilotProButton,!1),gl=t(ct===null||ct===void 0?void 0:ct.enableCopilotProUpsellDimeV2,!1),na=t(ct===null||ct===void 0?void 0:ct.enableCopilotProOverlay,!1),ta=t(ct===null||ct===void 0?void 0:ct.enableCopilotProOverlayCloseButton,!1),ia=t(ct===null||ct===void 0?void 0:ct.enableCopilotProSpectrumTemplate,!1),ra=t(ct===null||ct===void 0?void 0:ct.enableCopilotProPersistentTemplate,!1),ua=t(ct===null||ct===void 0?void 0:ct.copilotProPersistentTitle,u),fa=t(ct===null||ct===void 0?void 0:ct.CopilotProPersistentSubTitle,u),n.enableCreatorSendQueryWhenShowConvQuery=t(ct===null||ct===void 0?void 0:ct.enableCreatorSendQueryWhenShowConvQuery,!0),n.padding2TMobile=t(ct===null||ct===void 0?void 0:ct.padding2TMobile,80),fr=t(ct===null||ct===void 0?void 0:ct.enableSetConvQueryFlag,!0),v=t((w=_w._sydConvTranslation)===null||w===void 0?void 0:w.pageTitleText,u),tt=document.title||u,y=p?ke:pi,n.enableConvModeSwitchAjax=t(ct===null||ct===void 0?void 0:ct.enableConvModeSwitchAjax,!1),n.enableBingChatPath=t(ct===null||ct===void 0?void 0:ct.enableBingChatPath,!1),yn=t(ct===null||ct===void 0?void 0:ct.enableGetChats,!1),pn=t(ct===null||ct===void 0?void 0:ct.enableDelayGetChats,!0),ea=t(ct===null||ct===void 0?void 0:ct.enableNewTables,!1),wn=t(ct===null||ct===void 0?void 0:ct.codexTableVersion,1),oa=t(ct===null||ct===void 0?void 0:ct.enableBufferMessage,!1),sa=t(ct===null||ct===void 0?void 0:ct.enableBufferLoadingDots,!1),ha=t(ct===null||ct===void 0?void 0:ct.enableServerMetaText,!1),ca=t(ct===null||ct===void 0?void 0:ct.enableCodeInterpreterPreviewCode,!1),bi=t(ct===null||ct===void 0?void 0:ct.enableGptForMobileBrowser,!1),la=t(ct===null||ct===void 0?void 0:ct.enable3PGptForMobileBrowser,!1),aa=t(ct===null||ct===void 0?void 0:ct.enableGptForMobileUnderside,!1),va=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorItemContextMenuFor1P,!1),ya=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorDeprecationAlert,!1),bn=t(ct===null||ct===void 0?void 0:ct.enableGPTCreator,!1),kn=t(ct===null||ct===void 0?void 0:ct.enableGptWelcomeInitLoad,!1),dn=t(ct===null||ct===void 0?void 0:ct.enableGptBuilderAction,!1),gn=t(ct===null||ct===void 0?void 0:ct.isGptCreator,!1),pa=t(ct===null||ct===void 0?void 0:ct.gptCreatorCopilotCreatorPath,hf),wa=t(ct===null||ct===void 0?void 0:ct.gptCreatorBingPreviewPath,oi),ba=t(ct===null||ct===void 0?void 0:ct.gptCreatorSharePath,oi),ka=t(ct===null||ct===void 0?void 0:ct.enableMock3PGpts,!1),da=t(ct===null||ct===void 0?void 0:ct.enableGPTCreatorCreateGptPreview,!0),ntt=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorPreviewAutoSave,!1),ttt=t(ct===null||ct===void 0?void 0:ct.enableGptBuilderBottomBackgroundForCreatePanel,!1),itt=t(ct===null||ct===void 0?void 0:ct.enableOrderForCustomGreetings,!1),rtt=t(ct===null||ct===void 0?void 0:ct.enableCopilotCharacter,!1),utt=t(ct===null||ct===void 0?void 0:ct.enableEmoteJSErrorFix,!1),ftt=t(ct===null||ct===void 0?void 0:ct.enableCharacterLipSync,!1),ett=t(ct===null||ct===void 0?void 0:ct.enableCharacterTap,!1),ott=t(ct===null||ct===void 0?void 0:ct.enableCharacterCmcFix,!1),stt=t(ct===null||ct===void 0?void 0:ct.emoteDriverJsUrl,u),htt=t(ct===null||ct===void 0?void 0:ct.emotePlayerJsUrl,u),ctt=t(ct===null||ct===void 0?void 0:ct.freeSydneyMicaAnimatedImgUrl,u),ga=t(ct===null||ct===void 0?void 0:ct.disableSuggestionsInCustomGpt,!1),nv=t(ct===null||ct===void 0?void 0:ct.enableThreadsForAllGpts,!1),tv=t(ct===null||ct===void 0?void 0:ct.enableBingGptUploadFileAPI,!1),iv=t(ct===null||ct===void 0?void 0:ct.enableOptimizedStreaming,!1),ltt=t(ct===null||ct===void 0?void 0:ct.enableExportDocxWithFormat,!0),att=t(ct===null||ct===void 0?void 0:ct.enableDisposeOrphanedHosts,!1),vtt=t(ct===null||ct===void 0?void 0:ct.enablePreserveTextFormat,!0),ytt=t(ct===null||ct===void 0?void 0:ct.enableHoverCardOnLearnMorePills,!0),ptt=t(ct===null||ct===void 0?void 0:ct.enableShareOnHostMessage,!1),wtt=t(ct===null||ct===void 0?void 0:ct.disablePassBotGreetingInContext,!0),rv=t(ct===null||ct===void 0?void 0:ct.enableThreadContextMenu,!1),btt=t(ct===null||ct===void 0?void 0:ct.enableCloudflareCaptcha,!0),ktt=t(ct===null||ct===void 0?void 0:ct.enableInvisibleCaptchaChallenge,!1),dtt=t(ct===null||ct===void 0?void 0:ct.enableKnowledgeCardImage,!0),uv=t(ct===null||ct===void 0?void 0:ct.enableStartPromotion,!0),gtt=t(ct===null||ct===void 0?void 0:ct.enableCopyButtonInstrumented,!0),fv=t(ct===null||ct===void 0?void 0:ct.enableThreads,!1),nit=t(ct===null||ct===void 0?void 0:ct.enableThreadSync,!1),tit=t(ct===null||ct===void 0?void 0:ct.enableMobileKnowledgeCardOverlay,!0),iit=t(ct===null||ct===void 0?void 0:ct.enableCibOverlayForKnowledgeCard,!0),rit=t(ct===null||ct===void 0?void 0:ct.enableKCAdaptiveCardUpdate,!0),uit=t(ct===null||ct===void 0?void 0:ct.enableKCInChatClickThroughRequery,!1),fit=t(ct===null||ct===void 0?void 0:ct.enablePluginsByTone,!1),ev=t(ct===null||ct===void 0?void 0:ct.disableWelcomeScreen,!1),eit=t(ct===null||ct===void 0?void 0:ct.enableWelcomeScreenV2,!1),oit=t(ct===null||ct===void 0?void 0:ct.enableWelcomeScreenV3,!1),sit=t(ct===null||ct===void 0?void 0:ct.enableChatFRE,!1),ov=t(ct===null||ct===void 0?void 0:ct.disableZIRMSStart,!1),sv=t(ct===null||ct===void 0?void 0:ct.enableWebPageContextMessages,!1),hit=t(ct===null||ct===void 0?void 0:ct.enableCodexPluginb,!1),cit=t(ct===null||ct===void 0?void 0:ct.enableNewAutoSuggestEndPoint,!1),lit=t(ct===null||ct===void 0?void 0:ct.enable2TQueryConfigsOnSerpLoad,!1),ait=t(ct===null||ct===void 0?void 0:ct.enableSydStaticAdsLink,!1),vit=t(ct===null||ct===void 0?void 0:ct.isMobileHost,!1),hv=t(ct===null||ct===void 0?void 0:ct.enableMessagePrivacy,!1),yit=t(ct===null||ct===void 0?void 0:ct.enableNoSecondaryUseMessagePrivacy,!1),pit=t(ct===null||ct===void 0?void 0:ct.enableMsalv3,!1),wit=t(ct===null||ct===void 0?void 0:ct.enableResponseRetentionOnNetworkError,!1),cv=t(ct===null||ct===void 0?void 0:ct.enableCloseShareOnClickOutside,!1),bit=t(ct===null||ct===void 0?void 0:ct.enableTypingIndicatorForSerpSlotCreator,!1),kit=t(ct===null||ct===void 0?void 0:ct.enableOnProcessingStartEvent,!0),dit=t(ct===null||ct===void 0?void 0:ct.enableOnProcessingCompleteEvent,!0),lv=t(ct===null||ct===void 0?void 0:ct.enableUpdateProfile,!1),git=t(ct===null||ct===void 0?void 0:ct.enableTypewriter,!0),av=t(ct===null||ct===void 0?void 0:ct.sydRequestSource,u),nrt=t(ct===null||ct===void 0?void 0:ct.enableConfirmPromptSingleDeleteThread,!1),trt=!t(ct===null||ct===void 0?void 0:ct.disableTooltip,!0),irt=t(ct===null||ct===void 0?void 0:ct.enableNewlineTooltip,!1),rrt=t(ct===null||ct===void 0?void 0:ct.enableAcAnchorUnderline,!1),urt=t(ct===null||ct===void 0?void 0:ct.enableSaharaStream,!1),frt=t(ct===null||ct===void 0?void 0:ct.enableFaviconsV2,!0),ert=t(ct===null||ct===void 0?void 0:ct.enableFaviconsAutoRefresh,!1),ort=t(ct===null||ct===void 0?void 0:ct.enableCachedContentFixForIsStartOfSession,!0),srt=t(ct===null||ct===void 0?void 0:ct.enableLooseMessageDensity,!1),hrt=t(ct===null||ct===void 0?void 0:ct.enablePassSydedgForMobile,!1),crt=t(ct===null||ct===void 0?void 0:ct.enableLinkPreviewCarousel,!1),lrt=t(ct===null||ct===void 0?void 0:ct.useFakeDataForLinkPreviewCarousel,!1),art=t(ct===null||ct===void 0?void 0:ct.enableThreadShowPlugins,!0),vrt=t(ct===null||ct===void 0?void 0:ct.enableUserMessageIdConsistency,!1),yrt=t(ct===null||ct===void 0?void 0:ct.enablePluginPanelFre,!1),prt=t(ct===null||ct===void 0?void 0:ct.enablePersistentInputText,!0),vv=t(ct===null||ct===void 0?void 0:ct.enableEmptyThreadTime,!1),wrt=t(ct===null||ct===void 0?void 0:ct.enableRenderIframeCardRequest,!1),yv=t(ct===null||ct===void 0?void 0:ct.enableBackendExportService,!1),brt=t(ct===null||ct===void 0?void 0:ct.enableFastChatLoadAnimation,!1),krt=t(ct===null||ct===void 0?void 0:ct.enableShareInThreadsHeader,!0),drt=t(ct===null||ct===void 0?void 0:ct.enableNewConversationActivate,!1),grt=t(ct===null||ct===void 0?void 0:ct.enableMessageTypeCheck,!0),pv=t(ct===null||ct===void 0?void 0:ct.enableSydneyGetMessagesHub,!1),nut=t(ct===null||ct===void 0?void 0:ct.enableInlinePersonalizationConsent,!1),tut=t(ct===null||ct===void 0?void 0:ct.enableInlinePersonalizationConsentCopilotLogo,!0),iut=t(ct===null||ct===void 0?void 0:ct.enableInlinePersonalizationConsentCallback,!1),rut=t(ct===null||ct===void 0?void 0:ct.personalizationInlineConsentTurn,wf),uut=t(ct===null||ct===void 0?void 0:ct.noTrainingNoticeVisitCountIncrement,bf),wv=t(ct===null||ct===void 0?void 0:ct.enableEduStarterMessage,!1),fut=t(ct===null||ct===void 0?void 0:ct.enableEduStarterMessageAnimation,!1),eut=t(ct===null||ct===void 0?void 0:ct.enablePhonePlugin,!1),out=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginDogfoodEnvironment,!1),sut=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginBetaEnvironment,!1),hut=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginProductionEnvironment,!0),cut=t(ct===null||ct===void 0?void 0:ct.disablePhonePluginInPreciseTone,!1),lut=t(ct===null||ct===void 0?void 0:ct.disablePhonePluginInBalancedTone,!1),aut=t(ct===null||ct===void 0?void 0:ct.disablePhonePluginInCreativeTone,!1),vut=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginInPreciseTone,!1),yut=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginInBalancedTone,!1),put=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginInCreativeTone,!1),wut=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginCatalogId,!0),but=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginSemanticSearch,!1),kut=t(ct===null||ct===void 0?void 0:ct.enableUseStoreAsSourceForPhonePlugin,!1),dut=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginCatalog,!0),gut=t(ct===null||ct===void 0?void 0:ct.enablePhonePluginDirectPopupAuth,!1),nft=t(ct===null||ct===void 0?void 0:ct.enableAndroidCopilotV2,!1),tft=t(ct===null||ct===void 0?void 0:ct.enableDonationPlugin,!1),ift=t(ct===null||ct===void 0?void 0:ct.enableDonationPluginDogfood,!1),rft=t(ct===null||ct===void 0?void 0:ct.enableDonationPluginProd,!1),uft=t(ct===null||ct===void 0?void 0:ct.enablePrivacyProtectedConversation,!1),fft=t(ct===null||ct===void 0?void 0:ct.enableNoSecondaryUseProtectedConversation,!1),eft=t(ct===null||ct===void 0?void 0:ct.enableAdaptiveCardMessage,!0),bv=t(ct===null||ct===void 0?void 0:ct.enableVersionedApiCalls,!0),kv=t(ct===null||ct===void 0?void 0:ct.enableAddNotebookSource,!1),dv=t(ct===null||ct===void 0?void 0:ct.enableJWTFTRFix,!0),oft=t(ct===null||ct===void 0?void 0:ct.enablePaywallTelemetryFix,!1),sft=t(ct===null||ct===void 0?void 0:ct.enableNoBingSearchResponseBackground,!0),hft=t(ct===null||ct===void 0?void 0:ct.enableSettingsToggle,!1),cft=t(ct===null||ct===void 0?void 0:ct.enableSettingsToggleTop,!1),lft=t(ct===null||ct===void 0?void 0:ct.enableTurboTone,!1),gv=t(ct===null||ct===void 0?void 0:ct.enableOpenEdgeNotification,!1),ny=t(ct===null||ct===void 0?void 0:ct.enableSuppressSigninMessage,!1),aft=t(ct===null||ct===void 0?void 0:ct.enableRereadMetaAcc,!0),vft=t(ct===null||ct===void 0?void 0:ct.enableCodexLog,!1),yft=t(ct===null||ct===void 0?void 0:ct.enableKeyboardNav,!0),pft=t(ct===null||ct===void 0?void 0:ct.enablePreRequestSydneyLog,!1),wft=t(ct===null||ct===void 0?void 0:ct.enableToneSelectorA11yFitAndFinish,!1),bft=t(ct===null||ct===void 0?void 0:ct.disableDisengagedErrorLog,!0),kft=t(ct===null||ct===void 0?void 0:ct.enableExpandSeeMoreContainerOnFocusIn,!0),ty=t(ct===null||ct===void 0?void 0:ct.enableExportPdfWithRichFormat,!1),iy=t(ct===null||ct===void 0?void 0:ct.enableThreadsConsent,!1),dft=t(ct===null||ct===void 0?void 0:ct.enableMutedThreadsConsent,!0),ry=t(ct===null||ct===void 0?void 0:ct.enableDeleteSingleConversationMemory,!0),gft=t(ct===null||ct===void 0?void 0:ct.enableThreadsTopRightButton,!1),net=t(ct===null||ct===void 0?void 0:ct.enablePluginsTopRightButton,!1),uy=t(ct===null||ct===void 0?void 0:ct.enableOneDs,!1),tet=t(ct===null||ct===void 0?void 0:ct.enableBceMuidConsent,!1),iet=t(ct===null||ct===void 0?void 0:ct.enableBfbCookieConsent,!1),fy=t(ct===null||ct===void 0?void 0:ct.enableThreadContextMenuV2,!0),ey=t(ct===null||ct===void 0?void 0:ct.enableSearchBoxAutoFocus,!1),oy=t(ct===null||ct===void 0?void 0:ct.enableUserMessageRewriteInsteadOfCopy,!1),sy=t(ct===null||ct===void 0?void 0:ct.enableUserMessageRewriteAndCopy,!0),hy=t(ct===null||ct===void 0?void 0:ct.enableSendFeedback,!1),cy=t(ct===null||ct===void 0?void 0:ct.enableSearchUserMessageOnBing,!0),ly=t(ct===null||ct===void 0?void 0:ct.enableEditLastUserMessage,!1),ay=t(ct===null||ct===void 0?void 0:ct.enableHideLastUserMessageInEdit,!1),vy=t(ct===null||ct===void 0?void 0:ct.enablePrivateThreadDefaultTitle,!1),yy=t(ct===null||ct===void 0?void 0:ct.enablePromptHandling,!0),ret=t(ct===null||ct===void 0?void 0:ct.enableU18Scenario,!1),dt=t(ct===null||ct===void 0?void 0:ct.isCCP,!1),uet=t(ct===null||ct===void 0?void 0:ct.enablePluginDevTools,!1),fet=t(ct===null||ct===void 0?void 0:ct.enablePluginCSRF,!1),py=t(ct===null||ct===void 0?void 0:ct.enableModeAndSlotValidationForAds,!1),eet=t(ct===null||ct===void 0?void 0:ct.enableLogNoChatVariant,!1),oet=t(ct===null||ct===void 0?void 0:ct.enableVersionPrompt,!1),set=t(ct===null||ct===void 0?void 0:ct.enableAttributionsV2,!0),het=t(ct===null||ct===void 0?void 0:ct.enableLearnMoreCards,!1),cet=t(ct===null||ct===void 0?void 0:ct.enableSentByDescriptor,!0),wy=t(ct===null||ct===void 0?void 0:ct.enableInlineComponents,!1),by=t(ct===null||ct===void 0?void 0:ct.enableSuggestionChipDisplayText,!0),aet=t(ct===null||ct===void 0?void 0:ct.enableLinkPreviewFailureTelemetry,!1),vet=t(ct===null||ct===void 0?void 0:ct.enableLinkPreviewAppIdV2,!1),ki=t(ct===null||ct===void 0?void 0:ct.enableWpFluxTwoTAnswerCard,!1),yet=t(ct===null||ct===void 0?void 0:ct.disableWpFluxTwoTAnswerCardFallback,!1),pet=t(ct===null||ct===void 0?void 0:ct.enableBICRelativeBaseUrl,!1),wet=t(ct===null||ct===void 0?void 0:ct.isCopilotChat,!1),bet=t(ct===null||ct===void 0?void 0:ct.enableCitationsOnSentences,!0),ky=t(ct===null||ct===void 0?void 0:ct.enableWelcomeItemEnterAnimation,!1),dy=t(ct===null||ct===void 0?void 0:ct.enableToneSelectorAsDropdown,!1),gy=t(ct===null||ct===void 0?void 0:ct.enableSidePanelPositionInlineStart,!1),np=t(ct===null||ct===void 0?void 0:ct.enableSidePanelAsPersistent,!1),tp=t(ct===null||ct===void 0?void 0:ct.enableSidePanelVisibilityTrigger,!1),ip=t(ct===null||ct===void 0?void 0:ct.enableSidePanelCustomScrollbar,!1),rp=t(ct===null||ct===void 0?void 0:ct.enableConversationCustomScrollbar,!1),up=t(ct===null||ct===void 0?void 0:ct.enableConversationAlignmentTop,!1),fp=t(ct===null||ct===void 0?void 0:ct.enableSimpleCopilotWelcomeScreen,!1),ep=t(ct===null||ct===void 0?void 0:ct.enableThreadsHoverDescriptor,!1),ket=t(ct===null||ct===void 0?void 0:ct.enableAnswerCards,!0),op=t(ct===null||ct===void 0?void 0:ct.enableMessagesWithInternalLoadAnimation,!1),sp=t(ct===null||ct===void 0?void 0:ct.enableHideRAISuggestionIcon,!0),hp=t(ct===null||ct===void 0?void 0:ct.enableMuidDisabledSuggestionBar,!0),cp=t(ct===null||ct===void 0?void 0:ct.enableHideSuggestionOnErrors,!0),lp=t(ct===null||ct===void 0?void 0:ct.enableConversationToActionBarFocusOrder,!1),ap=t(ct===null||ct===void 0?void 0:ct.enableBufferClearOnReset,!0),vp=t(ct===null||ct===void 0?void 0:ct.enableCancelPendingRequestOnNewMessage,!0),det=t(ct===null||ct===void 0?void 0:ct.enablePluginChatModeOnly,!0),yp=t(ct===null||ct===void 0?void 0:ct.enableThreadsArrowNav,!0),pp=t(ct===null||ct===void 0?void 0:ct.disableTitlePreviewLabel,!0),wp=t(ct===null||ct===void 0?void 0:ct.disableTurnCount,!1),bp=t(ct===null||ct===void 0?void 0:ct.enableMultiDomainBIC,!0),kp=t(ct===null||ct===void 0?void 0:ct.allowedBICDomains,"https://copilot.microsoft.com,https://www.bing.com"),get=t(ct===null||ct===void 0?void 0:ct.enableDeferGetConversation,!0),not=t(ct===null||ct===void 0?void 0:ct.enableBingProxyApiForSingleDeleteInThreads,!1),hr=n.getConfigOrDefault((b=_w._sydConvConfig)===null||b===void 0?void 0:b.extraNotebookOptionsSets,af),tot=t(ct===null||ct===void 0?void 0:ct.enableSilentUpdateConversationFail,!1),dp=t(ct===null||ct===void 0?void 0:ct.enableGraphicArtJsonResponse,!1),iot=t(ct===null||ct===void 0?void 0:ct.enableStartConvFixInShareConversationMode,!1),rot=t(ct===null||ct===void 0?void 0:ct.enableInlineTwoTAnswer,!1),gp=t(ct===null||ct===void 0?void 0:ct.enableFreeSydney,!1),uot=t(ct===null||ct===void 0?void 0:ct.enable1P3PGPTsGreeting,!1),nw=t(ct===null||ct===void 0?void 0:ct.enableShortShareUrl,!0),fot=t(ct===null||ct===void 0?void 0:ct.defaultMaxPersonaCount,6),gt=t(ct===null||ct===void 0?void 0:ct.isBingUserSignedIn,!1),ii=t(ct===null||ct===void 0?void 0:ct.enableFlux3P,!1),eot=t(ct===null||ct===void 0?void 0:ct.f3pMsaAccountOnly,!0),oot=t(ct===null||ct===void 0?void 0:ct.enablePluginBCE,!1),sot=t(ct===null||ct===void 0?void 0:ct.enableF3pNoSearchBgFix,!0),hot=t(ct===null||ct===void 0?void 0:ct.enablePluginCopilot,!1),cot=t(ct===null||ct===void 0?void 0:ct.enableSearchPluginOnTop,!0),lot=t(ct===null||ct===void 0?void 0:ct.topListedPluginIds,""),aot=t(ct===null||ct===void 0?void 0:ct.enablePluginDiscovery,!1),vot=t(ct===null||ct===void 0?void 0:ct.enablePluginSendLocaleInfo,!1),yot=t(ct===null||ct===void 0?void 0:ct.enablePluginsV1,!0),tw=t(ct===null||ct===void 0?void 0:ct.enableSunoPluginInChatRecommendation,!1),pot=t(ct===null||ct===void 0?void 0:ct.disableTierLoadBalancingCall,!1),wot=t(ct===null||ct===void 0?void 0:ct.isUnionClient,!1),iw=t(ct===null||ct===void 0?void 0:ct.enableInstService,!1),bot=t(ct===null||ct===void 0?void 0:ct.enablePluginRevocation,!1),kot=t(ct===null||ct===void 0?void 0:ct.enableSearchPlugins,!1),rw=t(ct===null||ct===void 0?void 0:ct.sydneyFeedbackVertical,lf),dot=t(ct===null||ct===void 0?void 0:ct.enableUndersideTopRightButtonBugFix,!0),uw=t(ct===null||ct===void 0?void 0:ct.enableEnterToCreateNewLine,!1),got=t(ct===null||ct===void 0?void 0:ct.enableUpdateLocationButton,!1),nst=t(ct===null||ct===void 0?void 0:ct.enableLocationMetaMessage,!1),tst=t(ct===null||ct===void 0?void 0:ct.enableNavigatorPermissionCheck,!1),ist=t(ct===null||ct===void 0?void 0:ct.enablePromptDirectlyForLocation,!1),fw=t(ct===null||ct===void 0?void 0:ct.enableTextMessageDelayedFinalization,!1),ew=t(ct===null||ct===void 0?void 0:ct.enableNewTopicButtonFeature,!1),rst=t(ct===null||ct===void 0?void 0:ct.enableFullScreenIframe,!0),ust=t(ct===null||ct===void 0?void 0:ct.enablePartiallyCoveringDialogForFullScreenIframe,!1),fst=t(ct===null||ct===void 0?void 0:ct.enableDelayedMsgHandlerDisposal,!0),ow=t(ct===null||ct===void 0?void 0:ct.enableChangeSidePanelVisibility,!1),est=t(ct===null||ct===void 0?void 0:ct.enableMuidRobustnessFix,!1),ost=t(ct===null||ct===void 0?void 0:ct.enableRaiButtonTooltip,!0),sst=t(ct===null||ct===void 0?void 0:ct.enableResetFocusLossFix,!0),hst=t(ct===null||ct===void 0?void 0:ct.disableTurnCountLocalAccount,!1),cst=t(ct===null||ct===void 0?void 0:ct.isTurnCountLocalAccountDisabled,!1),sw=t(ct===null||ct===void 0?void 0:ct.enableWindowsCopilot,!1),lst=t(ct===null||ct===void 0?void 0:ct.enableCaptchaCmcUrl,!1),hw=t(ct===null||ct===void 0?void 0:ct.codexHoverCardDelayTimerDuration,10),ast=t(ct===null||ct===void 0?void 0:ct.enableCitationSuperscriptFix,!0),vst=t(ct===null||ct===void 0?void 0:ct.enableTopAlignConversation,!0),yst=t(ct===null||ct===void 0?void 0:ct.enableHideZeroTurn,!0),pst=t(ct===null||ct===void 0?void 0:ct.enableMessageGroupHeader,!0),wst=t(ct===null||ct===void 0?void 0:ct.enableFullWidthMessages,!0),bst=t(ct===null||ct===void 0?void 0:ct.enableInlineStreamingIndicator,!0),kst=t(ct===null||ct===void 0?void 0:ct.enableDefaultBalancedtone,!1),dst=t(ct===null||ct===void 0?void 0:ct.enableMultilineSuggestions,!0),gst=t(ct===null||ct===void 0?void 0:ct.enableAdaptiveCardImageForCodeInterpreter,!1),nht=t(ct===null||ct===void 0?void 0:ct.enableCodePreviewInFooter,!1),tht=t(ct===null||ct===void 0?void 0:ct.enableProgressMessageForBce,!1),iht=t(ct===null||ct===void 0?void 0:ct.enableStackedSuggestionChips,!1),cw=t(ct===null||ct===void 0?void 0:ct.enableMoveThreadActionsInsideContextMenu,!1),rht=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.enableTierLoadBalancing,!0),uht=t(ct===null||ct===void 0?void 0:ct.enableLocaleInfoForChatHub,!1),fht=t(ct===null||ct===void 0?void 0:ct.enableLoadConvTheme,!1),eht=t(ct===null||ct===void 0?void 0:ct.enableEarlyCancellations,!1),lw=t(ct===null||ct===void 0?void 0:ct.enableNoTrainNotification,!1),aw=t(ct===null||ct===void 0?void 0:ct.enablePreProactivePanelPosition,!1),oht=t(ct===null||ct===void 0?void 0:ct.enableRegisterContextAsync,!1),sht=t(ct===null||ct===void 0?void 0:ct.enableEdgeContextualPlugin,!1),hht=t(ct===null||ct===void 0?void 0:ct.enableShorelineStrongStyle,!1),cht=t(ct===null||ct===void 0?void 0:ct.enableStreamingInBackground,!0),lht=t(ct===null||ct===void 0?void 0:ct.enableBGStreamInChat,!1),aht=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorConfigurePanelCodeInterpreter,!1),vht=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorConfigurePanelIconUpload,!1),yht=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorConfigurePanelIconGenerated,!1),pht=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorConfigurePanelIconExternalStorage,!1),wht=t(ct===null||ct===void 0?void 0:ct.enableGptCreatorConfigurePanelEmptyDescriptionError,!1),vw=t(ct===null||ct===void 0?void 0:ct.enableGPTCreatorBCE,!1),bht=t(ct===null||ct===void 0?void 0:ct.enable3PGPTPublishProvenance,!1),kht=t(ct===null||ct===void 0?void 0:ct.userAnID,u),dht=t(ct===null||ct===void 0?void 0:ct.disableGptCrtVisualSearchapi,!1),ght=t(ct===null||ct===void 0?void 0:ct.enableFaqBcc,!0),nct=t(ct===null||ct===void 0?void 0:ct.enableFaqBce,!0),yw=t(ct===null||ct===void 0?void 0:ct.faqBccBceUrl,ef),tct=t(ct===null||ct===void 0?void 0:ct.enableAttributionsV2MoreButton,!0),ict=t(ct===null||ct===void 0?void 0:ct.enable2TScrollToBottom,!1),pw=t(ct===null||ct===void 0?void 0:ct.enableThumbsDownToSearchOnBing,!0),ww=t(ct===null||ct===void 0?void 0:ct.enableThreadContextMenuA11yBugFix,!0),bw=t(ct===null||ct===void 0?void 0:ct.enableSRA11yFix,!0),kw=t(ct===null||ct===void 0?void 0:ct.enableStopStreamingSignal,!0),rct=t(ct===null||ct===void 0?void 0:ct.enableStartOfSessionFix,!1),uct=t(ct===null||ct===void 0?void 0:ct.enableGhostedAutoSuggest,!0),dw=t(ct===null||ct===void 0?void 0:ct.codexCanvas,cf),gw=t(ct===null||ct===void 0?void 0:ct.enableMetaFlowTasksMessage,!1),fct=t(ct===null||ct===void 0?void 0:ct.enableHostedContentToneSignal,!1),ect=t(ct===null||ct===void 0?void 0:ct.enableHostedContentPartnerSignal,!1),oct=t(ct===null||ct===void 0?void 0:ct.enableThreadZiFix,!0),sct=t(ct===null||ct===void 0?void 0:ct.enableDeleteAllThreads,!1),hct=t(ct===null||ct===void 0?void 0:ct.enableInternalSearchQueryReadout,!0),cct=t(ct===null||ct===void 0?void 0:ct.enableFixReponseReadout,!0),lct=t(ct===null||ct===void 0?void 0:ct.enableThreadNameReadout,!0),nb=t(ct===null||ct===void 0?void 0:ct.enableInlineButtonAdaptiveCardUpdate,!1),act=t((g=_w._udsSydConfig)===null||g===void 0?void 0:g.EnableMobileChat,!1),tb=t((nt=_w._udsSydConfig)===null||nt===void 0?void 0:nt.EnableEdgeMobileAadChat,!1),ib=t(ct===null||ct===void 0?void 0:ct.enableFeedbackCaptureFix,!0),di=t(ct===null||ct===void 0?void 0:ct.enableSerpFeedbackContactMeAndAlias,!1),rb=t(ct===null||ct===void 0?void 0:ct.enableSerpFeedbackDialogV2,!1),vct=t(ct===null||ct===void 0?void 0:ct.disableGptsOnMobile,!1),yct=t(ct===null||ct===void 0?void 0:ct.enableSubmitImageWithQueryHidden,!1),pct=t(ct===null||ct===void 0?void 0:ct.enableSendTypeToSearchLog,!1),wct=t(ct===null||ct===void 0?void 0:ct.enableTypeToSearchInCopilot,!1),bct=t(ct===null||ct===void 0?void 0:ct.enableClearTextInputValueOnfocus,!1),kct=t(ct===null||ct===void 0?void 0:ct.enableConversationIdQueryParameter,!1),dct=t(ct===null||ct===void 0?void 0:ct.enableClientRequestIdQueryParameter,!1),gct=t(ct===null||ct===void 0?void 0:ct.enableEarlyConnectionOnConversation,!1),nlt=t(ct===null||ct===void 0?void 0:ct.enableEarlyConnectionAfterEachResponse,!1),ub=t(ct===null||ct===void 0?void 0:ct.enablePerformanceTimestamps,!1),tlt=t(ct===null||ct===void 0?void 0:ct.pluginDevToolsDfpSessionId,u),ilt=t(ct===null||ct===void 0?void 0:ct.locationLearnMore,fe),wr(),eot&&ii&&!vt&&!oot&&(ii=!1),av&&(CIB.config.sydney.request.source=av),gi=t(ct===null||ct===void 0?void 0:ct.enableNotebookMode,!1),rlt=t(ct===null||ct===void 0?void 0:ct.enableNotebookUrlParam,!0),ult=t(ct===null||ct===void 0?void 0:ct.enableNotebookMsaConsent,!1),flt=t(ct===null||ct===void 0?void 0:ct.isMsaMock,!1),gi&&(CIB.config.features.enableNotebookMode=gi,CIB.config.features.enableNotebookUrlParam=rlt,bt=(it=CIB.config.sydney.request.optionsSets)===null||it===void 0?void 0:it.slice(0),cr=hr.split(","),nh()),ci&&CIB.config.share&&(CIB.config.share.customizedShareOutImageThumbnailId=t(ct===null||ct===void 0?void 0:ct.customizedShareOutImageThumbnailId,"OBFB.73FF6ADE8CC93B6ED1EDA1CE557E2E09"),CIB.config.share.nativeAppShareFormCode=t(ct===null||ct===void 0?void 0:ct.nativeAppShareFormCode,""),yi&&(CIB.config.share.generateShareUrlProvider=(rt=_w.ShareHelper)===null||rt===void 0?void 0:rt.generateShareUrl)),(wet||wot)&&ci&&(CIB.config.share.baseUrl=window.location.origin),gs(),is(),sj_evt.bind("showSydFSC",br),srt&&(CIB.config.messaging.messageDensity="loose"),cw&&(CIB.config.features.enableThreadContexMenuActionItems=cw),hrt&&(((ut=CIB.config.contentCreator)===null||ut===void 0?void 0:ut.query)!=null&&(CIB.config.contentCreator.query.frame="sydedg"),((ft=CIB.config.sunoMusicCreator)===null||ft===void 0?void 0:ft.query)!=null&&(CIB.config.sunoMusicCreator.query.frame="sydedg")),pet&&(CIB.config.contentCreator.baseUrl=window.location.origin),bp&&kp&&CIB.config.contentCreator&&(CIB.config.contentCreator.allowedDomains=kp.split(","),t((et=_w._sydConvConfig)===null||et===void 0?void 0:et.enableSydTestCache,!1)&&CIB.config.contentCreator.allowedDomains.push(_w.location.origin)),CIB.config.features.enableMultiDomainBIC=bp,CIB.config.features.enableDeferGetConversation=get,hw!==500&&(CIB.config.messaging.hoverCardDelayTimerDuration=hw),CIB.config.features.enableInternalSearchQueryReadout=hct,CIB.config.features.enableFixReponseReadout=cct,CIB.config.features.enableThreadNameReadout=lct,vft&&(CIB.config.logging.logLevel=0),CIB.config.features.enableRereadMetaAcc=aft,CIB.config.features.enableKeyboardNav=yft,CIB.config.features.enablePreRequestSydneyLog=pft,CIB.config.features.enableToneSelectorA11yFitAndFinish=wft,CIB.config.features.disableDisengagedErrorLog=bft,CIB.config.features.enableExpandSeeMoreContainerOnFocusIn=kft,CIB.config.features.enableSentByDescriptor=cet,CIB.config.features.enableMessageTypeCheck=grt,CIB.config.features.enableThreadOnlyFromSignal=vn,CIB.config.features.enableVersionPrompt=oet,CIB.config.features.enableAttributionsV2=set,CIB.config.features.enableLearnMoreCards=het,CIB.config.features.enableInlineTwoTAnswer=rot,CIB.config.features.enableMuidRobustnessFix=est,CIB.config.features.enableRaiButtonTooltip=ost,CIB.config.features.enableResetFocusLossFix=sst,CIB.config.features.enableMultilineSuggestions=dst,CIB.config.features.enableStartConvFixInShareConversationMode=iot,CIB.config.features.enableResponseRetentionOnNetworkError=wit,CIB.config.features.enableStatefulReconnection=cd,CIB.config.features.enableFixForCreateConversationErrorTelemetry=ld,CIB.config.features.enableFixForDuplicateErrorCount=ad,CIB.config.features.disableGptsOnMobile=vct,CIB.config.features.enableSpeechDuplex=t(ct===null||ct===void 0?void 0:ct.enableSpeechDuplex,!1),CIB.config.features.enableSpeechDuplexUI=t(ct===null||ct===void 0?void 0:ct.enableSpeechDuplexUI,!1),CIB.config.features.enableSpeechDuplexDev=t(ct===null||ct===void 0?void 0:ct.enableSpeechDuplexDev,!1),CIB.config.features.enableSubmitImageWithQueryHidden=yct,CIB.config.features.enableSendTypeToSearchLog=pct,CIB.config.features.enableTypeToSearchInCopilot=wct,CIB.config.features.enableClearTextInputValueOnfocus=bct,th(),fd&&CIB.config.sunoMusicCreator&&(CIB.config.sunoMusicCreator.baseUrl=window.location.origin),elt=_ge("cib-design-tokens"),elt||CIB.activateDesignTokens(),uh(f),uht&&rh(),tu(uk),bv&&(CIB.config.features.enableVersionedApiCalls=bv),kv&&(CIB.config.features.enableAddNotebookSource=kv),dv&&(CIB.config.features.enableJWTFTRFix=dv),yp&&(CIB.config.features.enableThreadsArrowNav=yp),og&&(CIB.config.bing.baseUrl=bo()),yn&&(CIB.config.features.enableGetChats=!0),pn&&(CIB.config.features.enableDelayGetChats=!0),nit&&(CIB.config.features.enableThreadSync=!0),git&&(CIB.config.features.enableTypewriterEffectForThreadName=!0),urt&&(CIB.config.features.enableSaharaSyntheticStreaming=!0),frt&&(CIB.config.features.enableFaviconV2=!0),ert&&(CIB.config.features.enableFaviconAutoRefresh=!0),ort&&(CIB.config.features.enableCachedContentFixForIsStartOfSession=!0),tot&&(CIB.config.features.enableSilentUpdateConversationFail=!0),CIB.config.features.enableAccessibleAttributionTitle=t(ct===null||ct===void 0?void 0:ct.enableAccessibleAttributionTitle,!1),CIB.config.features.enableEmptyToneDebugLogs=si,CIB.config.features.enableDefaultBalancedtone=kst,CIB.config.features.enableBingProxyApiForSingleDeleteInThreads=not,fv&&ii&&(CIB.config.features.enableFlux3P=!0,typeof CIB.config.plugin=="undefined"&&(CIB.config.plugin={}),cot&&(CIB.config.plugin.searchPluginPositon=0),fb=lot.split(","),fb.length>0&&(CIB.config.plugin.topListedPluginIds=fb),hot&&(CIB.config.features.enablePluginCopilot=!0,CIB.config.plugin.baseUrl=window.location.origin),CIB.config.features.enablePluginsV1=yot,CIB.config.features.enablePluginDiscovery=aot,CIB.config.features.enablePluginSendLocaleInfo=vot,CIB.config.features.enableSunoPluginInChatRecommendation=tw,tw&&e(CIB.config.sydney.request.optionsSets,"hdkrp3cw"),det&&(CIB.config.features.enablePluginOptionSetsConversationModeOnly=!0),sft&&(CIB.config.features.enableNoBingSearchResponseBackground=!0),art&&(CIB.config.features.enableThreadShowPlugins=!0),yrt&&(CIB.config.features.enablePluginPanelFre=!0),crt&&(CIB.config.features.enableLinkPreviewCarousel=!0),aet&&(CIB.config.features.enableLinkPreviewFailureTelemetry=!0),vet&&(CIB.config.features.enableLinkPreviewAppIdV2=!0),fit&&(CIB.config.features.enablePluginsByTone=!0),hit&&(CIB.config.features.enableOpenTableBookBlueLink=!0),sot&&(CIB.config.features.enableNoBingSearchResponseBackgroundWithOptionsSets=!0),dot&&(CIB.config.features.enableUndersideTopRightButtonBugFix=!0),uet&&(CIB.config.features.enablePluginDevTools=!0),fet&&(CIB.config.features.enablePluginCSRF=!0,kt=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("_SS","SID"),kt&&(CIB.config.plugin.csrfSid=kt)),CIB.config.plugin.dfpSessionId=tlt),ght&&(CIB.config.features.enableFaqBcc=!0,CIB.config.links.faqBccBceUrl=yw),nct&&(CIB.config.features.enableFaqBce=!0,CIB.config.links.faqBccBceUrl=yw),CIB.config.features.enableAdditionalPrivacyStatement=t(ct===null||ct===void 0?void 0:ct.isTeenageStudentUser,!1)&&ti,nut&&(CIB.config.features.enableInlinePersonalizationConsent=!0,CIB.config.messaging.personalizationInlineConsentTurn=rut,CIB.config.features.enableInlinePersonalizationConsentCopilotLogo=tut,CIB.config.features.enableInlinePersonalizationConsentCallback=iut),nrt&&(CIB.config.features.enableConfirmPromptForDeleteSingleThread=!0),CIB.config.features.enableRenderCardRequestIMSearchParams=!0,lrt&&(CIB.config.features.useFakeDataForLinkPreviewCarousel=!0),vrt&&(CIB.config.features.enableUserMessageIdConsistency=!0),wrt&&(CIB.config.features.enableRenderIframeCardRequest=!0),wv&&(CIB.config.features.enableFreEducationalStarter=!0),fut&&(CIB.config.features.enableFreEducationalStarterAnimation=!0),eut&&(CIB.config.features.enablePhonePlugin=!0),hut&&(CIB.config.features.enablePhonePluginProductionEnvironment=!0),sut&&(CIB.config.features.enablePhonePluginBetaEnvironment=!0),out&&(CIB.config.features.enablePhonePluginDogfoodEnvironment=!0),cut&&(CIB.config.features.disablePhonePluginInPreciseTone=!0),lut&&(CIB.config.features.disablePhonePluginInBalancedTone=!0),aut&&(CIB.config.features.disablePhonePluginInCreativeTone=!0),vut&&(CIB.config.features.enablePhonePluginInPreciseTone=!0),yut&&(CIB.config.features.enablePhonePluginInBalancedTone=!0),put&&(CIB.config.features.enablePhonePluginInCreativeTone=!0),wut&&(CIB.config.features.enablePhonePluginCatalogId=!0),but&&(CIB.config.features.enablePhonePluginSemanticSearch=!0),kut&&(CIB.config.features.enableUseStoreAsSourceForPhonePlugin=!0),dut&&(CIB.config.features.enablePhonePluginCatalog=!0),gut&&(CIB.config.features.enablePhonePluginDirectPopupAuth=!0),nft&&(CIB.config.features.enableMobileCopilotV2=!0),tft&&(CIB.config.features.enableDonationPlugin=!0),ift&&(CIB.config.features.enableDonationPluginDogfood=!0),rft&&(CIB.config.features.enableDonationPluginProd=!0),CIB.config.features.enablePrivacyProtectedConversation=uft,CIB.config.features.enableNoSecondaryUseProtectedConversation=fft,CIB.config.features.enableMsalV3=pit,cs(),eft&&(CIB.config.features.enableAdaptiveCardMessage=!0),rst&&(CIB.config.features.enableFullScreenIframe=!0),ust&&(CIB.config.features.enablePartiallyCoveringDialogForFullScreenIframe=!0),hg&&(CIB.config.features.enableDesignerGPTAsPartnerNameinBICUrl=!0),fst&&(CIB.config.features.enableDelayedMsgHandlerDisposal=!0),eb=new URLSearchParams(_w.location.search),ob=eb.get(ff.toLowerCase()),(lr!=""||hi&&ob)&&(ni=CIB.config.speech.srOptions?CIB.config.speech.srOptions:[],ni=s(ni,lr),hi&&(ni=s(ni,ob)),CIB.config.speech.srOptions=ni),li&&(CIB.config.speech.srOptions||(CIB.config.speech.srOptions=[]),CIB.config.speech.srOptions.push("earcon")),ru&&(CIB.config.features.enableSpeechErrorLoggingAsSystemEvent=ru),vi&&(CIB.config.speech.query.surface=vi,CIB.config.speech.surface=vi),yo(ct),(ig||sg)&&(sb=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,ir),sb&&sb!="1"?CIB.config.features.enableAutoReopenMic=!1:(CIB.config.features.enableAutoReopenMic=!0,ko(fg,eg))),tg&&(CIB.config.speech.srOptions||(CIB.config.speech.srOptions=[]),CIB.config.speech.srOptions.push("cdxwhisr")),vt&&(CIB.config.features.supressSigninMessage=!0,CIB.config.features.enableAgeRestriction=!0,CIB.config.sydney.isMissingDob=pk,CIB.config.sydney.isAdultUser=yk),wk&&(hb=CIB.config.sydney.request.optionsSets.indexOf("enable_debug_commands"),hb>=0&&CIB.config.sydney.request.optionsSets.splice(hb,1)),ck&&e(CIB.config.sydney.request.optionsSets,"dv3sugg"),vd&&e(CIB.config.sydney.request.optionsSets,"prodshortv4"),kb&&sr!=""&&(CIB.config.sydney.request.optionsSets=s([],sr)),gk){if(wu)for(tr=wu.split(","),nr=0,cb=tr;nr<cb.length;nr++)ri=cb[nr],CIB.config.features[ri]=!0;if(lb=eb.get(uf.toLowerCase()),hi&&lb)for(tr=lb.split(","),rr=0,ab=tr;rr<ab.length;rr++)ri=ab[rr],ri.indexOf(":")>=0&&(ur=ri.split(":"),ur.length==2&&(CIB.config.features[ur[0]]=ur[1]))}if(kr&&(olt=kr.split(","),CIB.config.sydney.request.sliceIds=olt),CIB.config.bing.isVisualParityRun=gb,CIB.config.bing.isAADAuthenticated=wt,CIB.config.bing.isMSAAuthenticated=vt,CIB.config.bing.userMailId=nk,CIB.config.bing.username=tk,CIB.config.bing.isSignedIn=gt,CIB.config.bing.isCCP=dt,vr&&(CIB.config.sydney.baseUrl=vr),ar!=""&&(CIB.config.sydney.pathBase=ar),bk&&(vb=sj_cook.get(n.userCook,wi),vb&&vb=="0"&&(CIB.config.features.enableTTSOnVoiceInput=!1)),kk&&(CIB.config.features.enableCustomizedTtsOptions=!0,slt=sj_cook.get(n.userCook,we),yb=parseInt(slt),pb=sj_cook.get(n.userCook,be),yb&&(CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{speed:yb})),pb&&dk&&(CIB.config.features.enableCustomizedTtsVoiceNameOptions=!0,CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{voiceName:pb}))),nu&&(CIB.config.features.enableSpeechContinuousErrorHandling=nu),fu&&(CIB.config.features.enableSpeechChatDataAfterPhrase=fu),li&&(CIB.config.features.enableSpeechEarconOnInput=li),ou&&(CIB.config.features.enableTTSOnSuggestionAfterVoice=ou),hu&&(CIB.config.features.enableSimpleVoiceInput=hu),cu&&(CIB.config.features.enableSpeechDictationMode=cu),lu&&(CIB.config.features.enableSpeechDuplex=lu),au&&(CIB.config.features.enableSpeechDuplexUI=au),vu&&(CIB.config.features.enableAudioPreloadLimit=vu),yu&&(CIB.config.features.enableSpeechFateTTSStop=yu),pu&&(CIB.config.features.enableSpeechGetUserMedia=pu),to&&(CIB.config.features.enableSpeechErrorHandling=to),ro&&(CIB.config.features.enableSpeechTTSLatencyLogging=ro),uo&&(CIB.config.features.enableSpeechInputWhileRequestIsPending=uo),fo&&(CIB.config.features.enableSpeechIconDarkTheme=fo),io&&(CIB.config.features.enableSpeechAriaLabel=io),gf&&(CIB.config.features.enableLiteWrapTipsAndFix=gf),ne&&(CIB.config.features.enableNeatListening=ne),ai&&(CIB.config.features.enableCIQAlwaysLoad=ai),ws(),rl&&(CIB.config.features.enableChatIconClickable=rl),ul&&(CIB.config.features.enableChatQueryClickable=ul),fl&&(CIB.config.features.enableChatQueryClickableV2=fl),sl&&(CIB.config.features.enableChatQueryClickableV3=sl),hl&&(CIB.config.features.enableChatQueryClickableV4=hl),CIB.config.features.enableSharedNotebook=!t(ct.disableShareLinkShowntbk,!1),cl&&(CIB.config.features.enableShareQuestionWithResponse=cl),ll&&(CIB.config.features.enableShareQuestionTitlePrefix=ll),al&&(CIB.config.features.enableShareInlineAdsIframe=al),vl&&(CIB.config.features.enableShareToMyBing=vl),yi&&(CIB.config.features.enableShareLinkPreviewForNative=yi),yl&&(CIB.config.features.enableShareOverlay=yl),wl&&(CIB.config.features.enableScreenshotIgnoreOnCibSerp=wl),bl&&(CIB.config.features.enableStandaloneUtility=bl),kl&&(CIB.config.features.enableSidePanelBelowThreadSlot=kl),dl&&(CIB.config.features.enableWelcomeCopilotProButton=dl,na?CIB.config.features.enableCopilotProOverlay=na:ta&&(CIB.config.features.enableCopilotProOverlayCloseButton=ta)),gl&&(CIB.config.features.enableCopilotProUpsellDimeV2=gl),ia&&(wb=t((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.getCopilotProSpectrumUrl,u),bb=t((st=_w._sydConvConfig)===null||st===void 0?void 0:st.getCopilotProSpectrumUrlMobile,u),CIB.config.features.enableCopilotProSpectrumTemplate=ia,wb&&(CIB.config.links.getCopilotProSpectrumUrl=wb),bb&&(CIB.config.links.getCopilotProSpectrumUrlMobile=bb)),ra&&(CIB.config.features.enableCopilotProPersistentTemplate=ra,ua&&(CIB.config.strings.sydneyCopilotProPersistentTitle=ua),fa&&(CIB.config.strings.sydneyCopilotProPersistentSubTitle=fa)),CIB.config.speech.animationProvider=function(){var n=location.origin+"/CodexAnimations/animations.json";return plt.getJsonData(n)},db&&(CIB.config.features.enableMetaMessages=!1,CIB.config.features.enableLearnMore=!1,CIB.config.features.enableCitations=!1,CIB.config.features.enableWelcomeScreen=!1,CIB.config.features.enableShare=!1,CIB.config.features.enableStopButton=!1,CIB.config.features.enableAnswerCards=!1,CIB.config.features.enableAds=!1),dr&&!pr&&(CIB.config.sydney.request.traceId=dr),CIB.config.features.enableReducedRetries=t(ct===null||ct===void 0?void 0:ct.enableReducedRetries,!0),CIB.config.features.enableSpeechInput=fk,CIB.config.features.enableShare=ci,CIB.config.features.enableAnswerBridgeShare=ek,CIB.config.features.enableShareIframePostMessageLogs=ok,CIB.config.features.enableUnifiedNativeShareProvider=sk,CIB.config.features.enableMessageShareableSignalV2=hk,lk&&(CIB.config.features.enableErrorStateNotification=!0,CIB.config.features.enableErrorStateToastNotificationResetButton=!0,CIB.config.features.enableGhostedAutoSuggest=uct,CIB.config.features.enableHoverCardAttributionFavicons=!0),fn&&(CIB.config.features.enableAutoRecoverFromInvalidSession=!0),en&&(CIB.config.features.enableAutoRecoverFromInvalidSessionForFirstTurn=!0),gr&&(CIB.config.features.enableErrorInstrumentaton=gr),bu&&(CIB.config.features.enableSydImageCreate=bu),ku&&(CIB.config.features.enableSunoMusicCreate=ku),du&&(CIB.config.features.enableSunoMusicInst=du),wy&&(CIB.config.features.enableInlineComponents=wy),hs(),bs(dt),ss(),ak&&(CIB.config.features.enableAnsCardSfx=!0),vk&&(CIB.config.features.enableLikeSaveToBingPage=!0),wg&&(CIB.config.features.enableFeedbackClientSideScreenshot=!0),bg&&(il||ti&&(iet||tet)?os():gi&&ult&&(vt||flt)&&(CIB.config.features.enablePrivacyConsentFormNonMuid=!0,iu())),att&&(CIB.config.features.enableDisposeOrphanedHosts=!0),vtt&&(CIB.config.features.enablePreserveTextFormat=!0),ytt&&(CIB.config.features.enableHoverCardOnLearnMorePills=!0),btt&&(CIB.config.features.enableCloudflareCaptcha=!0),ktt&&(CIB.config.features.enableInvisibleCaptchaChallenge=!0),ltt&&(CIB.config.features.enableExportDocxWithFormat=!0),oft&&(CIB.config.features.enablePaywallTelemetryFix=!0),CIB.config.features.enableSecureUpdateConversation=!nd,CIB.config.features.enableSecureSendFeedback=!td,CIB.config.features.enableShareSemSerp=rd,CIB.config.features.enableShareCreator=ud,CIB.config.features.enableFeedbackOnFinalized=id,CIB.config.features.enableShareWithNoMargin=!dg,CIB.config.features.enableCreativeLandingPage=gg,CIB.config.features.enableServerLogMerging=nn,CIB.config.features.enableMobileOneClickShare=tn,CIB.config.features.enableFeedbackInstrumentation=rn,CIB.config.features.enableCopyButtonInstrumented=gtt,CIB.config.features.enableShareOnHostMessage=ptt,CIB.config.features.enablePassBotGreetingInContext=!wtt,CIB.config.features.enableMobileKnowledgeCardOverlay=tit,CIB.config.features.enableCibOverlayForKnowledgeCard=iit,CIB.config.features.enableKCAdaptiveCardUpdate=rit,CIB.config.features.enableKCInChatClickThroughRequery=uit,CIB.config.features.enableNewAutoSuggestEndPoint=cit,CIB.config.features.enableNewTopicTooltip=trt,CIB.config.features.enableNewlineTooltip=irt,CIB.config.features.enableAcAnchorUnderline=rrt,CIB.config.features.enableTypingIndicatorForSerpSlotCreator=bit,CIB.config.features.enableOnProcessingStartEvent=kit,CIB.config.features.enableOnProcessingCompleteEvent=dit,ao(ct,dt),CIB.config.features.enableThreadsAadMsaSwitch=yg,CIB.config.messaging.isAccountLinkedAadUser=vg,CIB.config.features.enableFastChatLoadAnimation=brt,CIB.config.features.enableShareInThreadsHeader=krt,CIB.config.features.enableNewConversationActivate=drt,fv&&(CIB.config.features.enableThreadsTopRightButton=gft,ii&&(CIB.config.features.enableThreadsTopRightButton||net)&&(CIB.config.features.enableThreadsTopRightButton=!0,CIB.config.features.enablePluginsTopRightButton=!0)),CIB.config.features.enablePluginRevocation=bot,CIB.config.features.enableSearchPlugins=kot,(eit||oit||sit)&&(CIB.config.features.enableWelcomeScreen=ev,CIB.config.features.enableWelcomeScreenItem=!ev),ov&&(CIB.config.features.disableZIRMSStart=ov),wv&&SydWelcomeScreen.isEduStarterEnabled()&&(CIB.config.features.enableWelcomeScreen=!0,CIB.config.features.enableWelcomeScreenItem=!0),dtt&&(CIB.config.features.enableKnowledgeCardImage=!0,CIB.config.features.enableImagesInTextMessages=!0,el()),CIB.config.features.secureConversation=ed,CIB.config.features.enableAffinityInstance=od,gu&&(CIB.config.features.enableAutomaticReconnect=gu,e(CIB.config.sydney.request.optionsSets,"machine_affinity"),e(CIB.config.sydney.request.optionsSets,"streamf")),CIB.config.features.enableSSEFallback=hd,CIB.config.features.enableSSE=sd,nf&&(CIB.config.sydney.baseUrlForSSE=nf),tf&&(CIB.config.sydney.pathBaseForSSE=tf),rf&&(CIB.config.features.enableGetMessagesHub=rf),cg&&(CIB.config.features.enableNewTopicAutoExpand=!0),ag&&(hlt=t(ct===null||ct===void 0?void 0:ct.amberTurnPerConversation,0),CIB.config.features.enableAmberTurnPerConversation=!0,CIB.config.messaging.amberTurnPerConversation=hlt),lg&&(clt=t(ct===null||ct===void 0?void 0:ct.enableMaxTurnsFromBackend,!0),llt=t(ct===null||ct===void 0?void 0:ct.maxTurnsPerConversationMuidUser,lt),alt=t(ct===null||ct===void 0?void 0:ct.maxTurnsPerConversation,lt),CIB.config.features.enableMaxTurnsPerConversation=!0,CIB.config.features.enableMaxTurnsFromBackend=clt,CIB.config.messaging.maxTurnsPerConversation=il?llt:alt),yd&&(CIB.config.sydney.request.Participant={Id:"1"}),pf&&(CIB.config.features.enablePerfTracker=pf),ub&&(CIB.config.features.enablePerformanceTimestamps=ub),pd&&(CIB.config.features.enableEmbeddedPerf=!0),kf&&(CIB.config.features.enableSinglePerfEventPerMessage=kf),wd&&(CIB.config.features.enableE2EPerf=!0),CIB.config.features.enableCIBBootstrapper=bd,CIB.config.features.enableFixForTextSelectionFlickering=kd,(dd||dt)&&(CIB.config.features.enableCCPPerf=!0),df&&(CIB.config.features.enableVisibilityPerfFix=df),te&&(CIB.config.features.enableRedirectToLoginUrl=te),ie&&(CIB.config.features.enableNewChatIconInActionBar=ie),re&&(CIB.config.features.enableActionBarV2=re),ue&&(CIB.config.features.enableSpeechDictationBridgeMode=ue),ee&&(CIB.config.features.enableNativeEchoCancellation=ee),CIB.config.features.enableTranslateForBotMessage=gd,oe&&(CIB.config.features.enableReadAloudMessage=oe),se&&(CIB.config.features.enableReadAloudOptions=se,er=parseInt(sj_cook.get(n.userCook,wi)),er>=0&&er<=2&&(CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{readAloud:er}))),he&&(CIB.config.features.enableReadAloudOnDeepLeoOnly=he),ce&&(CIB.config.features.enableReadAloudFixV1=ce),vlt=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,de),eu(vlt),le&&(CIB.config.features.enableSpeechLogNoiseReduction=le),ae&&(CIB.config.features.enableAutoReopenMicTTSStopped=ae),ve&&(CIB.config.features.enableAltVoiceQuerySubmissionOnMobileABV2=ve),rg&&(ui=fc(),(ui==="3g"||ui==="2g"||ui==="slow-2g")&&(i(r.System,"NetworkConnection","Codex",ui),e(CIB.config.sydney.request.optionsSets,"uquopt"),su(CIB.config.sydney.request.sliceIds,"ttsq48"))),ye&&(CIB.config.features.enableMockMicListeningState=ye),pe&&(CIB.config.features.enableMockMicBlockedState=pe),CIB.config.features.enableAutoStopSpeechRecogIfInvisible=ug,ge&&(CIB.config.features.enableUndefinedToListeningAnimation=ge),no&&(CIB.config.features.enableUniversalInput=no),eo&&(CIB.config.features.enableSpeechAudioContextPlayback=eo),ng&&(CIB.config.speech.micPermissionProvider=function(){return{}}),pg&&(CIB.config.features.enableSafeSearchSetting=!0,yh()),CIB.config.messaging.messageBufferWorkerStreamDelayMS=kg,un&&(CIB.config.suggestions.baseUrl="https://www.bing.com"),so&&(CIB.config.features.enableOneClickCopy=so),ho&&(CIB.config.features.enableReorderCopiedTextReferences=ho),co&&(CIB.config.features.enableCodeCopy=co),ns&&(CIB.config.features.enableUserMessageCopy=ns),ts&&(CIB.config.features.enableRichTextPaste=ts),rs&&(CIB.config.features.enablePasteMarkdownTable=rs),us&&(CIB.config.features.enablePasteMath=us),fs&&(CIB.config.features.enableInlineFeedback=fs),es&&(CIB.config.features.enableInlineFeedbackV2=es),ls&&(CIB.config.features.enableInlineFeedbackV21=ls),as&&(CIB.config.features.enableFeedbackCollectMoreInfo=as),vs&&(CIB.config.features.enableSerpFeedback=vs),ys&&(CIB.config.features.enableMessageSave=ys),ps&&(CIB.config.features.enableMoreOnBotMessageActionsBar=ps),ks&&(CIB.config.features.enableMessageExport=ks),ih&&(CIB.config.features.enableMessageExportWithPlainText=ih),lh&&(CIB.config.features.enableHandoffAPI=lh),ah&&(CIB.config.features.enableGetTokenInAdvance=ah),vh&&(CIB.config.features.enableRedirectUriFunction=vh),ph&&(CIB.config.features.enableMsalLocalStorageCache=ph),wh&&(CIB.config.features.enableMsalDifferentAuthority=wh),bh&&(CIB.config.features.enableMsalStoreAuthInCookie=bh),gh&&(CIB.config.features.enableSearchOnBingForBotMessage=gh),nc&&(CIB.config.features.enableSearchIconForSearchOnBing=nc),tc&&(CIB.config.features.enableScopeRowForTable=tc),ic&&(CIB.config.features.enableMarkdownTableV2=ic),uc&&(CIB.config.features.enableMessageExportOnlineWord=uc),ec&&(CIB.config.features.enableMessageExportOnlineExcel=ec),rc&&(CIB.config.features.enableExportBlockDialog=rc),yc&&(CIB.config.features.enableTonePreview=yc),pp&&(CIB.config.features.disableTitlePreviewLabel=pp),wp&&(CIB.config.features.disableTurnCount=wp),CIB.config.features.enableSearchOnBingInLinkHoverCard=on,CIB.config.features.enableLearnMoreCitationWithArrow=sn,CIB.config.features.enablePromotionItemCitationWithArrow=hn,CIB.config.features.enableLinkCitationWithArrow=cn,CIB.config.features.enableMessageExportWord=ln,CIB.config.features.enableThreadExportLocalWord=an,oc&&(CIB.config.features.enableMessageExportLocalExcel=oc),sc&&(CIB.config.features.enableTableBarFlatActions=sc),hc&&(CIB.config.features.enableThreadExportOnlineWord=hc),cc&&(CIB.config.features.enableMessageExportV2=cc),lc&&(CIB.config.features.enableBotMessageActionsBar=lc),ac&&(CIB.config.features.enableShorterToastDuration=ac),vc&&(CIB.config.features.enableDirectlyOpenExportOnlineLink=vc),pc&&(CIB.config.features.enableMSAuth1stPartyApp=pc),wc&&(CIB.config.features.enableAdsRedirectLinkForTextMessage=wc),bc&&(CIB.config.features.enableCopyHtml=bc),kc&&(CIB.config.features.enableCopyHtmlWithHighlightedCode=kc),dc&&(CIB.config.features.enableExportPdfWithAnswerScreenshot=dc),gc&&(CIB.config.features.enableExportDocxWithAnswerScreenshot=gc),nl&&(CIB.config.features.enableLibrariesSplitImport=nl),tl&&(CIB.config.features.enableFlatActionBar=tl),uv&&(CIB.config.features.enableStartPromotion=uv),rv&&(CIB.config.features.enableThreadContextMenu=rv),ea&&(CIB.config.features.enableNewTables=ea,CIB.config.messaging.tableVersion=wn),oa&&(CIB.config.features.enableBufferMessage=oa),sa&&(CIB.config.features.enableBufferLoadingDots=sa),ca&&(CIB.config.features.enableCodeInterpreterPreviewCode=ca),bi&&(CIB.config.features.enableGptForMobileBrowser=bi,CIB.config.features.enableGPTForMobileBrowser=bi),la&&(CIB.config.features.enable3PGptForMobileBrowser=la),ha&&(CIB.config.features.enableServerMetaText=ha),va&&(CIB.config.features.enableGptCreatorItemContextMenuFor1P=va),ya&&(CIB.config.features.enableGptCreatorDeprecationAlert=ya),ka&&(CIB.config.features.enableMock3PGpts=ka),da&&(CIB.config.features.enableGPTCreatorCreateGptPreview=da),kn&&(CIB.config.features.enableGptWelcomeInitLoad=!0),rtt&&(CIB.config.features.enableCopilotCharacter=!0,CIB.config.features.enableEmoteJSErrorFix=utt,CIB.config.features.enableCharacterLipSync=ftt,CIB.config.features.enableCharacterTap=ett,CIB.config.copilotCharacter&&(CIB.config.copilotCharacter.emoteDriverJsUrl=stt,CIB.config.copilotCharacter.emotePlayerJsUrl=htt,CIB.config.copilotCharacter.animatedImageUrlForMobileWelcomeScreen=ctt,ott&&(CIB.config.copilotCharacter.characterModelFolderPath=location.origin+"/CodexAnimations/CodexCharacterAnimations/EmoteModels/"))),dn&&(CIB.config.features.enableGptBuilderAction=!0),gp&&bn&&dt&&(gt||wt&&vw)&&(CIB.config.features.enableGPTCreator=!0,CIB.config.features.enableExtraExtensionParams=!0,gn&&(CIB.config.features.enableThreads=!1,CIB.config.features.enableIconUpload=vht,CIB.config.features.enableIconGenerated=yht,CIB.config.features.enableIconExternalStorage=pht,CIB.config.features.enableGptCreatorPreviewAutoSave=ntt,CIB.config.features.enableGptBuilderBottomBackgroundForCreatePanel=ttt,CIB.config.features.enableOrderForCustomGreetings=itt,CIB.config.features.enableGptCreatorEmptyDescriptionError=wht,CIB.config.features.disableVisualSearchCheck=dht,CIB.config.features.enableGptCreatorConfigurePanelCodeInterpreter=aht)),CIB.config.gptCreator&&(yt=window.location.origin,fi=yt.includes("bing.com"),CIB.config.gptCreator.gptCreatorCreatorUrl=yt+pa,CIB.config.gptCreator.creatorUrl=yt+pa,CIB.config.gptCreator.gptCreatorPreviewUrl=yt+(fi?wa:""),CIB.config.gptCreator.previewUrl=yt+(fi?wa:""),CIB.config.gptCreator.gptCreatorShareUrl=yt+(fi?ba:""),CIB.config.gptCreator.shareUrl=yt+(fi?ba:""),CIB.config.gptCreator.imageCreateAppID="3A94CC512C67BC6591C1F88594FBDB53481B8505",CIB.config.gptCreator.visualSearchAppID="23C2EDAB5DEC0DB471849B707155F587E52D0E1B",CIB.config.gptCreator.userAnID=kht),hv&&(CIB.config.features.enableMessagePrivacy=hv),CIB.config.features.enableNoSecondaryUseMessagePrivacy=yit,cv&&(CIB.config.features.enableCloseShareOnClickOutside=cv),pl&&(CIB.config.features.enableShowShareButtonWithSecurityCheck=pl),iv&&(CIB.config.features.enableOptimizedStreaming=iv),pv&&(CIB.config.features.enableSydneyGetMessagesHub=pv),lv&&(CIB.config.features.enableUpdateProfile=lv),ny&&(CIB.config.features.enableSuppressSigninMessage=ny),gv&&(CIB.config.features.enableOpenEdgeNotification=gv),CIB.config.features.enableSettingsToggle=hft,CIB.config.features.enableSettingPositionTop=cft,CIB.config.features.enableTurboTone=lft,CIB.config.features.enableCitationsOnSentences=bet,po(),CIB.config.features.enableConversationIdQueryParameter=kct,CIB.config.features.enableClientRequestIdQueryParameter=dct,CIB.config.features.enableEarlyConnectionOnConversation=gct,CIB.config.features.enableEarlyConnectionAfterEachResponse=nlt,wo(),CIB.config.features.enableTopAlignConversation=vst,CIB.config.features.enableHideZeroTurn=yst,CIB.config.features.enableMessageGroupHeader=pst,CIB.config.features.enableFullWidthMessages=wst,CIB.config.features.enableInlineStreamingIndicator=bst,CIB.config.features.enableAttributionsV2MoreButton=tct,CIB.config.features.enable2TScrollToBottom=ict,CIB.config.features.enableAdaptiveCardImageForCodeInterpreter=gst,CIB.config.features.enableThreadZiFix=oct,CIB.config.features.enableDeleteAllThreads=sct,CIB.config.features.enableCodePreviewInFooter=nht,CIB.config.features.enableProgressMessageForBce=tht,CIB.config.features.enableStackedSuggestionChips=iht,CIB.config.features.enableLoadConvTheme=fht,CIB.config.features.enableEarlyCancellations=eht,CIB.config.features.enableRegisterContextAsync=oht,CIB.config.features.enableEdgeContextualPlugin=sht,CIB.config.features.enableShorelineStrongStyle=hht,lht)CIB.onModeChanged(function(n){switch(n){case"off-stage":CIB.config.features.enableStreamingInBackground=!1;break;default:CIB.config.features.enableStreamingInBackground=!0}});else CIB.config.features.enableStreamingInBackground=cht;if(CIB.config.features.enableCitationSuperscriptFix=ast,CIB.config.features.enableAnswerCards=ket,lw&&(CIB.config.features.enableNoTrainNotification=lw,CIB.config.messaging.noTrainingNoticeVisitCountIncrement=uut),ep&&(CIB.config.features.enableThreadsHoverDescriptor=ep),op&&(CIB.config.features.enableMessagesWithInternalLoadAnimation=op),sp&&(CIB.config.features.enableHideRAISuggestionIcon=sp),hp&&(CIB.config.features.enableMuidDisabledSuggestionBar=hp),cp&&(CIB.config.features.enableHideSuggestionOnErrors=cp),lp&&(CIB.config.features.enableConversationToActionBarFocusOrder=lp),ky&&(CIB.config.features.enableWelcomeItemEnterAnimation=ky),dy&&(CIB.config.features.enableToneSelectorAsDropdown=dy),gy&&(CIB.config.features.enableSidePanelPositionInlineStart=gy),np&&(CIB.config.features.enableSidePanelAsPersistent=np),tp&&(CIB.config.features.enableSidePanelVisibilityTrigger=tp),ip&&(CIB.config.features.enableSidePanelCustomScrollbar=ip),rp&&(CIB.config.features.enableConversationCustomScrollbar=rp),up&&(CIB.config.features.enableConversationAlignmentTop=up),fp&&(CIB.config.features.enableSimpleCopilotWelcomeScreen=fp),ty&&(CIB.config.features.enableExportPdfWithRichFormat=ty),fh(),fy&&(CIB.config.features.enableThreadContextMenuV2=fy),ey&&(CIB.config.features.enableSearchBoxAutoFocus=ey),oy&&(CIB.config.features.enableUserMessageRewriteInsteadOfCopy=oy),sy&&(CIB.config.features.enableUserMessageRewriteAndCopy=sy),hy&&(CIB.config.features.enableSendFeedback=hy),cy&&(CIB.config.features.enableSearchUserMessageOnBing=cy),ly&&(CIB.config.features.enableEditLastUserMessage=ly),ay&&(CIB.config.features.enableHideLastUserMessageInEdit=ay),ap&&(CIB.config.features.enableBufferClearOnReset=ap),vp&&(CIB.config.features.enableCancelPendingRequestOnNewMessage=vp),dp&&(CIB.config.features.enableGraphicArtJsonResponse=dp),iw&&(CIB.config.features.enableInstService=iw),rw!==""&&(CIB.config.bing.feedbackVertical=rw),kw&&(CIB.config.features.enableStopStreamingSignal=kw),gw&&(CIB.config.features.enableTasksMessage=gw),nb&&(CIB.config.features.enableInlineButtonAdaptiveCardUpdate=nb),(tb||act)&&(CIB.config.features.disableActionBarToolTip=!0),tb&&(CIB.config.features.enableOneStepPhotoUploadForVisualSearch=!0),lst&&(CIB.config.captcha.baseUrl=ik),CIB.config.features.enableStartOfSessionFix=rct,CIB.config.features.partnerId=dw,CIB.config.windchime&&(CIB.config.windchime.partnerId=dw),CIB.config.features.enableHostedContentToneSignal=fct,CIB.config.features.enableHostedContentPartnerSignal=ect,eh(),sh(),oh(),yv&&(CIB.config.features.enableBackendExportService=yv),ds(),sv&&(CIB.config.features.enableContextMessage=sv),ei=t(ct===null||ct===void 0?void 0:ct.codexOptionsSetsList,null),ei&&ei.length>0)for(or=0;or<ei.length;or++)e(CIB.config.sydney.request.optionsSets,ei[or].value);return(hh(),lit&&ol(vit,ait),oo&&(CIB.config.features.enableTelemetryPrivacy=oo),ki&&(CIB.config.features.enableWpFluxTwoTAnswerCard=ki,CIB.config.features.enableWpFluxTwoTAnswerCardFallback=ki,yet&&(CIB.config.features.enableWpFluxTwoTAnswerCardFallback=!1),e(CIB.config.sydney.request.optionsSets,"fluxv1"),e(CIB.config.sydney.request.optionsSets,"fluxmatch")),yr&&typeof MsbSydneyHelper!="undefined"?MsbSydneyHelper.initCompliantSydneyConfigs():ti&&typeof BceSydneyHelper!="undefined"?BceSydneyHelper.initBingChatForEnterpriseSydneyConfigs():ai&&typeof CustomerSydneyHelper!="undefined"&&CustomerSydneyHelper.setCiqCIQConfig(),!(!yr&&!pr))?[3,4]:(!pot&&rht)?[4,uu()]:[3,2];case 1:return wlt.sent(),[3,3];case 2:uu();wlt.label=3;case 3:ch();wlt.label=4;case 4:return prt&&(CIB.config.features.enablePersistentInputText=!0),vv&&(CIB.config.features.enableEmptyThreadTime=vv),iy&&(CIB.config.features.enableThreadsConsent=iy,CIB.config.features.enableMutedThreadsConsent=dft),ry&&(ylt=t(ct===null||ct===void 0?void 0:ct.threadsAutoSaveOptionset,k),CIB.config.features.enableDeleteSingleConversationMemory=ry,CIB.config.sydney.request.conversationHistoryOptionsSets=s((ht=CIB.config.sydney.request.conversationHistoryOptionsSets)!==null&&ht!==void 0?ht:[],""+ylt+",savemem,uprofupd,uprofgen")),uy&&(CIB.config.features.enable1DSTelemetry=uy),vy&&(CIB.config.features.enablePrivateThreadDefaultTitle=vy),yy&&(CIB.config.features.enablePromptHandling=yy),ret&&e(CIB.config.sydney.request.optionsSets,"u18scenario"),py&&(CIB.config.features.enableModeAndSlotValidationForAds=py),by&&(CIB.config.features.enableSuggestionChipDisplayText=by),kh(),go(),eet&&dh(),bht&&(CIB.config.features.enablePublishedGptProvenance=!0),gp&&(CIB.config.features.enableFreeSydney=!0,CIB.config.gptCreator&&(CIB.config.gptCreator.maxSidePanelPersonasCount=fot),nw&&(CIB.config.features.enableShortShareUrl=nw),(gt||vw&&wt)&&(CIB.config.features.enableExtraExtensionParams=!0),uot&&(CIB.config.features.enableCustomGptSpecialGreeting=!0),ga&&(CIB.config.features.disableSuggestionsInCustomGpt=ga),nv&&(CIB.config.features.enableThreadsForAllGpts=nv),tv&&(CIB.config.features.enableBingGptUploadFileAPI=tv),aa&&(CIB.config.features.enableGptForMobileUnderside=aa)),uw&&(CIB.config.features.enableEnterToCreateNewLine=uw),CIB.config.features.enableUpdateLocationButton=got,CIB.config.features.enableLocationMetaMessage=nst,CIB.config.features.enableNavigatorPermissionCheck=tst,CIB.config.features.enablePromptDirectlyForLocation=ist,fw&&(CIB.config.features.enableTextMessageDelayedFinalization=fw),ew&&(CIB.config.features.enableNewTopicButtonFeature=ew),pw&&(CIB.config.features.enableThumbsDownToSearchOnBing=pw),ow&&(CIB.config.features.enableChangeSidePanelVisibility=ow),ww&&(CIB.config.features.enableThreadContextMenuA11yBugFix=ww),bw&&(CIB.config.features.enableStopRespondingFocus=bw),ib&&(CIB.config.features.enableFeedbackCaptureFix=ib),di&&(CIB.config.features.enableSerpFeedbackAlias=di,(wt||vt)&&(CIB.config.features.enableSerpFeedbackContactMe=di)),rb&&(CIB.config.features.enableSerpFeedbackDialogV2=rb),CIB.config.features.disableTurnCountLocalAccount=!1,!hst||gt||!sw||vt||wt||(kt=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("CUID","CUID"),kt&&(CIB.config.features.disableTurnCountLocalAccount=!0)),CIB.config.features.enableHiddenTurnCountLocalAccount=!1,!cst||gt||!sw||vt||wt||(kt=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("CUID","CUID"),kt&&(CIB.config.features.enableHiddenTurnCountLocalAccount=!0)),aw&&(CIB.config.features.enablePreProactivePanelPosition=aw),CIB.config.links.locationLearnMore=ilt,lo(si),vo(),[2]}})})}function lo(n){var u,f,e,o,s,h,c,l;n&&i(r.System,"ConfigsSet","Codex");l=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isCCP,!1);l&&i(r.System,"isCCP","Codex");var v=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableUserInfoLogging,!1),y=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isStudentUser,!1),p=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.isMinorStudentUser,!1),a=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isTeenageStudentUser,!1),w=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isBingChatForFaculty,!1),b=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.isBingChatForStudents,!1);(v||a)&&i(r.System,"UserInfo","Codex",{isBCSFaculty:w,isBCSStudent:b,isTeenageStudent:a,isMinorStudent:p,isStudent:y})}function ao(n,i){var r=t(n===null||n===void 0?void 0:n.enableDynamicMaxMessageLength,!0),u=t(n===null||n===void 0?void 0:n.maxMessageLengthBalancedPro,4e3),f=t(n===null||n===void 0?void 0:n.maxMessageLengthCreativePro,16e3),e=t(n===null||n===void 0?void 0:n.maxMessageLengthPrecisePro,16e3),o=t(n===null||n===void 0?void 0:n.maxMessageLengthBalanced,4e3),s=t(n===null||n===void 0?void 0:n.maxMessageLengthCreative,8e3),h=t(n===null||n===void 0?void 0:n.maxMessageLengthPrecise,8e3);r&&(CIB.config.features.enableDynamicMaxMessageLength=!0,CIB.config.messaging.maxMessageLengthBalanced=i?u:o,CIB.config.messaging.maxMessageLengthCreative=i?f:s,CIB.config.messaging.maxMessageLengthPrecise=i?e:h)}function vo(){var n,t,i;(i=(t=(n=CIB.vm.conversation)===null||n===void 0?void 0:n.sidePanel)===null||t===void 0?void 0:t.pluginPanel)===null||i===void 0?void 0:i.onPluginsLoaded(function(){var n,t,i,r,u,f,e,o;if(((t=(n=CIB.config)===null||n===void 0?void 0:n.features)===null||t===void 0?void 0:t.enablePhonePlugin)||((r=(i=CIB.config)===null||i===void 0?void 0:i.features)===null||r===void 0?void 0:r.enablePhonePluginCatalog)){var h=new URLSearchParams(window.location.search),c=h.get("enablephone")==="1",s=(f=(u=CIB.vm.config)===null||u===void 0?void 0:u.phone)===null||f===void 0?void 0:f.getPluginId(CIB.config);c&&s&&((o=(e=CIB.vm.sidePanel)===null||e===void 0?void 0:e.pluginPanel)===null||o===void 0?void 0:o.togglePlugin(s,!0))}})}function yo(u){var o=t(u===null||u===void 0?void 0:u.enableAutoDetectLanguageNotificationTest,!1),s=t(u===null||u===void 0?void 0:u.enableSpeechAutoDetectLanguage,!0),h=t(u===null||u===void 0?void 0:u.enableAutoDetectLanguageNotification,!0),f,e;s&&(f=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,di),f&&f!="1"?f=="0"&&(CIB.config.speech.query.autodetect="0"):(CIB.config.speech.query.autodetect="1",CIB.config.features.enableSpeechAutoDetectLanguage=s,(o||h)&&(e=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,gi),(o||!e||e!=="1")&&(CIB.config.features.enableSpeechAutoDetectLanguageEvent=!0,g=!0,CIB.config.speech.shouldShowAutoDetectSettingNotification=function(){i(r.System,"ShouldShowVoiceAutoDetectNotification","Voice",{isShown:g?"1":"0"});var t=g;return t&&sj_cook.set(n.userCook,gi,"1",!0,"/",null),g=!1,t},CIB.config.speech.onAutoDetectSettingUpdated=function(t){var u=t?"1":"0";i(r.System,"VoiceAutoDetectSettingUpdated","Voice",{isEnabled:u});sj_cook.set(n.userCook,di,u,!0,"/",null)}))))}function po(){var n=_w._sydConvConfig,i=t(n===null||n===void 0?void 0:n.enablePrefetchForMicMode,!0),r=t(n===null||n===void 0?void 0:n.enablePrefetchForNonMicMode,!0),u=t(n===null||n===void 0?void 0:n.enablePrefetchConversationToken,!0),f=t(n===null||n===void 0?void 0:n.enableConnectionProvider,!1),e=t(n===null||n===void 0?void 0:n.enableLogTextMessageSendAfterConnection,!1),o=t(n===null||n===void 0?void 0:n.enableLogTextMessageSendWithoutConversationId,!1),s=t(n===null||n===void 0?void 0:n.enableFixDuplicateTextMessageSend,!1),h=t(n===null||n===void 0?void 0:n.enableFixDuplicateTextMessageSendAutoRecovery,!1);CIB.config.features.enablePrefetchForMicMode=i;CIB.config.features.enablePrefetchForNonMicMode=r;CIB.config.features.enablePrefetchConversationToken=u;CIB.config.features.enableConnectionProvider=f;CIB.config.features.enableLogTextMessageSendAfterConnection=e;CIB.config.features.enableLogTextMessageSendWithoutConversationId=o;CIB.config.features.enableFixDuplicateTextMessageSend=s;CIB.config.features.enableFixDuplicateTextMessageSendAutoRecovery=h}function wo(){var n=_w._sydConvConfig,i=t(n===null||n===void 0?void 0:n.enableGoldilocks,!0),r=t(n===null||n===void 0?void 0:n.enableGoldilocksRAIButton,!0),u=t(n===null||n===void 0?void 0:n.enableGoldilocksStrokes,!0),f=t(n===null||n===void 0?void 0:n.enableGoldiLocksBackgroundLight,!1),e=t(n===null||n===void 0?void 0:n.enableGoldilocksLineHeight,!0),o=t(n===null||n===void 0?void 0:n.enableGoldilocksMetaMessage,!0),s=t(n===null||n===void 0?void 0:n.enableGoldilocksAttributionPills,!0),h=t(n===null||n===void 0?void 0:n.enableGoldilocksMessageActions,!0),c=t(n===null||n===void 0?void 0:n.enableGoldilocksTurnCounter,!0),l=t(n===null||n===void 0?void 0:n.enableGoldilocksStrokes2T,!0),a=t(n===null||n===void 0?void 0:n.enableGoldilocksCitations,!0),v=t(n===null||n===void 0?void 0:n.enableGoldilocksWiderActionBar,!0),y=t(n===null||n===void 0?void 0:n.enableGoldilocksExportDropdown,!0),p=t(n===null||n===void 0?void 0:n.enableGoldilocksInlineFeedback,!0),w=t(n===null||n===void 0?void 0:n.enableGoldilocksUserMsgActionBar,!0),b=t(n===null||n===void 0?void 0:n.enableGoldilocksContextual,!0),it=t(n===null||n===void 0?void 0:n.enableGoldilocksSydneyAction,!0),k=t(n===null||n===void 0?void 0:n.enableGoldilocksPersistentMetas,!1),d=t(n===null||n===void 0?void 0:n.enableGoldilocksInlinePersistentMetas,!0),g=t(n===null||n===void 0?void 0:n.enableGoldilocksIdentity,!1),nt=t(n===null||n===void 0?void 0:n.enableGoldilocksCopilotGreetingFix,!0),tt=t(n===null||n===void 0?void 0:n.enableGoldilocksMuidConsent,!1);CIB.config.features.enableUserMsgActionBar=w;CIB.config.features.enableGoldilocks=i;CIB.config.features.enableGoldilocksRAIButton=r;CIB.config.features.enableGoldilocksStrokes=u;CIB.config.features.enableGoldiLocksBackgroundLight=f;CIB.config.features.enableGoldilocksLineHeight=e;CIB.config.features.enableGoldilocksMetaMessage=o;CIB.config.features.enableGoldilocksAttributionPills=s;CIB.config.features.enableGoldilocksMessageActions=h;CIB.config.features.enableGoldilocksTurnCounter=c;CIB.config.features.enableGoldilocksStrokes2T=l;CIB.config.features.enableGoldilocksCitations=a;CIB.config.features.enableGoldilocksWiderActionBar=v;CIB.config.features.enableGoldilocksExportDropdown=y;CIB.config.features.enableGoldilocksInlineFeedback=p;CIB.config.features.enableGoldilocksContextual=b;CIB.config.features.enableGoldilocksPersistentMetas=k;CIB.config.features.enableGoldilocksInlinePersistentMetas=d;CIB.config.features.enableGoldilocksBackgroundGpt=!1;CIB.config.features.enableGoldilocksIdentity=g;CIB.config.features.enableGoldilocksCopilotGreetingFix=nt;CIB.config.features.enableGoldilocksMuidConsent=tt}function bo(){var n,t=(n=window===null||window===void 0?void 0:window.location)===null||n===void 0?void 0:n.origin;return t?t:pf}function ko(t,u){if(t||u){var f=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,rr);(u||!f||f!=="1")&&(nt=!0,CIB.config.speech.shouldReopenMicNotification=function(){i(r.System,"ShouldShowReopenMicNotification ","Voice",{isShown:nt?"1":"0"});var t=nt;return t&&sj_cook.set(n.userCook,rr,"1",!0,"/",null),nt=!1,t},CIB.config.speech.onReopenMicSettingUpdated=function(t){var u=t?"1":"0";i(r.System,"VoiceReopenSettingUpdated","Voice",{isEnabled:u});sj_cook.set(n.userCook,ir,u,!0,"/",null)})}}function go(){if(CIB.onResetConversation)CIB.onResetConversation(function(){i(r.System,"ResetConversationTriggered","ChatMode","1")})}function wr(){var f=this,i,r,u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydTestCache,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydTestHelper,!1);(u||e)&&"SydneyTestHelper"in _w&&(SydneyTestHelper.setTestConfigs(u),u&&sj_evt.bind("CHAT_MOCKED",function(t){var i=t&&t.length>1?t[1]:null;i&&(n.processCachedResponseUsingCIB=function(){return __awaiter(f,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return SydneyTestHelper.shouldWaitForAnswerScript()?[4,SydneyTestHelper.getAnswerScriptDefer().p]:[3,2];case 1:n.sent();n.label=2;case 2:return ts(i),[2]}})})})},!0))}function ns(){var n,i,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.modelSelector,u),e=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableModelSelector,!1),r;if(e){CIB.config.features.enableModelSelector=!0;try{r=JSON.parse(f);CIB.config.modelSelector?(CIB.config.modelSelector.modelList=r.modelList,CIB.config.modelSelector.defaultModelKey=r.defaultModelKey):CIB.config.features.enableModelSelector=!1}catch(o){CIB.config.features.enableModelSelector=!1}}}function ts(n){var i,r,u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableLoopNotebook,!1),f=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableNotebookMode,!1),e=new URLSearchParams(window.location.search),o=e.get("showntbk")==="1";u&&f&&o?sj_evt.bind("NotebookLoopInitialized",function(){CIB.processCachedResponse(n)},!0):CIB.processCachedResponse(n)}function is(){var i,n=_w._sydConvConfig,r=t(n===null||n===void 0?void 0:n.enableInPrivateUserMode,!1),f=t(n===null||n===void 0?void 0:n.enableCopilotFullScreenUX,!1),e=t(n===null||n===void 0?void 0:n.enableNoScrollDownOnInit,!1),o=t(n===null||n===void 0?void 0:n.enableFormCodeBingUrl,!0),s=t(n===null||n===void 0?void 0:n.enableRelativeSignInUrl,!0),u=t(n===null||n===void 0?void 0:n.enableSuggestionItemEnterAnimation,!1),h=t(n===null||n===void 0?void 0:n.enableWowCDSSurvey,!1),c=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isHeaderBackButtonEnabled,!1);r&&(CIB.config.features.enableInPrivateUserMode=r);f&&(CIB.config.mobile.isFullScreenEnabled=!0,CIB.config.features.enableThreadsPreview=!1,CIB.config.mobile.isHeaderBackButtonEnabled=c?!0:!1,CIB.config.features.enableThreadsHistoryIcon=!0);e&&(CIB.config.features.enableNoScrollDownOnInit=!0);o&&(CIB.config.features.enableFormCodeBingUrl=!0);s&&(CIB.config.bing.signIn.baseUrl=window.location.origin);u&&(CIB.config.features.enableSuggestionItemEnterAnimation=u);h&&(CIB.config.features.enableWowCDSSurvey=!0);ns()}function br(){var i,r,u,f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexWin,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.codexWinCurrentTurn,0),o=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexWinBotMessage,!1);f&&(sj_cook.set(n.userCook,ye,String(e+1),!0,"/",null),o&&(n.shouldForceSendBotGreeting=!0));sj_evt.unbind("showSydFSC",br)}function rs(){var n,i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableDM,!1);i&&CIB.changeColorScheme&&CIB.changeColorScheme(1)}function kr(){var n=Math.round(_d.documentElement.clientWidth||_w.innerWidth);return n<100&&(n=360),n}function dr(){var n=Math.round(_d.documentElement.clientHeight||_w.innerHeight);return n<100&&(n=636),n}function gr(){var n,t=(n=_G.Lang)!==null&&n!==void 0?n:"en",i=new URL("turing/convtranslation/".concat(t,".json"),window.location.origin);return i.href}function us(){var t,f=gr(),i=document.querySelector("head"),r,n,u;i&&typeof i.appendChild=="function"&&((r=_ge("sydtranslpre"),r)||(n=sj_ce("link"),n)&&((n.setAttribute("rel","prefetch"),n.setAttribute("href",f),n.setAttribute("as","fetch"),n.setAttribute("id","sydtranslpre"),u=(t=performance===null||performance===void 0?void 0:performance.getEntriesByName(n.href))===null||t===void 0?void 0:t.length,u>0)||i.appendChild(n)))}function fs(){var n;return __awaiter(this,void 0,void 0,function(){var t,i,r;return __generator(this,function(u){switch(u.label){case 0:t=(n=_G.Lang)!==null&&n!==void 0?n:"en";i=null;u.label=1;case 1:return u.trys.push([1,3,,4]),[4,es(t)];case 2:return i=u.sent(),i?(tu(i),[2,!0]):(nu(t),[2,!1]);case 3:return r=u.sent(),nu(t,r),[2,!1];case 4:return[2]}})})}function nu(n,t){var r,u,f,e;t===void 0&&(t=null);f={lang:n,locationOrigin:(r=_d===null||_d===void 0?void 0:_d.location)===null||r===void 0?void 0:r.origin,locationPath:(u=_d===null||_d===void 0?void 0:_d.location)===null||u===void 0?void 0:u.pathname};e=t==null?"SydneyTranslationAjaxError":"SydneyTranslationAjaxException";i("CI.Error",e,"TranslationJson",f)}function es(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(r){switch(r.label){case 0:return t=gr(),[4,fi(t,"","GET")];case 1:return(n=r.sent(),n===null||n===void 0?void 0:n.response)?(i=JSON.parse(n.response),_w._sydConvTranslation=__assign(__assign({},_w._sydConvTranslation),i),[2,_w._sydConvTranslation]):[2]}})})}function tu(n){for(var r,t=0,i=Object.keys(n);t<i.length;t++)r=i[t],CIB.config.strings[r]=n[r]}function os(){var n,i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.hideSignInUI,!1);CIB.config.features.enableMUIDUserMode=!0;CIB.config.features.enableSignInUpsellforMuidUser=i?!1:!0;iu()}function iu(){var n,i,r,u,f,e,o,s,h=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableBfbCookieConsent,!1),c=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexMuidConsentTop,!1),l=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableCodexMuidConsentExplicit,!0),a=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexMuidConsentImplicit,!1),v=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableCodexMuidConsentModal,!1),y=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableCodexMuidConsentModalWelcome,!1),p=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableCodexMuidConsentRetrigger,!1),w=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableForceMuidConsent,!1),b=c||l||a||v;b&&(CIB.config.features.enableCodexMuidConsentTop=c,CIB.config.features.enableCodexMuidConsentInlineExplicit=l,CIB.config.features.enableCodexMuidConsentInlineImplicit=a,CIB.config.features.enableCodexMuidConsentModal=v,CIB.config.features.enableCodexMuidConsentModalWelcome=y,CIB.config.features.enableCodexMuidConsentRetrigger=p,CIB.config.sydney.muidUserConsentGiven=!w&&(h&&pt||fu()),CIB.onConsentGiven&&CIB.onConsentGiven(function(){bh();h&&BceSydneyHelper.updateBfbConsent()}))}function ru(){var n,i,r,u,f,o,s;return __awaiter(this,void 0,void 0,function(){var y,h,a,p,w,b,d,v,c,l,g,nt=this;return __generator(this,function(tt){switch(tt.label){case 0:if(y=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableThreads,!1),!y||sr)return[2];if(sr=!0,h=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableThreadsConsent,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.threadsAutoSaveOptionset,k),p=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableFetchUserConsent,!0),w=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableThreadsConsentOnlyAutosave,!1),b=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableInlinePersonalizationConsentCallback,!1),d=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isBingUserSignedIn,!1),CIB.config.features.enableThreadsConsent=h,CIB.config.features.enableThreadsConsentOnlyAutosave=!!w,h&&CIB.onAutosaveConsentChanged)CIB.onAutosaveConsentChanged(function(n){switch(n){case"Allowed":e(CIB.config.sydney.request.optionsSets,a);break;default:ou(CIB.config.sydney.request.optionsSets,a)}});return(h&&d&&(e(CIB.config.sydney.request.optionsSets,"enable_user_consent"),e(CIB.config.sydney.request.optionsSets,"fluxmemcst")),!(h&&p&&CIB.fetchConsent))?[3,2]:[4,CIB.fetchConsent()];case 1:return tt.sent(),[3,8];case 2:if(!(h&&CIB.getConsent&&CIB.updateConsent))return[3,8];tt.label=3;case 3:return tt.trys.push([3,7,,8]),[4,CIB.getConsent()];case 4:return(v=tt.sent(),c=v.consentSettings.autoSave,l=v.consentSettings.personalization,!(c&&l&&(c!=="Allowed"||l!=="Allowed")))?[3,6]:[4,CIB.updateConsent(c,l)];case 5:tt.sent();tt.label=6;case 6:return[3,8];case 7:return g=tt.sent(),[3,8];case 8:if(b&&CIB.onPersonalizationMessageRendered&&CIB.fetchConsent)CIB.onPersonalizationMessageRendered(function(){return __awaiter(nt,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,CIB.fetchConsent()];case 1:return n.sent(),[2]}})})});return[2]}})})}function ss(){var i,n=_w._sydConvConfig,r=t(n===null||n===void 0?void 0:n.enableMultimediaSearch,!1),f=t(n===null||n===void 0?void 0:n.enableMultimediaSearchVideo,!1);if((r||f)&&((i=CIB.config.multimediaSearch)===null||i===void 0?void 0:i.query)){var c=t(n===null||n===void 0?void 0:n.isMobileHost,!1),e=t(n===null||n===void 0?void 0:n.multimediaSearchFormCode,"IACMIR"),o=t(n===null||n===void 0?void 0:n.multimediaSearchEnableMediaCanvas,!0),l=t(n===null||n===void 0?void 0:n.multimediaSearchMaxImageCount,5),a=t(n===null||n===void 0?void 0:n.multimediaSearchMaxVideoCount,3),v=t(n===null||n===void 0?void 0:n.multimediaSearchEnableCachedImages,!1),h=t(n===null||n===void 0?void 0:n.multimediaSearchOptionsSets,u);h&&(CIB.config.sydney.request.optionsSets=s(CIB.config.sydney.request.optionsSets,h));CIB.config.features.enableMultimediaSearch=r;CIB.config.features.enableMultimediaSearchVideo=f;CIB.config.multimediaSearch.maxImageCount=l;CIB.config.multimediaSearch.maxVideoCount=a;CIB.config.multimediaSearch.enableMediaCanvas=o;CIB.config.multimediaSearch.enableCachedImages=v;o&&c&&(CIB.config.multimediaSearch.query.view="detailV2",CIB.config.multimediaSearch.query.idpbck="1");e&&(CIB.config.multimediaSearch.query.form=e)}}function hs(){var n,i,r,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableVisualSearch,!1);if(ut){var ot=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.removeCameraInputForVisualSearch,!1),st=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.dVSOC,!1),ht=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.aimgut,!1),ft=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.visualSearchSubscriptionId,"Bing.Chat.Multimodal"),ct=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.vsbtnicon,u),lt=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.vsbtniconfill,u),at=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.eifpiab,!0),vt=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.emwc,!1),yt=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.eufte,!1),pt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.ecambar,!1),wt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.eaddimgbar,!1),bt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.eaddimgicon,!1),kt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.evsfre,!1),dt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.ekrbu,!1),gt=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.evsptnr,!0),ni=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.evsdirurl,!0),ti=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.eimgsmkcard,!1),et=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.imgsmkptntype,""),ii=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.efhof,!0),ri=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.eprsusimg,!0),ui=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.edndimglog,!1);ot&&(CIB.config.features.enableCameraInputForVisualSearch=!1);st&&(CIB.config.features.enableVisualSearchOrientationCheck=!1);dt&&(CIB.config.visualSearch.baseUrl=window.location.origin);CIB.config.features.enableVisualSearch=ut;CIB.config.features.enableImageFilePasteInActionBar=at;CIB.config.features.enableUnsupportedFileTypeError=yt;CIB.config.features.enableVisualSearchFRE=kt;CIB.config.features.enablePartnerVisualSearchUpload=gt;CIB.config.features.enableImageKnowledgeAnswerCards=ti;CIB.config.features.enableFlyoutHeaderOverlapFix=ii;CIB.config.features.enableProgressiveUnsanitizedUserImage=ri;CIB.config.visualSearch.allowImageOnlyUserTurn=ht;CIB.config.visualSearch.enableMobileWebCamera=vt;CIB.config.visualSearch.enableCameraInActionBar=pt;CIB.config.visualSearch.enableAttachImageInActionBar=wt;CIB.config.visualSearch.enableDragAndDropImageUrlLog=ui;CIB.config.visualSearch.sendPartnerImageUrlDirectlyToBot=ni;CIB.config.visualSearch.useImageAddIcon=bt;CIB.config.visualSearch.includeCredentialInXHRRequest=!0;CIB.config.visualSearch.flyoutButtonIcon=ct;CIB.config.visualSearch.flyoutButtonFillIcon=lt;et&&((rt=CIB.config.imageKnowledge)===null||rt===void 0?void 0:rt.query)&&(CIB.config.imageKnowledge.query.ptntype=et);!ft||(CIB.config.visualSearch.subscriptionId=ft);vs();ys();ps()}}function cs(){var n,i,r,u,f,e,o,s,h,c;CIB.config.features.enableM365ConsumerPluginsCatalog=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableM365ConsumerPluginsCatalog,!1);CIB.config.features.enableM365ConsumerPluginHighPosition=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableM365ConsumerPluginHighPosition,!1);CIB.config.features.enableM365ConsumerPluginPrivacyProtection=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableM365ConsumerPluginPrivacyProtection,!1);CIB.config.features.enableM365AuthSkipSso=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableM365AuthSkipSso,!1);CIB.config.features.enableM365PluginsCustomData=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableM365PluginsCustomData,!1);CIB.config.features.enableM365OneDriveImageFilter=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableM365OneDriveImageFilter,!1);h=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableM365consumerPlugin,!1);c=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableM365ConsumerPluginOneDrive,!1);h&&(CIB.config.features.enableM365consumerPlugin=!0,ls());c&&(CIB.config.features.enableM365ConsumerPluginOneDrive=!0,as())}function ls(){var n,i,r,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthRedirectUri,"https://www.bing.com/chat");u&&(CIB.config.m365consumer.pluginAuth.redirectUri=u);CIB.config.m365consumer.pluginAuth.getClientId=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginClientId,vi)};CIB.config.m365consumer.pluginAuth.getAuthority=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthority,ai)};CIB.config.m365consumer.pluginAuth.scope=[t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.m365ConsumerPluginAuthScope,"https://substrate.office.com/.default")];CIB.config.m365consumer.pluginAuth.showLoginPopup=!0;CIB.config.m365consumer.getOptionsSet=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginOptionsSet,"flux_m365consumer")};CIB.config.m365consumer.pluginId=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.m365ConsumerOutlookPluginId,"d03ca482-c3c8-4b7c-ace3-b52857208916");CIB.config.m365consumer.substrateTokenExpiryTimeInHours=8}function as(){var n,i,r,u,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthRedirectUri,"https://www.bing.com/chat");f&&(CIB.config.m365ConsumerOneDrive.pluginAuth.redirectUri=f);CIB.config.m365ConsumerOneDrive.pluginAuth.getClientId=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginClientId,vi)};CIB.config.m365ConsumerOneDrive.pluginAuth.getAuthority=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthority,ai)};CIB.config.m365ConsumerOneDrive.pluginAuth.scope=[t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.m365ConsumerPluginAuthScope,"https://substrate.office.com/.default")];CIB.config.m365ConsumerOneDrive.pluginAuth.showLoginPopup=!0;CIB.config.m365ConsumerOneDrive.graphAuthScopes=[t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.m365ConsumerPluginGraphScope,"Files.Read.All")];CIB.config.m365ConsumerOneDrive.getOptionsSet=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginOneDriveOptionsSet,"flux_onedrive")};CIB.config.m365ConsumerOneDrive.pluginId=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.m365ConsumerOneDrivePluginId,"1e1a2734-7a88-4c1c-be1d-a79907b177c0");CIB.config.m365consumer.substrateTokenExpiryTimeInHours=8}function vs(){var i,n=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.visualSearchRestrictedTonesList,null);(n===null||n===void 0?void 0:n.length)>0&&CIB.config.visualSearch&&(CIB.config.visualSearch.restrictedTones=[],n.forEach(function(n){CIB.config.visualSearch.restrictedTones.push(n.value)}))}function ys(){var i,n=CIB.config.visualSearch,t;((i=_w._sydConvConfig)===null||i===void 0?void 0:i.evssid)&&n&&(t=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("_SS","SID"),t&&(n.query?n.query.SID=t:n.query={SID:t}))}function ps(){var n,i,r,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.evscamprd,!1),u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.vscamprdname,"");f&&u&&((r=_w.SydneyCameraProviderFactory)===null||r===void 0?void 0:r.create(u))}function ws(){var n,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableFixCodeXAsBug,!0),gt=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableStableAutosuggestion,!0),ni=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableEndpointInASTelemetry,!1),ti=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableAutosuggestMetrics,!0),ii=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableCvidInAutosuggestAPI,!0),ri=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableAutoSuggestBackspaceFix,!1),ui=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableGhostingSuggestTelemetry,!0),fi=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableResetASProperties,!0),ei=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableKSPQPropertiesTracking,!0),oi=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableAutoSuggestPerfMetrics,!1),si=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableAutoSuggestPerfMetricP50,!1),hi=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableAutoSuggestPerfMetricP90,!1),ci=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableAutoSuggestPerfMetricAvgLatency,!1),li=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableAutoSuggestPerfMetricQFT,!1),ai=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableReduceDebouncingAutosuggest,!1),vi=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableCachingAutosuggest,!0),yi=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableAcceptSuggestionOnRightArrow,!1),pi=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableShowAutosuggestButton,!0),wi=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.enableASCookieCheckToDisableGhosting,!1),bi=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.maxCacheLength,to),ki=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.enableAutoSuggestMidQueryFix,!1),di=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableAutoSuggestPerfMetricBackendLatency,!1),gi=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.enableTrackingAutosuggestCacheHit,!1),nr=t((rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.enableTrackingAutosuggestAcceptanceRate,!1),tr=t((ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.enableTrackUserTypingSpeed,!1),ir=t((ft=_w._sydConvConfig)===null||ft===void 0?void 0:ft.enableTrackUserAcceptanceRate,!1),rr=t((et=_w._sydConvConfig)===null||et===void 0?void 0:et.enableThresholdForTypingSpeed,!1),ur=t((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.enableSuggChipInAutoSuggest,!0),fr=t((st=_w._sydConvConfig)===null||st===void 0?void 0:st.enableAutoSuggestSlmCache,!1),er=t((ht=_w._sydConvConfig)===null||ht===void 0?void 0:ht.enableAutoSuggestSlmPerfLatency,!1),or=t((ct=_w._sydConvConfig)===null||ct===void 0?void 0:ct.enableThresholdAutosuggestLength,!1),sr=t((lt=_w._sydConvConfig)===null||lt===void 0?void 0:lt.ghostedLengthThreshold,5),hr=t((at=_w._sydConvConfig)===null||at===void 0?void 0:at.refreshTriggerCount,100),cr=t((vt=_w._sydConvConfig)===null||vt===void 0?void 0:vt.timeDifferenceThreshold,500),lr=t((yt=_w._sydConvConfig)===null||yt===void 0?void 0:yt.maxSlmCacheLength,io),ar=t((pt=_w._sydConvConfig)===null||pt===void 0?void 0:pt.minSlmTriggerWordCount,ro),vr=t((wt=_w._sydConvConfig)===null||wt===void 0?void 0:wt.enableLastUserMsgInAutoSuggest,!1),yr=t((bt=_w._sydConvConfig)===null||bt===void 0?void 0:bt.minCtxSlmTriggerWordCount,uo),pr=t((kt=_w._sydConvConfig)===null||kt===void 0?void 0:kt.minSlmTriggerCharCount,fo);CIB.config.features.enableFixCodeXAsBug=dt;CIB.config.features.enableStableAutosuggestion=gt;CIB.config.features.enableEndpointInASTelemetry=ni;CIB.config.features.enableAutosuggestMetrics=ti;CIB.config.features.enableCvidInAutosuggestAPI=ii;CIB.config.features.enableAutoSuggestBackspaceFix=ri;CIB.config.features.enableGhostingSuggestTelemetry=ui;CIB.config.features.enableResetASProperties=fi;CIB.config.features.enableKSPQPropertiesTracking=ei;CIB.config.features.enableReduceDebouncingAutosuggest=ai;CIB.config.features.enableCachingAutosuggest=vi;CIB.config.features.enableAcceptSuggestionOnRightArrow=yi;CIB.config.features.enableShowAutosuggestButton=pi;CIB.config.features.enableASCookieCheckToDisableGhosting=wi;CIB.config.suggestions.maxCacheLength=bi;CIB.config.features.enableAutoSuggestMidQueryFix=ki;CIB.config.features.enableTrackUserTypingSpeed=tr;CIB.config.features.enableTrackUserAcceptanceRate=ir;CIB.config.features.enableThresholdForTypingSpeed=rr;CIB.config.features.enableSuggChipInAutoSuggest=ur;CIB.config.features.enableAutoSuggestSlmCache=fr;CIB.config.features.enableThresholdAutosuggestLength=or;CIB.config.features.ghostedLengthThreshold=sr;CIB.config.features.refreshTriggerCount=hr;CIB.config.features.timeDifferenceThreshold=cr;CIB.config.suggestions.maxSlmCacheLength=lr;CIB.config.suggestions.minSlmTriggerWordCount=ar;CIB.config.features.enableLastUserMsgInAutoSuggest=vr;CIB.config.suggestions.minCtxSlmTriggerWordCount=yr;CIB.config.suggestions.minSlmTriggerCharCount=pr;CIB.config.features.enableAutoSuggestPerfMetrics=oi;CIB.config.features.enableAutoSuggestPerfMetricP50=si;CIB.config.features.enableAutoSuggestPerfMetricP90=hi;CIB.config.features.enableAutoSuggestPerfMetricAvgLatency=ci;CIB.config.features.enableAutoSuggestPerfMetricQFT=li;CIB.config.features.enableAutoSuggestPerfMetricBackendLatency=di;CIB.config.features.enableTrackingAutosuggestCacheHit=gi;CIB.config.features.enableTrackingAutosuggestAcceptanceRate=nr;CIB.config.features.enableAutoSuggestSlmPerfLatency=er}function bs(n){var u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,lt=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableFileUpload,!1),at=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableFileUploadPrivacyMessage,!1),vt=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableMobileFileUpload,!1),yt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableFileUploadWebPageUrlInput,!1),pt=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableFileUploadContextInThreads,!1),wt=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableTextFilePasteInActionBar,!0),bt=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableFileUploadForAllModes,!0),kt=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableFileUploadDirect,!1),dt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableFileUploadOfficeFilesSupport,!1),gt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableFileUploadAudioSupport,!1),ni=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableFileUploadPDFSupportByKED,!1),ti=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableFileUploadAnyTypeSupport,!1),ii=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.fileSizeLimitation,kf),ri=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.audioFileSizeLimitation,df),st=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.fileSizeLimitationPro,gf),ui=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.fileUploadFileNameLengthLimitation,ne),fi=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.fileMaxCountForGptCreator,te),ei=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.fileMaxCountForChat,ie),oi=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableFileUploadNewUploadFileAPI,!0),si=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.disableFileUploadOptionSets,!1),hi=t((rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.enableSydFileUploadPartnerUpload,!0),ht=t((ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.enableSydFileUploadMaxSizeTiers,!1),ci=t((ft=_w._sydConvConfig)===null||ft===void 0?void 0:ft.enableSydFileUploadDynamicOptionSets,!1),li=t((et=_w._sydConvConfig)===null||et===void 0?void 0:et.enableFileUploadSydneyOptionSets,!1),ct=t((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.fileUploadAPIOptionsSets,re),i,r;lt&&(CIB.config.features.enableFileUpload=!0,vt&&(CIB.config.features.enableMobileFileUpload=!0));at&&(CIB.config.features.enableFileUploadPrivacyMessage=!0);yt&&(CIB.config.features.enableFileUploadWebPageUrlInput=!0);pt&&(CIB.config.features.enableFileUploadContextInThreads=!0);wt&&(CIB.config.features.enableTextFilePasteInActionBar=!0);bt&&(CIB.config.features.enableFileUploadForAllModes=!0);kt&&(CIB.config.features.enableFileUploadDirect=!0);dt&&(CIB.config.features.enableFileUploadOfficeFilesSupport=!0,typeof CIB.config.features.enableFileUploadDocxSupport!="undefined"&&(CIB.config.features.enableFileUploadDocxSupport=!0));gt&&(CIB.config.features.enableFileUploadAudioSupport=!0);ni&&(CIB.config.features.enableFileUploadPDFSupportByKED=!0);ti&&(CIB.config.features.enableFileUploadAnyTypeSupport=!0);oi&&(CIB.config.features.enableSydneyUploadFileAPI=!0);hi&&(CIB.config.features.enablePartnerFileUpload=!0);si&&CIB.config.fileUpload&&(CIB.config.fileUpload.extraOptionsSetV2=[]);ci&&(CIB.config.fileUpload.extraOptionsSetV2=["ldsummary_d","ldqa_d","sdretrieval_d"]);li&&(CIB.config.features.enableFileUploadSydneyOptionSets=!0);ct&&(CIB.config.fileUpload.uploadFileAPIOptionsSets=ct);CIB.config.fileUpload&&(i=ht&&n?st:ii,r=ht&&n?st:ri,CIB.config.fileUpload.audioFileSizeLimitation=r,CIB.config.fileUpload.fileSizeLimitationLongContext=i,CIB.config.fileUpload.fileSizeLimitation=i,CIB.config.fileUpload.fileSizeLimitationForChat=i,CIB.config.fileUpload.audioFileSizeLimitationForChat=r,CIB.config.fileUpload.fileSizeLimitationForGptCreator=i,CIB.config.fileUpload.audioFileSizeLimitationForGptCreator=r,CIB.config.fileUpload.fileNameLengthLimitation=ui,CIB.config.fileUpload.fileMaxCountForGptCreator=fi,CIB.config.fileUpload.fileMaxCountForChat=ei,ks())}function ks(){var u,f,e,o,n=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.azureAIDocumentAnalysisFileExtensions,ue),i=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.audioFileExtensions,si),r=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.extraAudioFileExtensions,si);(n===null||n===void 0?void 0:n.length)>0&&CIB.config.features.enableFileUploadOfficeFilesSupport&&(CIB.config.fileUpload.azureAIDocumentAnalysisFileExtensions=[],n.forEach(function(n){CIB.config.fileUpload.azureAIDocumentAnalysisFileExtensions.push(n.value)}));(i===null||i===void 0?void 0:i.length)>0&&CIB.config.features.enableFileUploadAudioSupport&&(CIB.config.fileUpload.audioFileExtensions=[],i.forEach(function(n){CIB.config.fileUpload.audioFileExtensions.push(n.value)}),(r===null||r===void 0?void 0:r.length)>0&&t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableFileUploadExtraAudioExtension,!1)&&r.forEach(function(n){CIB.config.fileUpload.audioFileExtensions.push(n.value)}))}function ds(){var f,o,s,h,c,l,a,v,y,p,w,b,d,g,nt,tt,rt=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableShareWholeThreadMockUp,!1),ut=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableThreadShareLandingPage,!1),ft=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableShareConversation,!0),et=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableShareThreadWithNoCache,!1),ot=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableWholeThreadPerformanceFix,!1),st=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableShareCurrentThreadMessagesfromAPI,!0),ht=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableThreadShareWithoutRenderCardRequest,!1),ct=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableGetConversationAPIWithSNRProxy,!0),lt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableBICHistory,!0),at=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enable2TScreenshot,!1),vt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enable2TScreenshotSnR,!1),it=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableThreads,!1),wt=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.enableThreadsCF,!1),yt=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.enableThreadsCopilotMobileUpsell,!1),n,u,pt;if(rt&&(CIB.config.features.enableShareWholeThreadMockUp=rt),ut&&(CIB.config.features.enableThreadShareLandingPage=ut),ft&&(CIB.config.features.enableShareConversation=ft),et&&(CIB.config.features.enableShareThreadWithNoCache=et),ot&&(CIB.config.features.enableWholeThreadPerformanceFix=ot),st&&(CIB.config.features.enableShareCurrentThreadMessagesfromAPI=st),ht&&(CIB.config.features.enableThreadShareWithoutRenderCardRequest=ht),ct&&(CIB.config.features.enableGetConversationAPIWithSNRProxy=ct),lt&&(CIB.config.features.enableBICHistory=lt),at&&(CIB.config.features.enableAnswerScreenshot=at),vt&&(CIB.config.features.enableAnswerScreenshotSnR=vt,CIB.config.sydney.request.conversationHistoryOptionsSets=e(CIB.config.sydney.request.conversationHistoryOptionsSets,"upshres")),yt&&(CIB.config.features.enableThreadsCopilotMobileUpsell=yt),it){if(CIB.config.features.enableThreads=it,n=t((nt=_w._sydThreads)===null||nt===void 0?void 0:nt.threads,null),n&&n.length>0)for(u=0;u<n.length;u++)CIB.addThread(n[u]);pt=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.threadsAutoSaveOptionset,k);e(CIB.config.sydney.request.optionsSets,pt)}(it||wt)&&i(r.System,"THREADS","1","1");CIB.config.sydney.request.scenario!=="SERP"&&ru()}function gs(){var n,i,r,u,f,e,o,s,h,c=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableFullScreenUX,!1),l=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCopilotDrawer,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isHeaderBackButtonEnabled,!1),v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isHeaderCloseButtonEnabled,!1),y=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableActivityIconsFromContextMenu,!1),p=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.disableHeaderBarReturnIcon,!1),w=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableMobileLeftPanel,!1),b=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableHideGPTsInSidePanel,!1),k=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableGoldiLocksV2Background,!1);c&&(CIB.config.mobile.isFullScreenEnabled=!0);l&&(CIB.config.features.enableCopilotDrawer=!0);v&&(CIB.config.features.isHeaderCloseButtonEnabled=!0);a&&(CIB.config.mobile.isHeaderBackButtonEnabled=!0);y&&(CIB.config.features.enableActivityIconsFromContextMenu=!0);p&&(CIB.config.features.disableHeaderBarReturnIcon=!0);w&&(CIB.config.features.enableMobileLeftPanel=!0);b&&(CIB.config.features.enableHideGPTsInSidePanel=!0);k&&(CIB.config.features.enableGoldiLocksV2Background=!0)}function nh(){var n=_w._sydConvConfig,i;CIB.config.features.enableRecoverConvNotebook=t(n===null||n===void 0?void 0:n.enableRecoverConvNotebook,!0);CIB.config.features.enableShiftEnterNotebook=t(n===null||n===void 0?void 0:n.enableShiftEnterNotebook,!1);CIB.config.features.enableAltNotebookIcons=t(n===null||n===void 0?void 0:n.enableAltNotebookIcons,!0);CIB.config.features.enableGoldilocksNotebook=t(n===null||n===void 0?void 0:n.enableGoldilocksNotebook,!0);CIB.config.features.enableNotebookVerticalLayout=t(n===null||n===void 0?void 0:n.enableNotebookVerticalLayout,!0);CIB.config.features.enableNotebookVerticalResizer=t(n===null||n===void 0?void 0:n.enableNotebookVerticalResizer,!0);CIB.config.features.enableNotebookMaxWidth=t(n===null||n===void 0?void 0:n.enableNotebookMaxWidth,!0);CIB.config.features.enableNotebookPrefilledQuery=t(n===null||n===void 0?void 0:n.enableNotebookPrefilledQuery,!1);CIB.config.features.enableInlineTwoTAnswerNotebook=t(n===null||n===void 0?void 0:n.enableInlineTwoTAnswerNotebook,!0);CIB.config.features.enableNotebookNewTopicTabIndex=t(n===null||n===void 0?void 0:n.enableNotebookNewTopicTabIndex,!1);i=t(n===null||n===void 0?void 0:n.enableNotebookThreads,!1);CIB.config.features.enableNotebookThreads=i;i&&(document.body.dir=_G.RTL?"rtl":"ltr")}function th(){var n=_w._sydConvConfig,i,r;if(CIB.config.suggestions.isEnabled=t(n===null||n===void 0?void 0:n.enableAutoSuggest,!0),CIB.config.features.enableUserChatBubbles=t(n===null||n===void 0?void 0:n.enableUserChatBubbles,!1),CIB.config.features.enableSimplificationBackground=t(n===null||n===void 0?void 0:n.enableSimplificationBackground,!1),CIB.config.features.enableSuggestions=t(n===null||n===void 0?void 0:n.enableSuggestions,!0),CIB.config.features.enableBotMessageActionsBarV3=t(n===null||n===void 0?void 0:n.enableBotMessageActionsBarV3,!1),CIB.config.features.enableThumbFeedbackInOverflow=t(n===null||n===void 0?void 0:n.enableThumbFeedbackInOverflow,!1),CIB.config.features.enableChromaTheme=t(n===null||n===void 0?void 0:n.enableChromaTheme,!1),CIB.config.features.enableCircularTypingIndicator=t(n===null||n===void 0?void 0:n.enableCircularTypingIndicator,!1),CIB.config.features.enableFrostedConversationFades=t(n===null||n===void 0?void 0:n.enableFrostedConversationFades,!1),CIB.config.features.enableDynamicConversationBackground=t(n===null||n===void 0?void 0:n.enableDynamicConversationBackground,!1),CIB.config.features.enableConsistentDesktopTypography=t(n===null||n===void 0?void 0:n.enableConsistentDesktopTypography,!1),CIB.config.features.enableHeaderDesktop=t(n===null||n===void 0?void 0:n.enableHeaderDesktop,!1),CIB.config.features.enableToneSelectorInDesktopHeader=t(n===null||n===void 0?void 0:n.enableToneSelectorInDesktopHeader,!1),CIB.config.features.enableToneSelectorAsDropdown=t(n===null||n===void 0?void 0:n.enableToneSelectorAsDropdown,!1),CIB.config.features.enableCenteredGreetingZeroInput=t(n===null||n===void 0?void 0:n.enableCenteredGreetingZeroInput,!1),CIB.config.features.enableHeaderTitleDeferral=t(n===null||n===void 0?void 0:n.enableHeaderTitleDeferral,!1),CIB.config.features.enableAiDisclaimerWithFlexWrap=t(n===null||n===void 0?void 0:n.enableAiDisclaimerWithFlexWrap,!1),CIB.config.features.enableDynamicBackgroundAnimations=t(n===null||n===void 0?void 0:n.enableDynamicBackgroundAnimations,!1),CIB.config.features.enableDynamicComposerBackground=t(n===null||n===void 0?void 0:n.enableDynamicComposerBackground,!1),CIB.config.features.enableActionBarSingleLine=t(n===null||n===void 0?void 0:n.enableActionBarSingleLine,!1),CIB.config.features.enableSimplifiedMinHeight=t(n===null||n===void 0?void 0:n.enableSimplifiedMinHeight,!1),CIB.config.features.enableNotebookHeaderDesktop=t(n===null||n===void 0?void 0:n.enableNotebookHeaderDesktop,!1),CIB.config.features.enableSidePanelAlignedStart=t(n===null||n===void 0?void 0:n.enableSidePanelAlignedStart,!1),CIB.config.features.enableSidePanelSimplified=t(n===null||n===void 0?void 0:n.enableSidePanelSimplified,!1),CIB.config.features.enableSidePanelCustomScrollbars=t(n===null||n===void 0?void 0:n.enableSidePanelCustomScrollbars,!1),CIB.config.features.enableHideActionBarNewTopic=t(n===null||n===void 0?void 0:n.enableHideActionBarNewTopic,!1),CIB.config.features.enableHideSerpFeedback=t(n===null||n===void 0?void 0:n.enableHideSerpFeedback,!1),CIB.config.features.enableSubtleThreadItems=t(n===null||n===void 0?void 0:n.enableSubtleThreadItems,!1),CIB.config.features.enableSubtleGptItems=t(n===null||n===void 0?void 0:n.enableSubtleGptItems,!1),CIB.config.features.enableNotebookInSidePanelFooter=t(n===null||n===void 0?void 0:n.enableNotebookInSidePanelFooter,!1),CIB.config.features.enableGPTInSidePanelFooter=t(n===null||n===void 0?void 0:n.enableGPTInSidePanelFooter,!1),CIB.config.features.enableResetPersonaOnNewConversation=t(n===null||n===void 0?void 0:n.enableResetPersonaOnNewConversation,!1),CIB.config.features.enablePluginsInSidePanelFooter=t(n===null||n===void 0?void 0:n.enablePluginsInSidePanelFooter,!1),CIB.config.features.enableProBadgeInSidePanelHeader=t(n===null||n===void 0?void 0:n.enableProBadgeInSidePanelHeader,!1),i=t(n===null||n===void 0?void 0:n.enableSearchInSidePanel,!1),i){CIB.config.features.enableSearchInSidePanel=!0;CIB.onSearchButtonClicked(ih)}if(CIB.config.features.enablePluginsGridLayout=t(n===null||n===void 0?void 0:n.enablePluginsGridLayout,!1),CIB.config.features.enableCircularSrcCitations=t(n===null||n===void 0?void 0:n.enableCircularSrcCitations,!1),CIB.config.features.enableCircularSrcAttributions=t(n===null||n===void 0?void 0:n.enableCircularSrcAttributions,!1),CIB.config.features.enableHideLearnMoreAttributionLabel=t(n===null||n===void 0?void 0:n.enableHideLearnMoreAttributionLabel,!1),CIB.config.features.enableSimplifiedHoverCard=t(n===null||n===void 0?void 0:n.enableSimplifiedHoverCard,!1),CIB.config.features.enableHoverCardAlignedAbove=t(n===null||n===void 0?void 0:n.enableHoverCardAlignedAbove,!1),CIB.config.features.enableWideBadges=t(n===null||n===void 0?void 0:n.enableWideBadges,!1),r=t(n===null||n===void 0?void 0:n.enableHideInternalSearchQuery,!1),r){var u=CIB.config.sydney.request.allowedMessageTypes,f="InternalSearchQuery",e=u.filter(function(n){return n!==f});CIB.config.sydney.request.allowedMessageTypes=e}CIB.config.features.enableSimplifiedMetas=t(n===null||n===void 0?void 0:n.enableSimplifiedMetas,!1);CIB.config.features.enableActionBarComposerInput=t(n===null||n===void 0?void 0:n.enableActionBarComposerInput,!1);CIB.config.features.enableSimplifiedFRE=t(n===null||n===void 0?void 0:n.enableSimplifiedFRE,!1)}function ih(){var i="b_active",r=_ge("b-scopeListItem-web"),t=_ge("b-scopeListItem-conv");t&&Lib.CssClass.contains(t,i)&&(n.LogIntEvent("ConversationViewExit","Scope",{source:"ClickTab",target:_G[n.SYD_PREV_MODE]}),sj_evt.fire("hideSydFSC"));t&&Lib.CssClass.remove(t,i);r&&Lib.CssClass.add(r,i)}function rh(){var n=_w._sydConvConfig,r=t(n===null||n===void 0?void 0:n.lang,!1),u=t(n===null||n===void 0?void 0:n.region,!1),f=t(n===null||n===void 0?void 0:n.market,!1),e=t(n===null||n===void 0?void 0:n.truemkt,!1),o=t(n===null||n===void 0?void 0:n.uilang,!1),s=t(n===null||n===void 0?void 0:n.trueuilang,!1),i={};r&&(i.language=r);u&&(i.region=u);f&&(i.market=f);e&&(i.truemkt=e);o&&(i.uilang=o);s&&(i.trueuilang=s);CIB.config.sydney.message.localeInfo=i}function uh(n){var i=_w._sydConvConfig,v=t(i===null||i===void 0?void 0:i.country,!1),y=t(i===null||i===void 0?void 0:i.countryConfidence,!1),p=t(i===null||i===void 0?void 0:i.state,!1),w=t(i===null||i===void 0?void 0:i.city,!1),b=t(i===null||i===void 0?void 0:i.cityConfidence,!1),k=t(i===null||i===void 0?void 0:i.zip,!1),d=t(i===null||i===void 0?void 0:i.timezoneoffset,!1),it=t(i===null||i===void 0?void 0:i.enableTimezoneOffsetFromJS,!1),g=t(i===null||i===void 0?void 0:i.dma,!1),nt=t(i===null||i===void 0?void 0:i.lat,!1),tt=t(i===null||i===void 0?void 0:i.long,!1),rt=t(i===null||i===void 0?void 0:i.userIpAddress,u),s=t(i===null||i===void 0?void 0:i.isCompliantSydneyEndpointEnabled,!1),ut=t(i===null||i===void 0?void 0:i.enableSydCLOC,!0),ft=t(i===null||i===void 0?void 0:i.enableUserIpAddress,!0),l=t(i===null||i===void 0?void 0:i.enableSendTimeZone,!1),r={},a,e,o,h,c,f;v&&(r.country=v);p&&(r.state=p);w&&(r.city=w);k&&(r.zipcode=k);it||s||l?r.timezoneoffset=-((new Date).getTimezoneOffset()/60):d&&(r.timezoneoffset=parseFloat(d));(s||l)&&(a=Intl.DateTimeFormat().resolvedOptions().timeZone,a&&(r.timezone=a));g&&(r.dma=g);nt&&(r.latitude=parseFloat(nt));tt&&(r.longitude=parseFloat(tt));y&&(r.countryConfidence=y);b&&(r.cityConfidence=b);s?CIB.config.sydney.message.locationInfo=r:n&&typeof n.locations!="undefined"&&typeof n.locations.locationsList!="undefined"?typeof SydneyFSCLocationHelper!="undefined"&&typeof SydneyFSCLocationHelper.writeToLocationHints!="undefined"&&SydneyFSCLocationHelper.writeToLocationHints(n):n&&typeof n.cookLoc!="undefined"?(e=[],n.cookLoc.userLoc&&(o=ti(n.cookLoc.userLoc,!1),o.RegionType=1,o.SourceType=2,o.FDConfidence=1,e.push(o)),n.cookLoc.deviceLoc&&(h=ti(n.cookLoc.deviceLoc,!1),h.RegionType=2,h.SourceType=5,e.push(h)),ut&&n.cookLoc.coarseLoc&&(c=ti(n.cookLoc.coarseLoc,!1),c.RegionType=2,c.SourceType=11,e.push(c)),f=r,f.Center={Latitude:f.latitude,Longitude:f.longitude},delete f.latitude,delete f.longitude,f.RegionType=2,f.SourceType=1,e.push(f),CIB.config.sydney.message.locationHints=e):CIB.config.sydney.message.locationInfo=r;!l||s||CIB.config.sydney.message.locationInfo||(CIB.config.sydney.message.locationInfo={timezoneoffset:r.timezoneoffset,timezone:r.timezone});ft&&(CIB.config.sydney.message.userIpAddress=rt);CIB.config.sydney.message.timestamp=ec()}function fh(){var n=_w._sydConvConfig,i=t(n===null||n===void 0?void 0:n.enableAttributionImages,!1),r=t(n===null||n===void 0?void 0:n.enableAttributionImagesWhenAdsPresent,!1),u=t(n===null||n===void 0?void 0:n.enableAttributionImagesCarousel,!1),f=t(n===null||n===void 0?void 0:n.enableAttributionImagesClickthrough,!1),e=t(n===null||n===void 0?void 0:n.enableAttributionVideos,!1);i&&(CIB.config.features.enableAttributionImages=i);r&&(CIB.config.features.enableAttributionImagesWhenAdsPresent=r);u&&(CIB.config.features.enableAttributionImagesCarousel=u);f&&(CIB.config.features.enableAttributionImagesClickthrough=f);e&&(CIB.config.features.enableAttributionVideos=e)}function eh(){var n,i,r,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableTypingIndicatorAnimation,!1),f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableTypingIndicatorDemoteStyle,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.typingIndicatorAnimationDuration,ce);u&&(CIB.config.features.enableTypingIndicatorAnimation=!0,CIB.config.messaging.typingIndicatorAnimationDuration=e);f&&(CIB.config.features.enableTypingIndicatorDemoteStyle=!0)}function oh(){var n,i,r,u,f,o,s,h=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableVisualCardCitation,!1),c=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableVisualCardStreaming,!1),l=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableVisualCardLayout,!1),a=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableAnswerCardGrounding,!1),v=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableAnswerCardInMessage,!1),y=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableAnswerCardRenderingInChat,!1),p=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableAnswerCardGroundingSpc,!1);h&&e(CIB.config.sydney.request.optionsSets,"flxsrchv16");c&&e(CIB.config.sydney.request.optionsSets,"envisualcd");l&&e(CIB.config.sydney.request.optionsSets,"visualacf");a&&e(CIB.config.sydney.request.optionsSets,"enacf");p&&e(CIB.config.sydney.request.optionsSets,"enacfspc");v&&e(CIB.config.sydney.request.optionsSets,"fluxwpaic");y&&(CIB.config.features.enableAnswerCardRendering=!0)}function sh(){var n,i,r,u,f,e,o,s,h,c,l,a,v,y,b=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableAdSlugsDesktop,!1),k=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableAdSlugsMobile,!0),d=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableDevFormOverrideForAds,!1),p=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.codexPartnerScenario,"SERP"),g=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableRenderChatAdsOnSerp,!0),nt=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.disableHoverAdsClickout,!1),tt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableUniqueSlotId,!0),it=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableConversationHistoryForAds,!1),rt=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enablePrivacyCheckForAds,!0),ut=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableHoverAds,!0),ft=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableInlineAds,!0),et=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableTestAdsFeatures,!1),w=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.testAdsFeatureNames,""),ot=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableInlineAdsCustomFallbackAdsQueryCreated,!0);CIB.config.features.enableAdSlugsDesktop=b;CIB.config.features.enableAdSlugsMobile=k;CIB.config.features.enableHoverAds=ut;CIB.config.features.enableInlineAds=ft;CIB.config.features.enableDevFormOverrideForAds=d;CIB.config.features.enableSendConversationHistoryForAds=it;CIB.config.features.enableApplyLinkToHoverAds=nt;CIB.config.features.enableUniqueSlotId=tt;CIB.config.features.enablePrivacyCheckForAds=rt;CIB.config.features.enableInlineAdsCustomFallbackAdsQueryCreated=ot;p!==""&&(CIB.config.sydney.request.scenario=p);g&&(CIB.config.features.enableSlottedContentForAds=!0,CIB.config.features.enableSlottedContentForInlineAds=!0);et&&w.length>0&&(CIB.config.ads.query.addfeaturesnoexpansion=w)}function hh(){var n,i,r,f,e,o,s,h,c,l,a=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSydneySapphireUpsellMessageActions,!1),v=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydneySapphireUpsellEndOfChat,!1),y=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydneySapphireUpsellVisualSearch,!1),p=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.sydneySapphireUpsellTreatment,0),w=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isAccountLinkedWithActiveAAD,!1),b=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.sydneyContinueOnPhoneShortenQRCodeUrl,"https://bingapp.microsoft.com/bing?style=newbing&adjust=euhmno2_oy62nz1"),k=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.sydSapphireUpsellVisualSearchQRCodeUrl,"https://bingapp.microsoft.com/bing?adjust=13uz7blz_13evwnmy"),d=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableCopilotAppUpsellFlyOnHeader,!1),g=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.copilotAppUpsellQRUrl,u);a&&!w&&(CIB.config.features.enableSydSapphireUpsellOnMessageActions=a,CIB.config.mobileUpsell.sydSapphireUpsellTreatment=p,CIB.config.mobileUpsell.qrCodeBaseUrl=b);v&&(CIB.config.features.enableSydSapphireUpsellOnEndOfChat=v,CIB.config.mobileUpsell.sydSapphireUpsellTreatment=p);y&&(CIB.config.features.enableSydSapphireUpsellVisualSearch=y,CIB.config.mobileUpsell.qrCodeVisualSearchUrl=k);d&&(CIB.config.features.enableMobileUpsellFlyoutOnHeaderBar=!0,CIB.config.features.enableMobileUpsellButtonOnHeaderBar=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableMobileUpsellButtonOnHeaderBar,!0),CIB.config.mobileUpsell.enableFlyoutCTAButton=!0,CIB.config.mobileUpsell.flyoutQRUrl=g)}function ch(){var i,r,u,f,e,o,h,l=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.sydOptionSets,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isSydCorpnet,!1),v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.noInitOpts,!1),y=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.extraSappOptions,""),p=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.extraEdgeOptions,""),w=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.extraBceOptions,""),k=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.removeDeepleo,!1),d=new URLSearchParams(_w.location.search.toLowerCase()),b=d.get(rf.toLowerCase()),n,c;(v||l!=""||a&&b||y||p||w)&&(n=v?[]:CIB.config.sydney.request.optionsSets,n=s(n,l),a&&(n=s(n,b)),n=s(n,y),n=s(n,p),n=s(n,w),k&&(c=n.indexOf("deepleo"),c>=0&&n.splice(c,1)),CIB.config.sydney.request.optionsSets=n)}function kt(t,i){if(i)return[{tone:n.CREATIVE_TONE},{tone:n.BALANCED_TONE},{tone:n.PRECISE_TONE}];switch(t){case ToneTier.LOW:return[{tone:n.BALANCED_TONE}];case ToneTier.MEDIUM:case ToneTier.HIGH:default:return[{tone:n.CREATIVE_TONE},{tone:n.BALANCED_TONE},{tone:n.PRECISE_TONE}]}}function lh(n,t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(){return i={LocaleInfo:{Market:_G.Mkt,Language:_G.Lang,Region:_G.Region}},[2,fetch("turing/systemmetadata?"+new URLSearchParams({request:JSON.stringify(i)})).then(function(n){return n.json()}).then(function(i){var r;return((r=i===null||i===void 0?void 0:i.enabledTones)===null||r===void 0?void 0:r.length)>0?i.enabledTones.map(function(n){return{tone:n}}):kt(n,t)})["catch"](function(){return kt(n,t)})]})})}function uu(){var i,r,e,o,s,l,a,v,y,p,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt;return __awaiter(this,void 0,void 0,function(){var ni,yi,pi,fi,wi,wt,ti,ii,ri,ei,oi,si,hi,bt,dt,gt,ci,ui,li,ai,bi,ki,di,gi,pt,vi;return __generator(this,function(nr){switch(nr.label){case 0:return(ni=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.toneDefault,n.BALANCED_TONE),yi=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.userPriorityLevel,999),pi=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableUserPriorityLevel,!1),fi=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableTonePerf,!0),wi=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.shareLoadingUI,!0),h=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableNoToneOpt,!1),wi&&(CIB.config.features.enableShareLoadingUI=!0),wt=!pi||yi>0,ti=wt?t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.balTone,""):"harmonyv3",ii=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.crtTone,"h3imaginative"),ri=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.prcTone,"h3precise"),ei=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.sydBalOpts,u),oi=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.sydCrtOpts,u),si=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.sydPrcOpts,u),hi="clgalileo",bt=wt?t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.sydBalExtraOpts,u):"",dt=wt?t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.sydCrtExtraOpts,hi):"",gt=wt?t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.sydPrcExtraOpts,hi):"",ei&&(bt+=(bt!==""?",":"")+ei),oi&&(dt+=(dt!==""?",":"")+oi),si&&(gt+=(gt!==""?",":"")+si),bt&&(c.Balanced=bt.split(",")),dt&&(c.Creative=dt.split(",")),gt&&(c.Precise=gt.split(",")),(ti||h&&ti=="")&&(f[n.BALANCED_TONE]=ti),(ii||h&&ii=="")&&(f[n.CREATIVE_TONE]=ii),(ri||h&&ri=="")&&(f[n.PRECISE_TONE]=ri),fi&&(CIB.config.features.enableTonePerf=fi),CIB.config.features.enableGPT4TurboSwitch=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableGPT4TurboSwitch,!1),CIB.config.features.enableResponseToneSelector=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.enableResponseToneSelector,!0),CIB.config.features.enablePersistentResponseToneSelector=t((rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.enablePersistentToneSelector,!1),CIB.config.features.enableResponseToneObjects=(ft=(ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.enableSuppressTones)!==null&&ft!==void 0?ft:!0,CIB.config.features.enableResponseToneColorThemes=!0,ci=Object.keys(f),ui=(et=_w._sydConvConfig.isCCP)!==null&&et!==void 0?et:!1,li=!ui&&t((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.enableTierLoadBalancing,!0),ai=t((st=_w._sydConvConfig)===null||st===void 0?void 0:st.loadUserTier,"Low"),bi=t((ht=_w._sydConvConfig)===null||ht===void 0?void 0:ht.disableTierLoadBalancingCall,!1),ki=t((ct=_w._sydConvConfig)===null||ct===void 0?void 0:ct.enableSuppressTones,!0),di=t((lt=_w._sydConvConfig)===null||lt===void 0?void 0:lt.enableNoToneBCE,!1),!ki)?[3,9]:di?(Object.keys(f).map(function(t){t!=n.CREATIVE_TONE&&delete f[t]}),CIB.config.sydney.responseTones=[{tone:n.CREATIVE_TONE}],w(n.CREATIVE_TONE),CIB.eventBus.sendSystemEvent(2,(at=CIB.responseTone)!==null&&at!==void 0?at:n.CREATIVE_TONE),CIB.config.greeting.shouldSendBotGreeting=!1,[3,8]):[3,1];case 1:return li?(gi=t((vt=_w._sydConvConfig)===null||vt===void 0?void 0:vt.isBingUserSignedIn,!1),!gi)?[3,5]:(pt=void 0,!bi)?[3,2]:(pt=kt(ai,ui),[3,4]):[3,7];case 2:return[4,lh(ai,ui)];case 3:pt=nr.sent();nr.label=4;case 4:return CIB.config.sydney.responseTones=pt,vi=pt===null||pt===void 0?void 0:pt.map(function(n){return n.tone}),Object.keys(f).map(function(n){vi.includes(n)||delete f[n]}),vi.includes(ni)?w(ni):w(n.BALANCED_TONE),[3,6];case 5:Object.keys(f).map(function(t){t!=n.BALANCED_TONE&&delete f[t]});CIB.config.sydney.responseTones=[{tone:n.BALANCED_TONE}];w(n.BALANCED_TONE);nr.label=6;case 6:return CIB.eventBus.sendSystemEvent(2,(yt=CIB.responseTone)!==null&&yt!==void 0?yt:n.BALANCED_TONE),CIB.config.features.enableLowUserTierUx=CIB.config.sydney.responseTones.length<2,[3,8];case 7:CIB.config.sydney.responseTones=ci.map(function(n){var t,i,r=(i=(t=_w._sydConvConfig)===null||t===void 0?void 0:t["suppressKnob".concat(n)])!==null&&i!==void 0?i:0;return{tone:n,disabled:r}});nr.label=8;case 8:return[3,10];case 9:CIB.config.sydney.responseToneOptions=ci;nr.label=10;case 10:return li||w(ni),nc(),[2]}})})}function dt(i){var r,u,f,e,o,s;(t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSyntheticStreamSpeedBasedOnTone,!0)&&(i===n.BALANCED_TONE&&(CIB.config.messaging.messageBufferWorkerStreamDelayMS=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.syntheticStreamSpeedForBalancedTone,15)),i===n.CREATIVE_TONE&&(CIB.config.messaging.messageBufferWorkerStreamDelayMS=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.syntheticStreamSpeedForCreativeTone,at)),i===n.PRECISE_TONE&&(CIB.config.messaging.messageBufferWorkerStreamDelayMS=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.syntheticStreamSpeedForPreciseTone,at))),s=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableStreamSyntheticTextResponses,!1),s)&&(CIB.config.messaging.streamSyntheticTextResponses=ah(i))}function ah(i){var r,u,e,o=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableStreamSyntheticTextResponsesForBalancedTone,!0),s=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableStreamSyntheticTextResponsesForCreativeTone,!0),c=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableStreamSyntheticTextResponsesForPreciseTone,!0);return o&&(i===n.BALANCED_TONE&&f[n.BALANCED_TONE]==="galileo"||h&&f[n.BALANCED_TONE]==="")||s&&(i===n.CREATIVE_TONE&&f[n.CREATIVE_TONE]==="h3imaginative"||h&&f[n.CREATIVE_TONE]==="")||c&&(i===n.PRECISE_TONE&&f[n.PRECISE_TONE]==="h3precise"||h&&f[n.PRECISE_TONE]==="")}function vh(n){if(!n)return ut.Demote;for(var t in ut)if(t.toLowerCase().trim()===n.toLowerCase().trim())return ut[t];return ut.Demote}function yh(){var t=sj_cook.get(n.userCook,pe),i=vh(t);CIB.config.sydney.bingFirstPageAdultFilter=i}function ph(n){ar=n}function wh(){return ar}function fu(){var i,r=sj_cook.get(n.userCook,y),e;if(p){var o=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.bceTermsOfUseVersion,2),u=sj_cook.get(bi,y),s=!!r||!!u,f=s?Number(r)||Number(u)||1:0;return!!f&&f>=o}return e=sj_cook.get(d,d),r===e}function bh(){var u,f,e,o,s,h,c,l,a,k=sj_cook.get(d,d),g=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.bceTermsOfUseVersion,2),w=p?g.toString():k,v,b;sj_cook.set(n.userCook,y,w,!0,"/",null);sj_cook.set(bi,y,w,!0,"/",null);i(r.System,"MuidConsentProvided","MuidUser",{IsConsent:"1"});CIB.config.sydney.muidUserConsentGiven=!0;CIB.config.features.enableSuggestionBarInUnexpandedChatAnswer&&(v=(o=(e=(f=_d.querySelector(".b_ans #b_sydTigerCont"))===null||f===void 0?void 0:f.querySelector("cib-serp"))===null||e===void 0?void 0:e.shadowRoot)===null||o===void 0?void 0:o.querySelector("cib-see-more-container"),b=(a=(l=(c=(h=(s=_d.querySelector(".b_ans #b_sydTigerCont"))===null||s===void 0?void 0:s.querySelector("cib-serp"))===null||h===void 0?void 0:h.shadowRoot)===null||c===void 0?void 0:c.querySelector("cib-conversation"))===null||l===void 0?void 0:l.shadowRoot)===null||a===void 0?void 0:a.querySelector("cib-suggestion-bar"),v&&b&&v.setAttribute("has-suggestions","true"))}function kh(){if(typeof CIB.version!="undefined"&&CIB.version&&CIB.version.version&&typeof sj_cook!="undefined"&&sj_cook){var t=CIB.version.version,u=sj_cook.get(n.userCook,ki);u&&u===t||(sj_cook.set(n.userCook,ki,t,!0,"/",null),i(r.System,"CIB","CIBInfo",{version:t}))}}function dh(){var n,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.DedicatedIpType,"unknown");["nochat","nochatstrict"].indexOf(u)>-1&&i(r.System,"NoChatVariant","NoChatVariantInfo",{DedicatedIpType:u})}function gt(){var f,e=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableToneCookExpiry,!1),u;return e&&(u=parseInt(sj_cook.get(n.userCook,n.toneExpiryCrumb)),u&&u>0&&Date.now()>u)?(sj_cook.set(n.userCook,n.toneExpiryCrumb,"0",!0,"/",null),i(r.System,"ResetTone","Tone",{}),null):sj_cook.get(n.userCook,n.toneCrumb)}function w(u){var h,c,a,v,y,p,w,b,g=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableToneCookExpiry,!1),k=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableBalancedSerp,!1),nt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableAlwaysCreativeSerp,!1),tt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableAlwaysBalancedSerp,!1),it=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableSuperOptionsSets,!1),ut=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableBalancedSerpLog,!1),s="",ot=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableGetToneFromServer,!1),o=gt(),d;if(ut&&o!=n.BALANCED_TONE&&i(r.System,"BalSerpOverride","Tone",{tone:o}),ot&&(s=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.responseTone,u)),tc()){d=ft(li).toLowerCase().trim();CIB.responseTone=s||rt[d];ni(CIB.responseTone,!1,g);i(r.System,"SET_TONE_FROM_URL",d,{});i(r.System,vt,"Tone",{tone:CIB.responseTone});return}nt?(o=s||n.CREATIVE_TONE,CIB.responseTone=o):tt?(o=s||n.BALANCED_TONE,CIB.responseTone=o):!k&&o!=null&&f.hasOwnProperty(o)?(CIB.responseTone=s||o,i(r.System,vt,"Tone",{tone:CIB.responseTone})):(o=s||u,CIB.responseTone=o,i(r.System,"DefaultTone","Tone",{tone:o}));it&&e(CIB.config.sydney.request.optionsSets,le);wt=CIB.config.sydney.request.optionsSets.length;!k&&f.hasOwnProperty(o)?(e(CIB.config.sydney.request.optionsSets,f[o]),CIB.config.sydney.request.optionsSets=et(CIB.config.sydney.request.optionsSets,o),l=o,dt(l)):k&&f.hasOwnProperty(n.BALANCED_TONE)&&(e(CIB.config.sydney.request.optionsSets,f[n.BALANCED_TONE]),CIB.config.sydney.request.optionsSets=et(CIB.config.sydney.request.optionsSets,n.BALANCED_TONE),l=n.BALANCED_TONE,dt(n.BALANCED_TONE))}function gh(n){var u,f=n&&n.length>1?n[1]:null,e=f?f.toLowerCase().trim():"",o,s;f&&rt.hasOwnProperty(e)&&(o=n&&n.length>2?n[2]:!1,s=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableToneCookExpiry,!1),CIB.responseTone=rt[e],ni(CIB.responseTone,o,s),i(r.System,vt,"Tone",{tone:CIB.responseTone}))}function nc(){var n,u,f,e;sj_evt.bind(ve,gh,!0);var o=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableToneCookExpiry,!1),s=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isCompliantSydneyEndpointEnabled,!1),h=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableCompliantBCE,!1),c=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableToneChangedLogs,!1);if(!s&&!h&&CIB.onResponseToneChanged)CIB.onResponseToneChanged(function(n){ni(n,!0,o)});if(c)CIB.onResponseToneChanged(function(n){i(r.System,"ToneChanged","Tone",{newTone:n})})}function ft(n){var i=_w.location.search,r=new URLSearchParams(i),t=r.get(n);return t?t:""}function tc(){var n,r=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSetToneFromUrl,!1),i;return r?(i=ft(li),i&&rt.hasOwnProperty(i.toLowerCase().trim())):!1}function ni(t,i,r){var s=[f[t]].concat(c[t]).toString(),o,u;t!==gt()&&cu("ChangedTone","Tone",{newTone:t});i&&(sj_cook.set(n.userCook,n.toneCrumb,t,!0,"/",null),sj_cook.set(n.userCook,n.toneOptsCrumb,s,!0,"/",null),r&&(o=rc(),sj_cook.set(n.userCook,n.toneExpiryCrumb,o.toString(),!0,"/",null)));f.hasOwnProperty(t)&&(u=hu(CIB.config.sydney.request.optionsSets,Object.keys(f)),u!==-1?h&&f[t]===""?(wt=u,CIB.config.sydney.request.optionsSets.splice(u,1)):CIB.config.sydney.request.optionsSets[u]=f[t]:h?e(CIB.config.sydney.request.optionsSets,f[t],wt):e(CIB.config.sydney.request.optionsSets,f[t]),CIB.config.sydney.request.optionsSets=et(CIB.config.sydney.request.optionsSets,t,l),l=t,dt(l))}function ic(){var u,f,e,o=n.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableBalancedSerp,!1),t,i,s;o&&!or&&(or=!0,o&&(t=n.getCookieTone(),t!=null&&t!=n.BALANCED_TONE&&(i=CIB.manager.conversation._lastMessage,s=(e=(f=CIB===null||CIB===void 0?void 0:CIB.config)===null||f===void 0?void 0:f.greeting)===null||e===void 0?void 0:e.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,n.shouldResetBotGreeting=!1,CIB.responseTone=t,n.lastQuery="",i&&i.text&&CIB.registerContext([{author:"bot",source:"serpBalResp",text:i.text}]),n.shouldResetBotGreeting=!0,CIB.config.greeting.shouldSendBotGreeting=s,n.SydLog(r.System,"SetCookToneAfterSERP","Tone",{tone:t}))))}function eu(n){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isCompliantSydneyEndpointEnabled,!1);n&&!r&&(CIB.config.speech.language=n,e(CIB.config.sydney.request.optionsSets,"cdxslang"))}function rc(){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableStaticToneExpiry,!1),n=new Date;return r?n.setDate(n.getDate()+3):(n.setDate(n.getDate()+(n.getHours()<2?1:2)),n.setHours(2),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),n.getTime()}function et(n,t,i){return i===void 0&&(i=""),i!=""&&c.hasOwnProperty(i)&&(n=uc(n,c[i])),t!=""&&c.hasOwnProperty(t)&&c[t].forEach(function(t){e(n,t)}),n}function e(n,t,i){return i===void 0&&(i=-1),n||(n=[]),t&&n.indexOf(t)<0&&(i<0?n.push(t):n.splice(i,0,t)),n}function ou(n,t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}function uc(n,t){return t.forEach(function(t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}),n}function su(n,t,i){return i===void 0&&(i=-1),n||(n=[]),t&&n.indexOf(t)<0&&(i<0?n.push(t):n.splice(i,0,t)),n}function fc(){var n,i=u,t;return navigator&&(t=navigator.connection||navigator.mozConnection||navigator.webkitConnection,t&&(i=(n=t.effectiveType)===null||n===void 0?void 0:n.toString())),i}function hu(n,t){for(var u,r,i=0;i<t.length;i++)if(u=t[i],r=n.indexOf(f[u]),r>=0)return r;return-1}function ti(n,t){var i={};return t?n.locType&&(i.LocationType=n.locType):n.accuracy&&(i.Accuracy=n.accuracy),n.state&&(i.State=decodeURI(n.state)),n.city&&(i.City=decodeURI(n.city)),n.lat&&n.long&&(i.Center={Latitude:parseFloat(n.lat),Longitude:parseFloat(n.long)}),n.source&&(i.LocationSource=n.source),n.altitude&&(i.Altitude=n.altitude),n.altitudeAcc&&(i.AltitudeAccuracy=n.altitudeAcc),n.displayName&&(i.DisplayName=n.displayName),n.name&&(i.Name=n.name),n.heading&&(i.Heading=n.heading),n.isValidLocation&&(i.IsValidLocation=n.isValidLocation),n.range&&(i.Radius=n.range),n.speed&&(i.Speed=n.speed),n.ts&&(i.Timestamp=n.ts),n.ets&&(i.ExpiryTimestamp=n.ets),i}function ec(){var t=(new Date).getTimezoneOffset(),r=Math.floor(Math.abs(t/60)),u=Math.abs(t%60),i;t<0?i="+"+o(r)+":"+o(u):t>0?i="-"+o(r)+":"+o(u):t==0&&(i="Z");var n=new Date,f=n.getDate(),e=n.getMonth()+1,s=n.getFullYear(),h=n.getHours(),c=n.getMinutes(),l=n.getSeconds();return o(s)+"-"+o(e)+"-"+o(f)+"T"+o(h)+":"+o(c)+":"+o(l)+i}function o(n){return n<10?"0"+n:n}function s(n,t){if(t){var i=t.split(",");return n.concat(i)}return n}function t(n,t){return typeof n!="undefined"?n:t}function oc(n){var t=__spreadArray([],CIB.config.sydney.request.optionsSets,!0),i;return f.hasOwnProperty(n)&&(i=hu(t,Object.keys(f)),i!==-1&&(t[i]=f[n]),t=et(t,n,l)),t}function sc(){var t,r=n.getConfigOrDefault((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableChatPageCookieBannerFix,!1),i;return r?(i=_ge("bnp_cookie_banner"),i&&_w&&_w.getComputedStyle(i).display!=="none"):!1}function i(n,i,r,u){var e,o,s,h,c,f,l,a,v,y,p;u===void 0&&(u=null);f=[];l=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isCompliantSydneyEndpointEnabled,!1);l&&f.push("IsBizChat",l.toString());a=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.isBingChatForEnterprise,!1);a&&f.push("IsBCE",a.toString());v=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isBingChatForFaculty,!1);y=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isBingChatForStudents,!1);v&&f.push("IsBCSFaculty","true");y&&f.push("IsBCSStudent","true");p=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableTelemetryPrivacy,!1);p&&(u=hc(u));u==null?(Log.Log.apply(Log,__spreadArray([n,"Codex",i,!1,"Namespace",r],f,!1)),ii.apply(void 0,__spreadArray([n,i,r],f,!1))):(Log.Log.apply(Log,__spreadArray([n,"Codex",i,!1,"Namespace",r,"CustomData",JSON.stringify(u)],f,!1)),ii.apply(void 0,__spreadArray([n,i,r,"CustomData",JSON.stringify(u)],f,!1)))}function ii(n,i,u){for(var f,l,o,s,h,c=[],e=3;e<arguments.length;e++)c[e-3]=arguments[e];var a=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableCompliantLogger,!1),v=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableCIBBootstrapper,!1),y=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableFAIBootstrapper,!1);a&&n===r.Interaction&&(f=function(t){var r,o,s,h,e,l;t===void 0&&(t=!0);(r=MsbSydneyHelper.compliantLog)===null||r===void 0?void 0:r.call.apply(r,__spreadArray([MsbSydneyHelper,n,i,"Namespace",u],c,!1));l=(h=(s=(o=CIB.manager)===null||o===void 0?void 0:o.conversation)===null||s===void 0?void 0:s.messages)===null||h===void 0?void 0:h.filter(function(n){return n.author==="user"}).length;i==="ConversationViewEnter"&&l>0&&((e=MsbSydneyHelper.compliantLog)===null||e===void 0?void 0:e.call.apply(e,__spreadArray(__spreadArray([MsbSydneyHelper,n,"UserMessageRendered","Namespace","CompliantLog"],c,!1),["CustomData",""],!1)));t&&sj_evt.unbind("MsbSydneyHelperLoaded",f)},l=function(n){n===void 0&&(n=!0);v&&typeof CIB=="undefined"?SydneyBootstrapper.bindToCIBInit(function(){return f(n)}):y&&typeof CIB=="undefined"?sj_evt.bind("fai_cib_loaded",function(){return f(n)},!0):f(n)},typeof MsbSydneyHelper!="undefined"?l(!1):sj_evt&&sj_evt.bind("MsbSydneyHelperLoaded",l,!0,undefined,!0))}function hc(n){return n?n.source&&n.source==="welcomeScreenBoldClick"?n:(ge.forEach(function(t){var i,r;n[t]!==undefined&&(n[t]=yt);((i=n.CustomData)===null||i===void 0?void 0:i[t])!==undefined&&(n.CustomData[t]=yt);((r=n.EncryptedData)===null||r===void 0?void 0:r[t])!==undefined&&(n.EncryptedData[t]=yt)}),n):n}function cu(n,t,u){i(r.Interaction,n,t,u)}function cc(){var i,r,u;history&&(n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search}),r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.initialBackButtonFix,!1),r&&lu(!1),sj_be(_w,"popstate",function(i){var f,e,o,s,h,c,l,a,v,y,p,w,b,r,u;n.enableBingChatPath=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableBingChatPath,!1);n.enableConvModeSwitchAjax=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableConvModeSwitchAjax,!1);var tt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableNotebookMode,!1),k=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableBackFromNotebook,!0),it=tt&&k&&_G[n.SYD_MODE]==="notebook";if(nr=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isCopilotChat,!1),tr=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.isUnionClient,!1),n.enableConvModeSwitchAjax)if(r=_w._currentRoute,_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search},n.enableBingChatPath){if(u=_ge("sb_form_q"),ot((l=_w._currentRoute)===null||l===void 0?void 0:l.search)!=(u===null||u===void 0?void 0:u.value)&&(_w._isConvAjaxUpdated||((v=(a=_w._currentRoute)===null||a===void 0?void 0:a.state)===null||v===void 0?void 0:v.ajaxserp)===!0)){var d=_w.location,g=d.href,nt=g.indexOf("/search");if(nt>=0){window.location.reload();return}}}else{if(it){sj_evt.fire("switchToConversation");sj_evt.fire("showSydFSC",undefined,undefined,undefined,!0);return}if(ot(r===null||r===void 0?void 0:r.search)!=ot((y=_w._currentRoute)===null||y===void 0?void 0:y.search)&&(_w._isConvAjaxUpdated||((w=(p=_w._currentRoute)===null||p===void 0?void 0:p.state)===null||w===void 0?void 0:w.ajaxserp)===!0)){var d=_w.location,g=d.href,nt=g.indexOf("/search");if(nt>=0){window.location.reload();return}}}((b=i===null||i===void 0?void 0:i.state)===null||b===void 0?void 0:b.inConvMode)?_G[n.SYD_MODE]=="serp"?sj_evt.fire("showSydFSC",null,null,!1,!0):k&&_G[n.SYD_PREV_MODE]==="notebook"&&sj_evt.fire("showNotebook"):nr||!(i===null||i===void 0?void 0:i.state)||i.state.inConvMode||_G[n.SYD_MODE]!="conversation"||tr||(sj_evt.fire("preHideSydFSCByHistory"),sj_evt.fire("hideSydFSC",!0))}),URLSearchParams&&(u=new URLSearchParams(window.location.search),er=u.get("showconv")==="1"))}function lu(u){var f,e,o,s,h,c,l=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isNewBingChat,!1),a=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableDynamicFormCode,!1),v=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.initialBackButtonFix,!1);if(n.enableBingChatPath=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableBingChatPath,!1),history){if((er||l)&&it&&u){it=!1;history.replaceState({inConvMode:u},document.title||"");n.enableConvModeSwitchAjax=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableConvModeSwitchAjax,!1);i(r.System,"SydHistory","replace",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u});n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search});l&&(_w._chatRoute=_w.location.pathname);return}if(v&&it&&!u){it=!1;history.replaceState({inConvMode:u},document.title||"");return}fr?au(u):n.enableBingChatPath?l&&a?sj_evt.bind("ConvModeNavigate",function y(n){var t=n&&n.length>1?n[1]:null;vu(u,t);sj_evt.unbind("ConvModeNavigate",y)}):vu(u,null):(history.pushState({inConvMode:u},document.title||""),n.enableConvModeSwitchAjax=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableConvModeSwitchAjax,!1),i(r.System,"SydHistory","push",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u}),n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search}))}}function au(u){var e,o,s,h=n.getConfigOrDefault((e=_w._sydConvConfig)===null||e===void 0?void 0:e.convBackBtn,!1),c=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableToggleChatSearch,!1),f=new URL(window.location.href);c&&(f.pathname=u?"/chat":"/search");f.searchParams.set("showconv",u?"1":"0");h?history.pushState({inConvMode:u},a(u),f):history.replaceState({inConvMode:u},a(u),f);n.enableConvModeSwitchAjax=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableConvModeSwitchAjax,!1);i(r.System,"SydHistory","push",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u,Paramflag:1});n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search})}function lc(){var t,n=new URL(window.location.href);((t=n===null||n===void 0?void 0:n.searchParams)===null||t===void 0?void 0:t.get("showntbk"))||(n.searchParams.append("showntbk","1"),history.pushState({inConvMode:!0},a(!0),n))}function ac(){var t,n=new URL(window.location.href),i=(t=n===null||n===void 0?void 0:n.searchParams)===null||t===void 0?void 0:t.get("showntbk");i==="1"&&(n.searchParams["delete"]("showntbk"),history.replaceState({inConvMode:!0},a(!0),n))}function vu(u,f){var e,o,h=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isMobileHost,!1);if(!h){var s=_ge("sb_form_q"),c=_ge("sb_form"),l=_w._chatRoute||"/chat",v=u?l:"/search";history.pushState({inConvMode:u},a(u),v+"?q="+encodeURIComponent(f||(s===null||s===void 0?void 0:s.value)||"Microsoft Copilot")+vc(c));n.enableConvModeSwitchAjax=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableConvModeSwitchAjax,!1);i(r.System,"SydHistory","push",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u,Paramflag:1});n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search})}}function vc(n){var r="",i,t,u;if(!n)return r;for(i=n.getElementsByTagName("input"),t=0;t<i.length;t++)i[t].type==="hidden"&&i[t].name!="form"&&(r+="&"+i[t].name+"="+encodeURIComponent(i[t].value));return u=_w._ncpformCode||(_w._isConvAutoHide?"ATCVAJ":"CONVAJ"),r+"&form="+u}function a(n){return v&&tt?n?v:tt:document.title}function yc(n){var i;v=t((i=_w._sydConvTranslation)===null||i===void 0?void 0:i.pageTitleText,"");v&&tt&&(document.title=a(n))}function pc(){var t,n;((t=history===null||history===void 0?void 0:history.state)===null||t===void 0?void 0:t.inConvMode)&&(n=_ge("sb_form_q"),n&&n.value?sj_evt.fire("showSydFSC",n.value):sj_evt.fire("showSydFSC"))}function wc(){function it(n){if(n&&n.length>=2){var t=n[1].waitlist;t&&t=="2"&&(CIB.config.features.enableMUIDUserMode=!1,CIB.config.messaging.maxTurnsPerConversation=vt,sj_evt.unbind("rewready",it))}}var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,rt=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydTigerAns,!0),ut=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydAjaxReset,!1),ft=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enablePanelTransition,!1),et=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isCopilotChat,!1),ot=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isCompliantSydneyEndpointEnabled,!1),st=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableCORSFix,!1),ht=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isUnionClient,!1),nt,tt,d,g;if(!ft)CIB.onModeChanged(function(t){switch(t){case"conversation":sj_evt.fire("showSydFSC");CIB.config.sydney.request.scenario==="SERP"&&((et||ht)&&!ot&&st&&(CIB.manager.chat.api.bing._endpoint=window.document.location.origin),ru());break;case"off-stage":if(n.ignoreFirstOffStage){n.ignoreFirstOffStage=!1;CIB.showConversation();break}sj_evt.fire("hideSydFSC");break;default:Log.Log("ClientInst","Codex","ModeChangeError",!1,"CustomData",JSON.stringify({mode:t}))}});if(rt&&(nt=_ge("b_sydTigerCont"),nt)){tt=_d.querySelector("#b_pole #b_sydTigerCont")!=null;CIB.onSerpSlotSuggestionInvoked(function(){_G[n.SYD_MODE]!="conversation"&&(n.LogIntEvent("ConversationViewEnter",tt?"Pole":"RightRail",{source:"ChatBubble"}),sj_evt.fire("showSydFSC"))});d=_ge("sb_form_q");d&&(CIB.config.sydney.slottedModeTurnIndex=tf()&&((l=(c=(h=CIB===null||CIB===void 0?void 0:CIB.vm)===null||h===void 0?void 0:h.conversation)===null||c===void 0?void 0:c.turns)===null||l===void 0?void 0:l.length)?Math.max(CIB.vm.conversation.turns.length-1,0):0,n.lastQuery=d.value.toLowerCase().trim())}ut&&sj_evt.bind("ajax.unload",function(){var n,t,i,r,u,f,e,o,s,h,c;CIB&&(c=(t=(n=CIB===null||CIB===void 0?void 0:CIB.config)===null||n===void 0?void 0:n.greeting)===null||t===void 0?void 0:t.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,(u=(r=(i=CIB===null||CIB===void 0?void 0:CIB.manager)===null||i===void 0?void 0:i.stream)===null||r===void 0?void 0:r.subscription)===null||u===void 0?void 0:u.dispose(),(e=(f=CIB===null||CIB===void 0?void 0:CIB.manager)===null||f===void 0?void 0:f.stream)===null||e===void 0?void 0:e.complete(),(s=(o=CIB===null||CIB===void 0?void 0:CIB.manager)===null||o===void 0?void 0:o.stream)===null||s===void 0?void 0:s.finalizeStreamSubscription(),(h=CIB===null||CIB===void 0?void 0:CIB.manager)===null||h===void 0?void 0:h.resetConversation(),CIB.config.greeting.shouldSendBotGreeting=c)});sj_evt.bind("ajax.clearChat",function(){var n,t,i,r,u,f,e,o,s,h,c;CIB&&(c=(t=(n=CIB===null||CIB===void 0?void 0:CIB.config)===null||n===void 0?void 0:n.greeting)===null||t===void 0?void 0:t.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,(u=(r=(i=CIB===null||CIB===void 0?void 0:CIB.manager)===null||i===void 0?void 0:i.stream)===null||r===void 0?void 0:r.subscription)===null||u===void 0?void 0:u.dispose(),(e=(f=CIB===null||CIB===void 0?void 0:CIB.manager)===null||f===void 0?void 0:f.stream)===null||e===void 0?void 0:e.complete(),(s=(o=CIB===null||CIB===void 0?void 0:CIB.manager)===null||o===void 0?void 0:o.stream)===null||s===void 0?void 0:s.finalizeStreamSubscription(),(h=CIB===null||CIB===void 0?void 0:CIB.manager)===null||h===void 0?void 0:h.resetConversation(),CIB.config.greeting.shouldSendBotGreeting=c)});var ct=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.codexMUIDUser,!1),at=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableSigninTurnFix,!0),vt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.maxTurnsPerConversation,lt);if(ct&&at&&sj_evt.bind("rewready",it,!0),CIB.onModalVisibilityChanged)CIB.onModalVisibilityChanged(function(n){var t=_ge("b_header");t&&(n?Lib.CssClass.add(t,ur):Lib.CssClass.remove(t,ur))});var yt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableThreads,!1),pt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.isAccountLinkedWithActiveAAD,!1),wt=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableFreeSydney,!1)&&t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableAIPersonasForDesktop,!1);yt||!pt||wt||(g=_qs("body"),g&&Lib.CssClass.add(g,no))}function bc(){var t,i,r,u,f,e,o,s,h,l=(r=(i=(t=CIB===null||CIB===void 0?void 0:CIB.vm)===null||t===void 0?void 0:t.conversation)===null||i===void 0?void 0:i.model)===null||r===void 0?void 0:r.suggestions,n=document.activeElement,c;return!l||!n||n.nodeName!=="CIB-SERP"?"":(n=(s=(o=(e=(f=(u=n===null||n===void 0?void 0:n.shadowRoot)===null||u===void 0?void 0:u.activeElement)===null||f===void 0?void 0:f.shadowRoot)===null||e===void 0?void 0:e.activeElement)===null||o===void 0?void 0:o.shadowRoot)===null||s===void 0?void 0:s.activeElement,!n||n.nodeName!=="CIB-SUGGESTION-ITEM")?"":(n=(h=n===null||n===void 0?void 0:n.shadowRoot)===null||h===void 0?void 0:h.activeElement,!n||n.nodeName!=="BUTTON"||!n.textContent)?"":(c=n.textContent.trim(),l.find(function(n){return n.text.trim()===c}))?c:""}function ri(n){var t=_ge(n);t&&t.parentElement&&t.parentElement.removeChild(t)}function kc(n){CIB.processCachedResponse(n)}function yu(n,t,i,r,u,f,e,o){n===void 0&&(n="");t===void 0&&(t="");i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);f===void 0&&(f=!1);e===void 0&&(e=!1);o===void 0&&(o=!0);sj_evt.fire("showSydFSC",n,t,r,u,i,f,e,!1,!1,o)}function ot(n){var r=new RegExp("[?&]{1}q=([^&]+)"),t=n.match(r),i=t?t[1]:null;return i?decodeURIComponent(i.replace("+"," ")):""}function b(){var i,r,u,e=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isSapphireClient,!1),f,n;return e?ot(_w.location.search):(f=typeof sj_b!="undefined"&&sj_b!=null?sj_b:_d.body,n=f.querySelectorAll("textarea.b_searchbox, input.b_searchbox:not(#uaseabox)"),!n||n.length<=0)?"":(u=(r=n[0])===null||r===void 0?void 0:r.getAttribute("value"))!==null&&u!==void 0?u:""}function dc(){var t=new URLSearchParams(_w.location.search),i=t.get(yi);i&&(n.lastQuery=b().toLowerCase().trim())}function pu(n,t,i,r,u,f,e){var s,o,h;t===void 0&&(t=!1);i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);f===void 0&&(f=!1);e===void 0&&(e=!0);s="";t&&(s=b());o=i;o||(h=_d.querySelector(".b_ans #b_wpt_data"),h&&(o=h.getAttribute("data-sydctx")));yu(n,o,s,r,!1,u,f,e)}function gc(n,t,i){n===void 0&&(n="");t===void 0&&(t="");i===void 0&&(i=!0);var r=b();pu(r,!1,n,t,!1,!0,i)}function nl(t){n.isSydFSCEligible=t}function tl(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t]}function il(){sj_evt.fire("clarity.trigger","cibChat")}function rl(n,t,i){return!n||t&&(!i||i.toLowerCase().trim()!==b().toLowerCase().trim())}function ul(t,i){var a,v,y,p,w,b,k,d,g,ut,ft,o,nt,u,e,s,rt,at,h,vt,r,c,yt,pt,wt,bt,l;i===void 0&&(i=!1);ut=n.getConfigOrDefault((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableSydCarouselHistory,!1);ft=n.getConfigOrDefault((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableRemoveChatIconInHistory,!1);wu();var f=sj_ce("div","b_metaCont"),et=sj_ce("div","b_metaCont_Title"),kt=n.getConfigOrDefault((y=_w._sydConvTranslation)===null||y===void 0?void 0:y.sydneyCarouselTitle,"");et.textContent=kt;f.appendChild(et);o=sj_ce("div","b_meta_bot");f.appendChild(o);nt=sj_ce("div","b_metaChat");u=sj_ce("div","b_metaCont_PillCont","b_meta_hideEx");ft||(i?u.appendChild(nt):o.appendChild(nt));o.appendChild(u);var ot=n.getConfigOrDefault((p=_w._sydConvConfig)===null||p===void 0?void 0:p.carouselQueries,""),dt=n.getConfigOrDefault((w=_w._sydConvConfig)===null||w===void 0?void 0:w.sydCarPropQuery,!1),st=ot?ot.split(","):null,tt=st?st:CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text&&n.text!="Generating answers for you..."}).map(function(n){var i,r,t=(r=(i=n.text)===null||i===void 0?void 0:i.split("`"))!==null&&r!==void 0?r:[];return t.length==1?t[0]:t.length==3?t[1]:""}).filter(function(n){return n}),ht=0,gt=i?_w.innerWidth-hi-oe:ee,ni=_w.innerWidth-hi-ci,ct=!i,lt=gt-ci,ti=CIB.vm.conversation.model._id,it=!0;for(e=tt.length-1;e>=0;e--)s=tt[e],it&&(rt=fl(s)+2*se+he,ht+rt<lt?ht+=rt:ct?(it=!1,at=e+1,h=sj_ce("div","b_meta_exp","b_metaCont_Pill"),h.innerText="+"+at.toString(),sj_be(h,"click",function(){Lib.CssClass.add(u,"b_metaExpanded")}),u.append(h)):(lt=ni,ct=!0)),vt="cdxche",r=sj_ce("a",null,"b_metaCont_Pill"+(it?"":" b_hide")),r.href=_w.location.origin+_w.location.pathname+"?q="+s+"&form="+vt,ut&&(r.href=r.href+"&convid="+ti),dt&&(r.href=r.href+"&features=sydcarousel,sydcpropq"),r.textContent=s,r.target="_blank",sj_be(r,"click",function(t){var r=_ge("CodexCarouselInstLink"),i;_w.si_ct&&_w.si_ct(r);i=t===null||t===void 0?void 0:t.target;n.LogIntEvent("QueryCarouselClick","QueryCarousel",{query:i===null||i===void 0?void 0:i.textContent})}),u.appendChild(r);c=sj_ce("div","b_meta_col","b_metaCont_Pill b_hide");c.innerText=n.getConfigOrDefault((b=_w._sydConvTranslation)===null||b===void 0?void 0:b.sydneyCarouselCollapse,"Collapse");sj_be(c,"click",function(){Lib.CssClass.remove(u,"b_metaExpanded")});u.append(c);tt.length>0&&(yt=n.getConfigOrDefault((k=_w._sydConvConfig)===null||k===void 0?void 0:k.suppressAlsoTryWhenEnableSydCarousel,!1),yt&&ri("b_alsotry"),pt=n.getConfigOrDefault((d=_w._sydConvConfig)===null||d===void 0?void 0:d.suppressPoleRSWhenEnableSydCarousel,!1),pt&&ri("brspole"),wt=n.getConfigOrDefault((g=_w._sydConvConfig)===null||g===void 0?void 0:g.suppressPoleRecommendedSearchWhenEnableSydCarousel,!1),wt&&ri("polerecommendedsearch"),t.children.length>0?(l=_w.getComputedStyle(t,null),l.paddingLeft=="0px"&&Lib.CssClass.add(f,"b_metaPadding"),t.insertBefore(f,t.children[0])):t.appendChild(f),bt=document.querySelector(".b_wpt_container"),bt&&(l=_w.getComputedStyle(t,null),l.paddingLeft=="0px"?Lib.CssClass.add(f,"b_metaMagPadding"):Lib.CssClass.add(f,"b_metaPolePadding")),sj_evt.fire(ae))}function fl(n){var i=sj_ce("canvas"),t=i.getContext("2d");return t.font="14px Roboto",t.measureText(n).width}function wu(){var n=_ge("b_metaCont");n&&n.parentElement&&n.parentElement.removeChild(n)}function el(){var n,t,i;((t=(n=CIB.config)===null||n===void 0?void 0:n.knowledgeCards)===null||t===void 0?void 0:t.query)&&(CIB.config.knowledgeCards.query.IG=_G.IG,CIB.config.knowledgeCards.query.IID=(i=_ge("b_sydConvCont"))===null||i===void 0?void 0:i.getAttribute("_iid"))}function bu(){var n,i,r,u,s=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableDM,!1),h=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isMobileHost,!1)&&t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isMobileUI,!1),c=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isUnderside,!1),f,e,o;return c?_w.matchMedia("(prefers-color-scheme: dark)").matches:(f=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("SRCHHPGUSR","DM"),h?(e=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("SRCHHPGUSR","THEME"),e=="1"||e=="2"&&f=="1"||s):(o=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("SRCHHPGUSR","WEBTHEME"),o=="1"||o=="2"&&f=="1"))}function ui(n,i,r){var e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.disable2TSearchHistory,!0),ut=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enable2TTest,!1),tt=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enable2TResizeUpdate,!0),u=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isMobileHost,!1)&&t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.isMobileUI,!1),it=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enable2TThemeCheck,!0),rt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enable2TUndersideOverride,!1),f;((y=(v=CIB===null||CIB===void 0?void 0:CIB.config)===null||v===void 0?void 0:v.answers)===null||y===void 0?void 0:y.query)&&(CIB.config.answers.query.IG=_G.IG,CIB.config.answers.query.IID=(p=_ge("b_sydConvCont"))===null||p===void 0?void 0:p.getAttribute("_iid"),CIB.config.answers.query.cw=n,CIB.config.answers.query.ch=i,nt&&(CIB.config.answers.query.dissrchswrite="1"),tt&&sj_be(_w,"resize",function(){CIB.config.answers.query.cw=ht(u);CIB.config.answers.query.ch=st(u)}),it&&(bu()?u?CIB.config.answers.query.darkschemeovr="1":CIB.config.answers.query.webthemedark="1":CIB.config.answers.query.lightschemeovr="1"),rt&&(CIB.config.answers.query.underside="1"));((b=(w=CIB===null||CIB===void 0?void 0:CIB.config)===null||w===void 0?void 0:w.ads)===null||b===void 0?void 0:b.query)&&(CIB.config.ads.query.IG=_G.IG,CIB.config.ads.query.IID=r?(k=_ge("CodexAdsInstLink"))===null||k===void 0?void 0:k.getAttribute("_iid"):(d=_ge("b_sydConvCont"))===null||d===void 0?void 0:d.getAttribute("_iid"),CIB.config.ads.query.cw=n,CIB.config.ads.query.ch=i,CIB.config.ads.query.form="codexx",nt&&(CIB.config.ads.query.dissrchswrite="1"),tt&&sj_be(_w,"resize",function(){CIB.config.ads.query.cw=ht(u);CIB.config.ads.query.ch=st(u)}),it&&(bu()?u?CIB.config.ads.query.darkschemeovr="1":CIB.config.ads.query.webthemedark="1":CIB.config.ads.query.lightschemeovr="1"),rt&&(CIB.config.ads.query.underside="1"));ut&&SydneyTestHelper.set2TTestConfigs();f=_w.GlobalInstTracker;typeof f!="undefined"&&f&&f.updateCibConfigIgFromMode&&((g=CIB===null||CIB===void 0?void 0:CIB.vm)===null||g===void 0?void 0:g.mode)&&f.updateCibConfigIgFromMode(CIB.vm.mode)}function ol(n,t){var i=ht(n),r=st(n);if(n)try{ui(i,r,t)}catch(u){Log.Log("CI.Error","SydneyMobile","ClientObserver not loaded")}else ui(i,r,t)}function st(n){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enable2TQueryConfigClientObserverNullCheck,!1);return n?ClientObserver?ClientObserver.getBrowserHeight():dr():r?ClientObserver?ClientObserver.getBrowserHeight():Math.round(_d.documentElement.clientHeight||_w.innerHeight):ClientObserver.getBrowserHeight()}function ht(i){var r,f=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enable2TQueryConfigClientObserverNullCheck,!1),u;return i?(u=ClientObserver?ClientObserver.getBrowserWidth():kr(),u-n.padding2TMobile<n.MIN_WIDTH_MOBILE?n.MIN_WIDTH_MOBILE:u-n.padding2TMobile):f?ClientObserver?ClientObserver.getBrowserWidth():Math.round(_d.documentElement.clientWidth||_w.innerWidth):ClientObserver.getBrowserWidth()}function ku(n){var i,r,u;if(n===void 0&&(n={autoSubmit:!1}),r=du(),r&&CIB.addMessageWithData){var f=t(!!((i=_w._sydConvConfig)===null||i===void 0?void 0:i.himgdirmsg),!0),e=decodeURI(r),o=typeof SydneyImageKnowledgeTestUtils!="undefined";o&&(e=SydneyImageKnowledgeTestUtils.prepareMockedImageUrl());u=[{type:"url",data:e}];n.autoSubmit&&!!n.isFirstMessage&&!!n.query&&CIB.sendSearchQueryWithData?CIB.sendSearchQueryWithData(n.query,{images:u},{hideImageInUserMessage:f}):CIB.addMessageWithData({text:n.query||"",images:u},n.autoSubmit,"",{hideImageInUserMessage:f});o&&sj_evt.fire("CIBMessageWithDataSent")}}function sl(u,f,e,o,s,h){var v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,c,l,ft,a,ot,st;if(s===void 0&&(s=!1),h===void 0&&(h=!0),rt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableSydContext,!0),ut=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableSQMsg,!0),n.enableConvModeSwitchAjax=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableConvModeSwitchAjax,!1),i(r.System,"TrySendingFirstQueryToChat","SerpToChatTransition",{}),!nf(u,s))return!1;if(o&&n.enableConvModeSwitchAjax){if(n.isSmoothConvSwitchUpdatedPage())return!1;try{if(c=CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text!="Generating answers for you..."||n.type==="text"&&n.author==="user"}),c&&c.length>0&&(l=c[c.length-1].text.split("`"),ft=l.length==1?l[0]:l.length==3?l[1]:"",ft.toLowerCase()==u.toLowerCase()))return!1}catch(yt){}}a=[];e&&a.push({author:"user",text:e});f&&a.push({author:"bot",text:f});rt&&a.length!=0&&CIB.registerContext(a);var ht=(b=(w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableSunoWelcomeMessage)!==null&&b!==void 0?b:!1,ct=(d=(k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableSunoUpsell)!==null&&d!==void 0?d:!1,lt=(nt=(g=_w._sydConvConfig)===null||g===void 0?void 0:g.isMSAAuthenticated)!==null&&nt!==void 0?nt:!1,et=n.getConfigOrDefault((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableScrollMsgTextMessage,!0),at=new URLSearchParams(_w===null||_w===void 0?void 0:_w.location.search),vt=at.get("enablesuno")==="1";return ct&&ht&&lt&&vt&&(!CIB.manager.conversation._lastMessage||CIB.manager.conversation._lastMessage.author==="bot")&&!CIB.manager.conversation.messages.filter(function(n){return n.author==="user"}).length?(u=t((it=_w._sydConvTranslation)===null||it===void 0?void 0:it.sunoCachedMessage,u),CIB.addMessage(u)):ut&&o&&(!et||h)&&(!CIB.manager.conversation._lastMessage||CIB.manager.conversation._lastMessage.author==="bot")&&!CIB.manager.conversation.messages.filter(function(n){return n.author==="user"}).length?gu(u,!0):(i(r.Interaction,"TranistionToChatWithQuery","SerpToChatTransition",{}),et&&!h&&(ot=typeof sessionStorage!="undefined",st="isMessageIntentional",ot&&(sessionStorage===null||sessionStorage===void 0?void 0:sessionStorage.setItem(st,JSON.stringify(!1)))),gu(u,!1)),n.lastQuery=u,n.firstQuery.length==0&&(n.firstQuery=u),!0}function hl(){return CIB.config.features.enablePartnerVisualSearchUpload&&CIB.config.visualSearch.sendPartnerImageUrlDirectlyToBot}function du(){var n,i=new URLSearchParams(_w.location.search),t=(n=i.get(ei))!==null&&n!==void 0?n:typeof SydneyTestHelper!="undefined"?SydneyTestHelper.getParamFromUrl(ei):null;return t!==null&&t!==void 0?t:undefined}function cl(){return{imageUrl:du()}}function gu(n,t){if(hl()){var i=cl();if(i.imageUrl){ku({query:n,isFirstMessage:t,autoSubmit:!0});return}}t?CIB.sendSearchQuery(n):CIB.addMessage(n)}function nf(n,u){var f,e,o,s,l;if(ll(n)||al())return!1;var h=ft("showconv"),c=ft("sendquery"),a=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isNewBingChat,!1),v=h==="1"||a;return v&&c==="1"||u?!0:h==="1"&&c!=="1"?!1:(s=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.initialShowConvPresent,!1),l=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.disableChatQueryForShowConv,!0),s&&i(r.System,"InitialShowConvPresent","SerpToChatTransition","1"),l&&s)?!1:!0}function ll(t){return!t||t==n.lastQuery||t==n.firstQuery}function al(){var n,i,r,u,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.bypassConsentCheck,!1),e=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexMuidConsentTop,!1),o=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableCodexMuidConsentExplicit,!0),s=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexMuidConsentImplicit,!1),h=CIB.vm.conversation.model.messages.filter(function(n){return n.author=="user"}).length,c=e||o||s;return c&&!pt&&!fu()&&!(f||h<1)}function vl(n){var i=n.dataset.codexads,r,t;return i?(r=n.querySelector(".sb_add > h2 > a"),t=JSON.parse(i),r&&(t===null||t===void 0?void 0:t.length)>0&&(t[0].kappns=r.getAttribute("h")),i=JSON.stringify(t),i?i:""):""}function fi(n,t,i){return i===void 0&&(i="POST"),new Promise(function(r,u){var f=sj_gx();f.onreadystatechange=function(){f.readyState===4&&(f.status===200?r(f):u(f))};f.onerror=function(){u(f)};f.open(i,n,!0);f.setRequestHeader("content-type","application/json");f.send(t)})}function yl(n){return fi(n,"","GET").then(function(n){return Promise.resolve(JSON.parse(n.response))})["catch"](function(n){return Promise.reject(n)})}function pl(n){var u,f,e,i,r;return n?(e="Search for {0}. Impress me with a great response that helps me complete my most likely intent while showing the smartness, depth, and beauty (bolding, tables, and citations) you can produce. Satisfy my intent as early as possible in the response.",i=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.tigerEnhancedPromptTemplate,e),!i)?n:(i=i.replace("{0}",n),r=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.language,""),r&&r.indexOf("English")<0&&(i+=" Respond in language "+r),i):n}function tf(){var n,i,r,u=new URLSearchParams(_w===null||_w===void 0?void 0:_w.location.search),f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableDynamicFormCode,!1),e=f?!!_w._ncpformCode:((i=u.get("form"))===null||i===void 0?void 0:i.toLowerCase())==="convaj"||((r=u.get("form"))===null||r===void 0?void 0:r.toLowerCase())==="atcvaj";return u.has("form")&&e&&_w._isConvAjaxUpdated}function wl(){var n=_ge("noSerp");return n&&Lib.CssClass.contains(n,"initSerp")}function bl(){var n,t,i=(t=(n=_d.querySelector("cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-background");i&&(i.style.height="100%",i.style.width="100%")}function kl(){var n,t,i,r,u,f,e=(f=(u=(r=(i=(t=(n=_d.querySelector("cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-conversation"))===null||i===void 0?void 0:i.shadowRoot)===null||r===void 0?void 0:r.querySelector("cib-welcome-container"))===null||u===void 0?void 0:u.shadowRoot)===null||f===void 0?void 0:f.querySelector(".muid-upsell");e&&(e.style.display="none")}function dl(){var t,i,n=(i=(t=_d.querySelector("cib-serp"))===null||t===void 0?void 0:t.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-conversation"),r,u;(n===null||n===void 0?void 0:n.shadowRoot)&&(r=n.shadowRoot.querySelector(".scroller"),r&&(u=r.querySelector(".fade.top"),u&&(u.style.display="none")))}function gl(){var r,f,e,o;bt=__spreadArray([],CIB.config.sydney.request.optionsSets,!0);var s=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableNotebookTurbo,!1),i=n.getAllowedToneOptionsSets(s?n.CREATIVE_TONE:n.PRECISE_TONE),h=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.threadsAutoSaveOptionset,k),c=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableNotebookThreads,!1);c?(o=CIB.config.sydney.request.source,CIB.config.features.enableSourceInGetConversation=!0,lr=o!=="notebook"?o:u,CIB.config.sydney.request.source="notebook"):i=i.filter(function(n){return n!==h});cr.forEach(function(t){n.addOptionSet(i,t)});CIB.config.sydney.request.optionsSets=i;CIB.showNotebook&&CIB.showNotebook();_G[n.SYD_PREV_MODE]=_G[n.SYD_MODE];_G[n.SYD_MODE]="notebook"}function na(){var i,r,u,f;CIB.config.sydney.request.optionsSets=__spreadArray([],bt,!0);u=n.getAllowedToneOptionsSets(CIB.responseTone);CIB.config.sydney.request.optionsSets=u;f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableNotebookThreads,!1);f&&(CIB.config.features.enableSourceInGetConversation=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSourceInGetConversation,!1),CIB.config.sydney.request.source=lr)}function ta(){var n;return __awaiter(this,void 0,void 0,function(){var i,u,r;return __generator(this,function(f){switch(f.label){case 0:return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enable1pGptsApi,!1)?(r={},[4,FreeSydneyHelper.get1pGptsFromApi()]):[3,2];case 1:return i=(r.freeSydneyPersonaModels=f.sent(),r),[3,4];case 2:return[4,sa()];case 3:u=f.sent();i={freeSydneyPersonaModels:__spreadArray(__spreadArray([],FreeSydneyHelper.getFreeSydneyPersonasData().freeSydneyPersonaModels,!0),u,!0)};f.label=4;case 4:return CIB.setFreeSydneyData&&CIB.setFreeSydneyData(i),[2]}})})}function ia(){var n=FreeSydneyHelper.getFreeSydneyPersonasData();return n&&n.freeSydneyPersonaModels.length>0?n.freeSydneyPersonaModels[0]:null}function ra(n,t,r){if(r===void 0&&(r=!1),CIB===null)return i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"CIB element not found"}),!1;var u=_ge(eo),f=r?_qs(so):_qs(vr);return u===null||f===null?(i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"External content wrapper or cib-serp wrapper not found"}),!1):ea(n,f,u,t)}function ua(n){if(CIB===null)return i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"CIB Element not found"}),!1;var t=_ge("b_chat_external_answer_cards_content"),r=_qs(vr);return t===null||r===null?(i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"External content wrapper or cib-serp wrapper not found"}),!1):oa(r,t,n)}function fa(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.isAjaxSerpUpdated,!1)}function ct(n){if(!n)return null;for(var t=n.parentNode;t;){if(t instanceof ShadowRoot)return t;t=t.parentNode}return null}function ea(n,t,r,u){var a,v,y,p,w,b,g=n==="cib-message"&&!!u,k,d,s,f,e,h,nt,o,c,l,tt;if(k=g?(y=(v=ct((a=_w._sydExtResSlots)===null||a===void 0?void 0:a.get(u)))===null||v===void 0?void 0:v.host)!==null&&y!==void 0?y:undefined:(p=t===null||t===void 0?void 0:t.shadowRoot)===null||p===void 0?void 0:p.querySelector(n),!k)return i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"Destination element not found"}),!1;for(d=r.getElementsByClassName(oo),s=0;s<d.length;s++){if(f=d[s],e=k,!f){i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"Could not parse external content to HTMLElement"});continue}if(h=f.getAttribute("slot"),h===null){i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"Slot name on injected element is null"});continue}for(nt=1,o=h;e.tagName.toLowerCase()!==yr;)c=sj_ce("slot"),c.setAttribute("slot",o),o="".concat(h,"-").concat(nt++),c.setAttribute("name",o),e.appendChild(c),e=(b=(w=ct(e))===null||w===void 0?void 0:w.host)!==null&&b!==void 0?b:t;f.setAttribute("slot",o);t.appendChild(f);f.classList.remove(pr);l=vl(f);f.removeAttribute("data-codexads");tt=f.dataset.query;f.removeAttribute("data-query");g?_w.postMessage({type:"AnswerCardDimensionUpdate",data:{type:"ADS",iframeid:u,height:f.clientHeight,width:f.clientWidth,hasCarousel:!1,isFullWidth:!1,query:tt,context:l?l:{}}},"*"):_w.postMessage({eventId:ho,adsContext:l,width:f.clientWidth,height:f.clientHeight},"*")}return!0}function oa(n,t,r){var c,l,a,v,y,p,w=(a=(l=ct((c=_w._sydTwoTPlusResSlots)===null||c===void 0?void 0:c.get(r)))===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:undefined,o,u,f,s,b,e,h;if(!w)return i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"Destination element not found"}),!1;for(o=0;o<((v=t.children)===null||v===void 0?void 0:v.length);o++){if(u=t.children.item(o),f=w,!u){i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"Could not parse external content to HTMLElement"});continue}if(s=u.getAttribute("slot"),s===null){i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"Slot name on injected element is null"});continue}for(b=1,e=s;f.tagName.toLowerCase()!==yr;)h=sj_ce("slot"),h.setAttribute("slot",e),e="".concat(s,"-").concat(b++),h.setAttribute("name",e),f.appendChild(h),f=(p=(y=ct(f))===null||y===void 0?void 0:y.host)!==null&&p!==void 0?p:n;u.setAttribute("slot",e);n.appendChild(u);u.classList.remove(pr)}return!0}function sa(){var n;return __awaiter(this,void 0,void 0,function(){var i,r,u,f;return __generator(this,function(e){switch(e.label){case 0:return(i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableAIPersonasForDesktop,!1),!(i&&typeof PersonaGPTHandler!="undefined"&&PersonaGPTHandler))?[3,2]:(r=_w._sydConvTranslation,[4,PersonaGPTHandler.getPersonas()]);case 1:return u=e.sent(),f=u.map(function(n){return{id:n.topic,type:n.topic,name:n.personaTitle,displayName:n.personaTitle,icon:n.smallImageUrl,avatarImageUrl:n.avatarImageUrl,description:n.shortDescription,extraOptionsSets:n.optionsSets,supportedTones:n.supportedTones,defaultTone:n.defaultTone,showThreads:!1,welcomeHeader:n.description,welcomeTiles:n.suggestions.map(function(n){return{category:"chat",text:n.text,title:r.freeSydneyWelcomeTilesChatTitle,size:"medium"}})}}),[2,f];case 2:return[2,[]]}})})}var rf="sydneyOptionsSets",uf="codexFeatures",ff="speechSrOptions",ei="imgUrl",ef="https://bing.com/new",sf="desktop",hf="/turing/copilot/builder",oi="/search",cf="bingchat",lf="chat",af="iycapbing,iyxapbing,prjupywa",vf="https://sydney.bing.com",yf="https://copilot.microsoft.com",pf="https://www.bing.com",k="autosave",u="",yi;n.CREATIVE_TONE="Creative";n.BALANCED_TONE="Balanced";n.PRECISE_TONE="Precise";var lt=5,wf=1,bf=20,kf=1048576,df=1048576,gf=10485760,ne=500,te=1,ie=1,re="fucptob",ue=[],si=[],fe="https://go.microsoft.com/fwlink/?linkid=2135394",ee=750,hi=48,oe=42,se=16,he=6,ci=60,at=55,ce=1e3,le="so_bing_chat",li="seltone",ae="SydAddCarousel",ai="https://login.microsoftonline.com/consumers",vi="bb893c22-978d-4cd4-a6f7-bb6cc0d6e6ce";n.SYD_MODE="SydMode";n.SYD_PREV_MODE="SydPrevMode";n.lastQuery=(n===null||n===void 0?void 0:n.lastQuery)?n===null||n===void 0?void 0:n.lastQuery:"";n.firstQuery="";n.ignoreFirstOffStage=!1;n.shouldResetBotGreeting=!0;n.shouldForceSendBotGreeting=!1;yi="shareId";n.userCook="SRCHHPGUSR";n.toneCrumb="cdxtone";n.toneOptsCrumb="cdxtoneopts";n.toneExpiryCrumb="cdxtoneexp";var vt="InitialTone",ve="crtone",ye="cdxwinturn",pe="ADLT",d="MUID",pi="CMUID",we="BCTTSOS",wi="VSRO",be="VSVN",bi="BFBUSR",ke="CMUIDBCE",ki="CIBV",di="BCML",gi="BCMLNCount",g=!1,nr=!1,tr=!1,ir="BCRO",rr="BCRONCount",nt=!1,de="BCSRLANG",ge=["chips","query","searchQuery","text"],yt="<stripped/>",ur="cdxModalVisible",no="aad",v="",tt=document.title||"",fr=!1,er=!1,it=!0,y=pi,p=!1,pt=!1,to=3,io=1,ro=2,uo=0,fo=3,r={System:"SystemEvent",Interaction:"InteractionEvent"},f={Creative:"h3imaginative",Balanced:"harmonyv3",Precise:"h3precise"},rt={c:"Creative",b:"Balanced",p:"Precise"},c={Creative:[],Balanced:[],Precise:[]},l="",or=!1,h=!1,sr=!1,wt=-1,hr="",bt,cr=[],lr=u,ar="",ha={type:r.System,name:"SydneyTranslationAjaxLoaded",namespace:"TranslationJson",customLogData:null},ut={Off:"1",Demote:"2",Strict:"4",KidSafe:"8",Stricter:"16",AdultOnly:"32"},eo="b_chat_external_content",oo="b_cib_ext",vr='cib-serp[serp-slot="none"]',yr="cib-serp",so='cib-serp[serp-slot="right-rail"]',pr="b_hide",ho="adInjectionComplete";n.isSydFSCEligible=n.isSydFSCEligible?n.isSydFSCEligible:!1;n.isConfigSet=!1;n.enableCreatorSendQueryWhenShowConvQuery=!0;n.padding2TMobile=92;n.MIN_WIDTH_MOBILE=288;n.enableConvModeSwitchAjax=!1;n.enableBingChatPath=!1;n.setConfigs=co;n.setTestConfigs=wr;n.setColorScheme=rs;n.getMobileBrowserWidth=kr;n.getMobileBrowserHeight=dr;n.prefetchTranslationStrings=us;n.setConvTranslationAsync=fs;n.setTigActiveSuggestionChipText=ph;n.getTigActiveSuggestionChipText=wh;n.getCookieTone=gt;n.updateResponseToneAfterSerp=ic;n.setSpeechLanguageConfig=eu;n.addOptionSet=e;n.removeOptionSet=ou;n.addSliceId=su;n.getConfigOrDefault=t;n.getAllowedToneOptionsSets=oc;n.isCookieBannerVisibileOnChatPage=sc;n.SydLog=i;n.CompliantLog=ii;n.LogIntEvent=cu;n.setupHistory=cc;n.pushSydHistory=lu;n.updateConvFlagInURL=au;n.addNotebookFlagInURL=lc;n.deleteNotebookFlagInURL=ac;n.updateConvPageTitle=yc;n.checkInitialState=pc;n.setEventListeners=wc;n.getActiveSuggestionChipText=bc;n.processCachedResponseUsingCIB=kc;n.triggerSydFSC=yu;n.getQuery=b;n.triggerShareFlow=dc;n.triggerSydFSCWithContext=pu;n.triggerSydFSCQueryWithContext=gc;n.setSydFSCEligibleState=nl;n.sydPayWallTrace=tl;n.triggerClarity=il;n.shouldMove1TAnswers=rl;n.addCarousel=ul;n.removeQueries=wu;n.set2TQueryConfigs=ui;n.retrieveSydneyFSCClientHeight=st;n.retrieveSydneyFSCClientWidth=ht;n.submitVisualSearchImage=ku;n.sendFirstQuery=sl;n.shouldSendQuery=nf;n.createRequest=fi;n.getJsonData=yl;n.createIntelligentQuery=pl;n.isSmoothConvSwitchUpdatedPage=tf;n.isFirstAjaxSerp=wl;n.updateChatBackgroundWidth=bl;n.hideSignInUpsellFor3P=kl;n.hideTopFade=dl;n.setNotebookOptions=gl;n.setDefaultOptions=na;n.setFreeSydneyData=ta;n.getDefaultFreeSydneyData=ia;n.injectExternalAd=ra;n.injectAnswerCard=ua;n.isAjaxSerpUpdatedPage=fa;sj_evt.fire("SydFSCHelperLoaded")}(SydFSCHelper||(SydFSCHelper={}));
//]]></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/KUMFLp_3aFw-EWkRAAKNPT1AMHM.gz.js"></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/rEyf5r6GntWGoi90dN9CzUTNUOc.gz.js"></script><script type="text/javascript" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=">//<![CDATA[
var cpltAppUpsellConfig ={"hideAfterClick":false,"showFlyoutOnHover":true,"isDarkmode":false,"redirectUrl":"https://www.microsoft.com/copilot-app/?form=MY02E3\u0026OCID=MY02E3","enableProTrialAppUpsell":false,"enableConditionalCopilotAppUpsell":false,"isSignedIn":true};;var __awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},CopilotAppUpsell;(function(){function k(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return(cpltAppUpsellConfig.enableConditionalCopilotAppUpsell&&cpltAppUpsellConfig.isSignedIn)?[4,SapphireUtils.didUserVisitApp("copilot")]:[3,2];case 1:return n=t.sent(),[2,!n];case 2:return[2,!(cpltAppUpsellConfig.hideAfterClick&&b)]}})})}function d(){sj_evt.bind("convInit:done",function(){var t,i,r;(e=_ge("b_header"),n=_ge("copilot_app_cta"),e&&n)&&(r=(i=(t=_qs("cib-serp"))===null||t===void 0?void 0:t.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-side-panel"),r?n&&l(n,"no_sidepanel"):n&&f(n,"no_sidepanel"),cpltAppUpsellConfig.isDarkmode&&n&&f(n,"b_dark"),e.appendChild(n),typeof Log!="undefined"&&typeof Log.Log!="undefined"&&Log.Log(s,u,h),rt())})}function g(){if(v=!0,sj_gx){var t=sj_gx(),r=ut()?"turing/header/copilotappupsellflyoutv2":"turing/header/copilotappupsellflyout";t.onreadystatechange=function(){t.readyState==4&&t.status==200&&(sj_appHTML(n,t.responseText),a=!0,sj_evt.fire("copilotFlyoutFetched"),sj_evt.unbind("copilotFlyoutFetched",i))};t.open("GET",r,!0);t.send()}}function nt(t){var i=_ge("cplt_fly");(n===null||n===void 0?void 0:n.contains(t===null||t===void 0?void 0:t.target))||(i===null||i===void 0?void 0:i.contains(t===null||t===void 0?void 0:t.target))||o()}function tt(n){var i,r,u,t=_ge("cplt_fly"),f=t&&(t===null||t===void 0?void 0:t.contains(n===null||n===void 0?void 0:n.target)),e=((i=_d.activeElement)===null||i===void 0?void 0:i.id)==="copilot_app_cta";(f&&!n.shiftKey&&n.key==="Tab"&&((u=(r=_d.activeElement)===null||r===void 0?void 0:r.classList)===null||u===void 0?void 0:u.contains("cplt_fly_cta"))||(f||e)&&n.key==="Escape"||e&&n.shiftKey&&n.key==="Tab")&&(o(),t.focus())}function it(n){var e,h,l,a,v,y,p=_ge("cplt_fly");if(p===null||p===void 0?!void 0:!p.contains(n===null||n===void 0?void 0:n.target)){if(typeof Log!="undefined"&&typeof Log.Log!="undefined"&&Log.Log(s,u,w),cpltAppUpsellConfig.showFlyoutOnHover)t?o():i(n);else{var f=new URLSearchParams((e=_w.location.search)===null||e===void 0?void 0:e.toLowerCase()),b=(h=f===null||f===void 0?void 0:f.get("form"))!==null&&h!==void 0?h:"MY02E3",k=(l=f===null||f===void 0?void 0:f.get("ocid"))!==null&&l!==void 0?l:"MY02E3",r=new URL(cpltAppUpsellConfig.redirectUrl);(a=r===null||r===void 0?void 0:r.searchParams)===null||a===void 0?void 0:a.set("form",b);(v=r===null||r===void 0?void 0:r.searchParams)===null||v===void 0?void 0:v.set("ocid",k);_w.open(r,"_blank")}(y=_w.localStorage)===null||y===void 0?void 0:y.setItem(c,"true")}}function rt(){sj_evt.bind("copilotFlyoutFetched",i,!0);sj_be(_d,"click",nt);sj_be(_d,"keydown",tt);sj_be(n,"click",it);cpltAppUpsellConfig.showFlyoutOnHover&&sj_be(n,"mouseover",i)}function i(i){if(t){n.getAttribute("aria-expanded")==="false"&&n.setAttribute("aria-expanded","true");return}if(!a){v||g();n.setAttribute("aria-expanded","true");return}var r=_ge("cplt_fly");(r===null||r===void 0?void 0:r.contains(i===null||i===void 0?void 0:i.target))||(typeof Log!="undefined"&&typeof Log.Log!="undefined"&&Log.Log(p,u,h),r&&(f(r,"active"),t=!0))}function o(){var i=_ge("cplt_fly");i&&l(i,"active");t=!1;n.setAttribute("aria-expanded","false")}function ut(){var n,t;return cpltAppUpsellConfig.enableProTrialAppUpsell&&!((n=_w._sydConvConfig)===null||n===void 0?void 0:n.isCCP)&&!((t=_w._sydConvConfig)===null||t===void 0?void 0:t.isProTrialed)}var y=this,r,s="OpallUpsell",p="CopilotAppUpsellFlyout",u="18o6z86b",h="Show",w="Click",c="IsCopilotAppHeaderIconClicked",b=(r=_w===null||_w===void 0?void 0:_w.localStorage)===null||r===void 0?void 0:r.getItem(c),l=Lib.CssClass.remove,f=Lib.CssClass.add,n,e,a=!1,v=!1,t=!1;(function(){return __awaiter(y,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return[4,k()];case 1:return n=t.sent(),n&&d(),[2]}})})})()})(CopilotAppUpsell||(CopilotAppUpsell={}));if ("launchQueue" in window) { window.launchQueue.setConsumer((launchParams) =>{ if (launchParams.targetURL) { const params = new URL(launchParams.targetURL).searchParams; if (params.get("showntbk")=="1") { window.location.href = launchParams.targetURL; } } }); };var sj_rra=function(n){var i="/rewardsapp/reportActivity",f=_w.location.search.substring(1),u=window.data_iid,r,t,e;i+=u&&u.length>0?"?IG="+_G.IG+"&IID="+u+"&"+f:"?"+f;r=window.rw_mqs_cg;r&&r.length>0&&(i+="&cg="+r,window.rw_mqs_cg=undefined);_w._H&&_w._H.mkt&&(i+="&src=hp");t=sj_gx();e="url="+escape(n)+"&V=web";t.open("POST",i,!0);t.setRequestHeader("Content-type","application/x-www-form-urlencoded");t.onreadystatechange=function(){t&&t.readyState==4&&t.status==200&&t.responseText&&_w.sj_appHTML&&(sj_appHTML(document.body,t.responseText),sj_evt&&sj_evt.fire("serpThemeUpdatedByRewards"))};t.send(e)};0;var RewardsCreditRefresh;(function(n){function r(t,i,r,u,f,e,o,s,h,c,l,a,v,y){sj_cook.set(t,i,r.toString(),!1,"/");sj_cook.set(t,u,f.toString(),!1,"/");sj_cook.set(t,e,o.toString(),!1,"/");sj_cook.set(t,s,h.toString(),!1,"/");sj_cook.set(t,c,l.toString(),!1,"/");sj_cook.set(t,a,v.toString(),!1,"/");sj_evt.fire("RewardsCookieUpdated");sj_evt.bind("identityHeaderShown",function(){return n.RewardsHeaderAnim(o,r,f,y)},1)}function u(n,r,u,f){var c;u=u||r;var o=_ge("id_rh"),e=_ge("rh_animcrcl"),l=_ge("id_rc");if(o&&l&&(e||_ge("givemuid_heart"))&&!(r<0)&&!(r<n)&&!(u<=0)){var a=800,v=r-n,s=Math.min(100,100*(r/u)),h=e&&s>=100&&n<u,y=v>0,p=Date.now();s>=100&&Lib.CssClass.add(o,"rh_reedm");e&&Lib.CssClass.add(e,"anim");c=function(u){if(u){var k=Date.now(),w=k-p,b=Math.min(w/a,1),d=h?t*b:t*s/100,g=y?Math.min(Math.floor((n+b*v)/f)*f,r):r,l=_ge("rewardsAnimation");e&&e.setAttribute("stroke-dasharray",d.toString()+","+t.toString());u.innerText=g.toString();(h||y)&&(w<a?i(function(){return c(u)}):(u.innerText=r.toString(),h&&(Lib.CssClass.add(o,"rh_scale"),Log.Log("CI.Info","RewardsReportActivity","ScaleAnim")),sj_evt.fire("RewardsAnimComplete"),l&&(Lib.CssClass.remove(l,"b_hide"),setTimeout(function(){Lib.CssClass.add(l,"b_hide")},2200))))}};c(l)}}function f(){var n=_ge("id_rc");return n?parseInt(n.innerText):0}function e(n){var i=_ge("id_rc"),t;i&&(i.innerText=n.toString());t=_ge("id_rcep");t&&(t.innerText=n.toString())}var t=88,i=function(){return _w.requestAnimationFrame||_w.webkitRequestAnimationFrame||_w.mozRequestAnimationFrame||function(n){sb_st(n,1e3/60)}}();n.RewardsRefresh=r;n.RewardsHeaderAnim=u;n.GetRewardsHeaderBalance=f;n.SetRewardsHeaderBalance=e})(RewardsCreditRefresh||(RewardsCreditRefresh={}));var __spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},LightLogger;(function(n){function i(n,t,i,r,u){var e,f;if(u=u||{},u.FID="ModernRewardsFlyout",u.EventName=i,_w&&_w.Log2&&Log2.LogEvent&&_G.XLS)Log2.LogEvent("ClientInst",u,t),Log2.ForceFlush&&r&&Log2.ForceFlush(!0);else if(_w&&_w.Log&&Log.Log){if(e=["Fallback","1"],u&&u.hasOwnProperty)for(f in u)u.hasOwnProperty(f)&&(e.push(f?f.toString():""),e.push(u[f]?u[f].toString():""));Log.Log.apply(Log,__spreadArray([t,"ModernRewardsFlyout",i,r],e,!1))}}var t;(function(n){n.Click="Click";n.Init="Init";n.Load="Load";n.Success="Success";n.Error="Error"})(t=n.InstrumentationEventType||(n.InstrumentationEventType={}));n.logInstrumentationV2=i})(LightLogger||(LightLogger={}));var ModernRewards;(function(n){var t="redDotDisplay",e="redDotDisplayFill",f="rewards_header_icon serp",o="rewards_header_icon hp",s="/red-dot-24.png",h="AutoOpenFlyoutFired",c="bfbNotificationShown",l="BNPNotificationShown",a="ChatVerticalShown",v="CookieDisabled",y="IsAADUser",p="MissingModel",w="_RwBf",b="rwmrst",i=!0,u="",r="//az15297.vo.msecnd.net/images/rewards/membercenter/missions/redDotImage.png",k=function(){function n(n){this.reportActivityModel=n;this.rewardsReadyEventArgs={isAuthenticated:n&&n.IsAuthenticated,isRebatesUser:n&&n.RewardsSessionData&&n.RewardsSessionData.IsRebatesUser,isRewardsUser:n&&n.RewardsSessionData&&n.RewardsSessionData.IsRewardUser,isTrialUser:n&&n.RewardsSessionData&&!n.RewardsSessionData.IsRewardUser&&n.RewardsSessionData.IsTrialUser,waitlist:n&&n.RewardsSessionData&&n.RewardsSessionData.Waitlist,isCcpEligible:n&&n.RewardsSessionData&&n.RewardsSessionData.IsCcpEligible,hasUsedCcpTrial:n&&n.RewardsSessionData&&n.RewardsSessionData.HasUsedCcpTrial}}return n.prototype.initialize=function(){var f=this,o,s,w,n;if(this.reportActivityModel){if(this.sendReportActivityModelToWidget(),this.updateDashboardHeader(),this.updateMobileHeader(),this.updateRebatesHeader(),this.updateBalanceMessage(),(((o=this.reportActivityModel.RewardsSessionData)===null||o===void 0?void 0:o.IsGiveModeOn)||this.reportActivityModel.IsGiveSerpHeaderTealHeartEnabled||this.reportActivityModel.IsDailyCheckInMedallionAnimationEnabled||this.reportActivityModel.IsRewardsEntryPointEnabled)&&!this.reportActivityModel.IsGiveHeaderTextEnabled&&this.updateIdentityHeader(!1),this.reportActivityModel.IsGiveHeaderTextEnabled)this.updatePointsCounter();else if(_ge("givemuid_heart")||_ge("rh_meter_leaf_homepage")){s=_ge("id_r");s&&(s.style.display="block");var t=this.reportActivityModel.RewardsSessionData,b=t.Balance>0||t.IsRewardUser,e=b?t.Balance.toString():this.reportActivityModel.RewardsHeader,k=_ge("id_rc");k&&e&&(k.innerHTML=e,this.reportActivityModel.AnimateHeader&&b&&(this.reportActivityModel.IsMobileClient?RewardsCreditRefresh.RewardsHeaderAnim(t.PreviousBalance,t.Balance,t.GoalTrackBalance,this.reportActivityModel.RewardsIncrement):sj_evt.bind("identityHeaderShown",function(){return RewardsCreditRefresh.RewardsHeaderAnim(t.PreviousBalance,t.Balance,t.GoalTrackBalance,f.reportActivityModel.RewardsIncrement)},1)));w=_ge("ic_rcep");w&&e&&(w.innerHTML=e)}this.reportActivityModel.LogWaitlistAutoJoin&&typeof LightLogger!="undefined"&&LightLogger&&LightLogger.logInstrumentationV2(null,LightLogger.InstrumentationEventType.Init,"WaitlistAutoJoin",!0,{})}var d=this.reportActivityModel&&this.reportActivityModel.RewardsSessionData?this.reportActivityModel.RewardsSessionData.IsRewardUser:!1,r=this.reportActivityModel&&this.reportActivityModel.AutoOpenGoBigL2Scenario,g=this.reportActivityModel&&this.reportActivityModel.IsAutoOpenGoBigL2Treatment;r&&typeof LightLogger!="undefined"&&LightLogger&&(g?LightLogger.logInstrumentationV2(null,LightLogger.InstrumentationEventType.Init,r,!0,{}):(LightLogger.logInstrumentationV2(null,LightLogger.InstrumentationEventType.Init,"Control-".concat(r),!0,{}),r=""));n=!1;this.reportActivityModel?navigator.cookieEnabled?(n=this.reportActivityModel.AutoOpenFlyout,n||(u="NoTrigger:"+this.reportActivityModel.AutoOpenFlyoutSuppressionReason)):(n=d?this.reportActivityModel.AutoOpenFlyout:!1,n||(u=v)):u=p;sj_evt.bind("bnp.notif.shown",function(){n&&(u=l);n=!1;sj_evt.fire("AutoOpenFlyoutHide")},!0);sj_evt.bind("showSydFSC",function(){n&&(u=a);n=!1;sj_evt.fire("AutoOpenFlyoutHide")},!0);sj_evt.bind("bfbNotificationShown",function(){n&&(u=c);n=!1;sj_evt.fire("AutoOpenFlyoutHide")},!0);sj_evt.bind("aad:signedin",function(){n&&(u=y);n=!1;sj_evt.fire("AutoOpenFlyoutHide")},!0);sj_evt.bind("onP1",function(){n?sj_evt.fire("AutoOpenFlyout"):r&&sj_evt.fire("OpenGoBigFlyoutL2",r);typeof LightLogger!="undefined"&&LightLogger&&LightLogger.logInstrumentationV2(null,LightLogger.InstrumentationEventType.Init,h,!0,{IsRewardUser:d,IsAutoOpenFlyout:n,SuppressionReason:u})},1);sj_evt.fire("RewardsCookieUpdated");sj_evt.fire("rewready",this.rewardsReadyEventArgs);sj_evt.bind("redDotControl",function(){f.hideRedDot()});sj_evt.bind("rewardsRedDot",function(){return i=!1,f.updateIdentityHeader(!0),i},1);sj_evt.bind("redDotAnimation",function(){return i=!0,f.updateIdentityHeader(!0),i},1)},n.prototype.updatePointsCounter=function(){var u=this,n=this.reportActivityModel.RewardsSessionData,t=n.Balance>0||n.IsRewardUser,i=t?n.Balance.toString():this.reportActivityModel.RewardsHeader,r=_ge("id_rc");r&&i&&(r.innerHTML=i,this.reportActivityModel.AnimateHeader&&t&&(this.reportActivityModel.IsMobileClient?RewardsCreditRefresh.RewardsHeaderAnim(n.PreviousBalance,n.Balance,n.GoalTrackBalance,this.reportActivityModel.RewardsIncrement):sj_evt.bind("identityHeaderShown",function(){return RewardsCreditRefresh.RewardsHeaderAnim(n.PreviousBalance,n.Balance,n.GoalTrackBalance,u.reportActivityModel.RewardsIncrement)},1)))},n.prototype.updateIdentityHeader=function(n){var st=this,v,y,p,k,c,ft,h,g,nt;if(this.reportActivityModel){if(!this.reportActivityModel.RewardsSessionData||this.reportActivityModel.IsGiveHeaderTextEnabled)return;var u=this.reportActivityModel.RewardsSessionData,l=this.reportActivityModel.AnimationAltText,tt=_ge("id_r");if(tt&&(tt.style.display="block"),this.reportActivityModel.UseRedDotFromBingDomain&&(r=s),this.reportActivityModel.RewardsSessionData.IsGiveModeOn)h=_ge(o),h&&(h.innerHTML="".concat(u.ShowAnimation?'<img id = "'.concat(t,'" src="').concat(r,'" alt="').concat(l,'" class = "" width = "8px" height = "8px" style="float:right;margin-right:-1px;margin-top:-1px" />'):"")+'<svg width="30" height="30" style="'.concat(u.ShowAnimation?"margin-left: 1px":"",'" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">')+'<rect width="30" height="30" fill="none"><\/rect><circle cx="15" cy="15" r="14" stroke="white" stroke-opacity="0.8" stroke-width="2"><\/circle><path d="M15 11.412L15.9463 11.7354C15.808 12.1401 15.4276 12.412 15 12.412C14.5723 12.412 14.192 12.1401 14.0537 11.7354L15 11.412ZM21.9309 12.3022L21.8452 13.2985C21.3557 13.2564 20.9693 12.865 20.9335 12.375L21.9309 12.3022ZM21.9411 12.303L22.0268 11.3067C22.4831 11.346 22.8545 11.6903 22.9281 12.1424L21.9411 12.303ZM17.6248 19.5469L17.0304 18.7427L17.0304 18.7427L17.6248 19.5469ZM15 20.6418L14.8739 19.6498C14.9576 19.6391 15.0423 19.6391 15.1261 19.6498L15 20.6418ZM12.3752 19.5469L12.9696 18.7427L12.9696 18.7427L12.3752 19.5469ZM8.05891 12.303L7.0719 12.1424C7.1455 11.6903 7.51684 11.346 7.9732 11.3067L8.05891 12.303ZM8.06909 12.3022L9.06643 12.375C9.03065 12.865 8.64426 13.2564 8.1548 13.2985L8.06909 12.3022ZM14.0537 11.0886C14.6673 9.29326 16.3687 8 18.3749 8V10C17.25 10 16.2917 10.7246 15.9463 11.7354L14.0537 11.0886ZM18.3749 8C20.7834 8 22.7555 9.86433 22.9282 12.2293L20.9335 12.375C20.8366 11.0476 19.7276 10 18.3749 10V8ZM22.0166 11.3058L22.0268 11.3067L21.8554 13.2994L21.8452 13.2985L22.0166 11.3058ZM22.9281 12.1424C23.252 14.132 22.44 15.8965 21.4296 17.2539C20.4155 18.6163 19.1155 19.6885 18.2192 20.3511L17.0304 18.7427C17.8606 18.1291 18.9815 17.1933 19.8253 16.0597C20.6727 14.9212 21.1556 13.7019 20.9541 12.4637L22.9281 12.1424ZM18.2192 20.3511C16.7902 21.4072 15.5844 21.7241 14.8739 21.6338L15.1261 19.6498C15.1153 19.6484 15.8058 19.6478 17.0304 18.7427L18.2192 20.3511ZM12.9696 18.7427C14.1942 19.6478 14.8846 19.6484 14.8739 19.6498L15.1261 21.6338C14.4156 21.7241 13.2098 21.4072 11.7808 20.3511L12.9696 18.7427ZM9.04591 12.4637C8.84434 13.7019 9.32726 14.9212 10.1747 16.0597C11.0185 17.1933 12.1394 18.1291 12.9696 18.7427L11.7808 20.3511C10.8844 19.6885 9.58447 18.6163 8.57039 17.2539C7.55998 15.8965 6.74801 14.132 7.0719 12.1424L9.04591 12.4637ZM8.1548 13.2985L8.14462 13.2994L7.9732 11.3067L7.98338 11.3058L8.1548 13.2985ZM11.6251 10C10.2724 10 9.16338 11.0476 9.06643 12.375L7.07175 12.2293C7.24447 9.86433 9.21662 8 11.6251 8V10ZM14.0537 11.7354C13.7083 10.7246 12.75 10 11.6251 10V8C13.6312 8 15.3327 9.29326 15.9463 11.0886L14.0537 11.7354Z" fill="white"><\/path> <\/svg>'),c=_ge(f),c&&(c.innerHTML="".concat(u.ShowAnimation?'<img id = "'.concat(t,'" src="').concat(r,'" alt="').concat(l,'" class = "" width = "8px" height = "8px" style="float: right;margin-right:-1px;margin-top:-1px;" />'):"")+'<svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" '+'style="'.concat(u.ShowAnimation?"margin-bottom: -2px; margin-left: 4px;":"margin-bottom: -2px; margin-left: 4px;",'">')+'<rect width = "30" height = "30" fill = "none" /><\/rect><circle cx="15" cy="15" r="14" stroke="#00809d" stroke-opacity="0.8" stroke-width="2" /><path id="rh_animpath" class="serp anim" d="M15 11.412L15.9463 11.7354C15.808 12.1401 15.4276 12.412 15 12.412C14.5723 12.412 14.192 12.1401 14.0537 11.7354L15 11.412ZM21.9309 12.3022L21.8452 13.2985C21.3557 13.2564 20.9693 12.865 20.9335 12.375L21.9309 12.3022ZM21.9411 12.303L22.0268 11.3067C22.4831 11.346 22.8545 11.6903 22.9281 12.1424L21.9411 12.303ZM17.6248 19.5469L17.0304 18.7427L17.0304 18.7427L17.6248 19.5469ZM15 20.6418L14.8739 19.6498C14.9576 19.6391 15.0423 19.6391 15.1261 19.6498L15 20.6418ZM12.3752 19.5469L12.9696 18.7427L12.9696 18.7427L12.3752 19.5469ZM8.05891 12.303L7.0719 12.1424C7.1455 11.6903 7.51684 11.346 7.9732 11.3067L8.05891 12.303ZM8.06909 12.3022L9.06643 12.375C9.03065 12.865 8.64426 13.2564 8.1548 13.2985L8.06909 12.3022ZM14.0537 11.0886C14.6673 9.29326 16.3687 8 18.3749 8V10C17.25 10 16.2917 10.7246 15.9463 11.7354L14.0537 11.0886ZM18.3749 8C20.7834 8 22.7555 9.86433 22.9282 12.2293L20.9335 12.375C20.8366 11.0476 19.7276 10 18.3749 10V8ZM22.0166 11.3058L22.0268 11.3067L21.8554 13.2994L21.8452 13.2985L22.0166 11.3058ZM22.9281 12.1424C23.252 14.132 22.44 15.8965 21.4296 17.2539C20.4155 18.6163 19.1155 19.6885 18.2192 20.3511L17.0304 18.7427C17.8606 18.1291 18.9815 17.1933 19.8253 16.0597C20.6727 14.9212 21.1556 13.7019 20.9541 12.4637L22.9281 12.1424ZM18.2192 20.3511C16.7902 21.4072 15.5844 21.7241 14.8739 21.6338L15.1261 19.6498C15.1153 19.6484 15.8058 19.6478 17.0304 18.7427L18.2192 20.3511ZM12.9696 18.7427C14.1942 19.6478 14.8846 19.6484 14.8739 19.6498L15.1261 21.6338C14.4156 21.7241 13.2098 21.4072 11.7808 20.3511L12.9696 18.7427ZM9.04591 12.4637C8.84434 13.7019 9.32726 14.9212 10.1747 16.0597C11.0185 17.1933 12.1394 18.1291 12.9696 18.7427L11.7808 20.3511C10.8844 19.6885 9.58447 18.6163 8.57039 17.2539C7.55998 15.8965 6.74801 14.132 7.0719 12.1424L9.04591 12.4637ZM8.1548 13.2985L8.14462 13.2994L7.9732 11.3067L7.98338 11.3058L8.1548 13.2985ZM11.6251 10C10.2724 10 9.16338 11.0476 9.06643 12.375L7.07175 12.2293C7.24447 9.86433 9.21662 8 11.6251 8V10ZM14.0537 11.7354C13.7083 10.7246 12.75 10 11.6251 10V8C13.6312 8 15.3327 9.29326 15.9463 11.0886L14.0537 11.7354Z" /><\/svg>');else if(this.reportActivityModel.IsGiveSerpHeaderTealHeartEnabled&&(u.IsGiveModeOn||!u.IsRewardUser))h=_ge(o),h&&(h.innerHTML="".concat(u.ShowAnimation?'<img id = "'.concat(t,'" src="').concat(r,'" alt="').concat(l,'" class = "" width = "8px" height = "8px" style="float:right;margin-right:-1px;margin-top:-1px" />'):"")+' <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 32 32"> <circle cx="16" cy="16" r="15" stroke="white" stroke-width="2" /> <path fill="white" fill-rule="evenodd" d="M16.002 12.7c-.545-1.57-2.066-2.7-3.858-2.7-2.148 0-3.907 1.625-4.062 3.685l-.015.001c-.6 3.602 2.958 6.66 4.93 8.084 1.52 1.097 2.604 1.273 3.002 1.222.394.052 1.48-.121 3.004-1.221 1.972-1.425 5.53-4.482 4.93-8.085h-.011C23.768 11.625 22.008 10 19.86 10c-1.792 0-3.313 1.13-3.858 2.7z" clip-rule="evenodd" /><\/svg>'),c=_ge(f),c&&(c.innerHTML="".concat(u.ShowAnimation?'<img id = "'.concat(t,'" src="').concat(r,'" alt="').concat(l,'" class = "" width = "8px" height = "8px" style="float: right;margin-right:-1px;margin-top:-1px;" />'):"")+'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 32 32">  <circle cx="16" cy="16" r="15" stroke="#00809D" stroke-width="2" /><path fill="#00809D" fill-rule="evenodd" d="M16.002 12.7c-.545-1.57-2.066-2.7-3.858-2.7-2.148 0-3.907 1.625-4.062 3.685l-.015.001c-.6 3.602 2.958 6.66 4.93 8.084 1.52 1.097 2.604 1.273 3.002 1.222.394.052 1.48-.121 3.004-1.221 1.972-1.425 5.53-4.482 4.93-8.085h-.011C23.768 11.625 22.008 10 19.86 10c-1.792 0-3.313 1.13-3.858 2.7z" clip-rule="evenodd" /><\/svg>');else if(u.IsRedemptionReadyAndAnimationEnabled&&(u.IsUserFirstMedallionImpressionToday||u.ShowMedallionFadeAnimation)){var c=_ge(f),it="".concat(u.ShowAnimation?i?'<img id = "'.concat(t,'" src="').concat(r,'" alt="').concat(l,'" width = "8px" height = "8px" style="position: absolute;top: -4px;right: -3px;" />'):'<svg id = "'.concat(t,'" width = "6px" height = "6px" style="position: absolute;top: -1px;right: -3px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 6" enable-background="new 0 0 6 6"><circle cx="3" cy="3" r="3" fill="#C80000"><\/circle><\/svg>'):""),rt="M23 9h-14c-.552 0-1 .448-1 1v3.71c0 .538.288 1.034.756 1.303l4.877 2.778c-1.206.891-1.905 2.43-1.532 4.115.323 1.461 1.501 2.655 2.96 2.987 2.617.596 4.939-1.378 4.939-3.893 0-1.32-.647-2.481-1.633-3.209l4.877-2.779-.002.001c.471-.268.758-.767.758-1.303v-3.71c0-.552-.448-1-1-1zm-12 4.991l-1-.571v-2.42h1v2.991zm5 9.009c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2zm3-7.866l-2.472 1.537c-.323.201-.733.201-1.056 0l-2.472-1.537v-4.134h6v4.134zm3-1.714l-1 .571v-2.991h1v2.42z",ut="M15.4622 16.35V24H12.0622C10.5365 24 9.29971 22.7632 9.29971 21.2375V16.35H15.4622ZM22.8997 16.35V21.2375C22.8997 22.7632 21.6629 24 20.1372 24H16.7372V16.35H22.8997ZM18.2247 7C19.7504 7 20.9872 8.23681 20.9872 9.7625C20.9872 10.3107 20.8275 10.8217 20.5521 11.2513L22.6872 11.25C23.274 11.25 23.7497 11.6464 23.7497 12.1354V14.1432C23.7497 14.6322 23.274 15.0286 22.6872 15.0286L16.7372 15.0278V11.25H15.4622V15.0278L9.51221 15.0286C8.9254 15.0286 8.44971 14.6322 8.44971 14.1432V12.1354C8.44971 11.6464 8.9254 11.25 9.51221 11.25L11.6473 11.2513C11.3719 10.8217 11.2122 10.3107 11.2122 9.7625C11.2122 8.23681 12.449 7 13.9747 7C14.8294 7 15.5934 7.38816 16.1002 7.99782C16.606 7.38816 17.37 7 18.2247 7ZM13.9747 8.275C13.1532 8.275 12.4872 8.94097 12.4872 9.7625C12.4872 10.5429 13.0883 11.183 13.8527 11.2451L13.9747 11.25H15.4622V9.7625L15.4573 9.6405C15.3952 8.87604 14.7552 8.275 13.9747 8.275ZM18.2247 8.275C17.4032 8.275 16.7372 8.94097 16.7372 9.7625V11.25H18.2247C19.0462 11.25 19.7122 10.584 19.7122 9.7625C19.7122 8.94097 19.0462 8.275 18.2247 8.275Z",d="";u.IsUserFirstMedallionImpressionToday?(d=this.getMedallionRedemptionAnimation(u,it,rt,ut),ft=this.getCurrentISODateTimeWithTimezoneOffset(),sj_cook.set(w,b,ft,!0,"/")):u.ShowMedallionFadeAnimation&&(d=this.getMedallionGiftBoxTransition(u,it,rt,ut));c&&(c.innerHTML=d)}else if(this.reportActivityModel.IsDailyCheckInMedallionAnimationEnabled&&this.reportActivityModel.RewardsSessionData.DailyCheckInProgress){var c=_ge(f),ht=(y=(v=this.reportActivityModel)===null||v===void 0?void 0:v.RewardsSessionData)===null||y===void 0?void 0:y.DailyCheckInProgress,ct=((k=(p=this.reportActivityModel)===null||p===void 0?void 0:p.RewardsSessionData)===null||k===void 0?void 0:k.DailyCheckInAnimate)||0;c&&(c.innerHTML=this.getDailyCheckInAnimation(ct,ht,n,l,u))}else h=_ge(o),h&&(h.innerHTML='<span class="rhlined hp">'.concat(u.ShowAnimation?i?'<img id = "'.concat(t,'" src="').concat(r,'" alt="').concat(l,'" width = "8px" height = "8px" style="margin-top:6px" />'):'<svg id = "'.concat(t,'" class = "" width = "6px" height = "6px" style="float:right;margin-right:-3px;margin-top:-1px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 6" enable-background="new 0 0 6 6">')+'<circle cx="3" cy="3" r="3" fill="#C80000"><\/circle><\/svg>':"")+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32"><path class="medal" d="M23 9h-14c-.552 0-1 .448-1 1v3.71c0 .538.288 1.034.756 1.303l4.877 2.778c-1.206.891-1.905 2.43-1.532 4.115.323 1.461 1.501 2.655 2.96 2.987 2.617.596 4.939-1.378 4.939-3.893 0-1.32-.647-2.481-1.633-3.209l4.877-2.779-.002.001c.471-.268.758-.767.758-1.303v-3.71c0-.552-.448-1-1-1zm-12 4.991l-1-.571v-2.42h1v2.991zm5 9.009c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2zm3-7.866l-2.472 1.537c-.323.201-.733.201-1.056 0l-2.472-1.537v-4.134h6v4.134zm3-1.714l-1 .571v-2.991h1v2.42z"><\/path><path d="M.018 0h32v32h-32v-32z" fill="none"><\/path><circle class="meter" stroke="#000" stroke-width="2" stroke-miterlimit="10" cx="16" cy="16" r="14" fill="none"><\/circle><\/svg><\/span>'+'<span class="rhfill hp">'.concat(u.ShowAnimation?i?'<img id = "'.concat(e,'" src="').concat(r,'" alt="').concat(l,'" width = "8px" height = "8px" style="float:right;margin-right:-3px;margin-top:-5px" />'):'<svg id = "'.concat(e,'" class = "" width = "6px" height = "6px" style="float:right;margin-right:-3px;margin-top:-3px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 6" enable-background="new 0 0 6 6">')+'<circle cx="3" cy="3" r="3" fill="#C80000"><\/circle><\/svg>':"")+'<svg style="'.concat(u.ShowAnimation?"margin-top:-3px;":"",'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32">')+'<path class="medal" d="M12 16.006l2.554 1.28c-1.492.581-2.554 2.023-2.554 3.72 0 2.209 1.791 4 4 4s4-1.791 4-4c0-1.696-1.06-3.138-2.551-3.719l2.551-1.281v-7h-8v7zm-4-6.5v4.183c0 .189.106.362.275.447l1.725.87v-6h-1.5c-.276 0-.5.224-.5.5zm15.5-.5h-1.5v6l1.725-.87c.169-.085.275-.258.275-.447v-4.183c0-.276-.224-.5-.5-.5z"><\/path><path d="M.018 0h32v32h-32v-32z" fill="none"><\/path><circle class="meter" stroke="#000" stroke-width="2" stroke-miterlimit="10" cx="16" cy="16" r="14" fill="none"><\/circle><\/svg><\/span><svg xmlns="http://www.w3.org/2000/svg" id="rh_meter"><circle cx="20" cy="20" r="14" id="rh_animcrcl" class="hp" stroke-dasharray="88, 88" transform="rotate(-90,20,20)"><\/circle><\/svg>'),h=_ge(f),h&&(h.innerHTML="".concat(u.ShowAnimation?i?'<span style="float:right;display:inline-block;vertical-align:top;margin:-25px 0 0 -5px;">'+'<img id = "'.concat(t,'" src="').concat(r,'" alt="').concat(l,'" width = "8px" height = "8px"/>')+"<\/span>":'<svg id = "'.concat(t,'" class = "" width = "6px" height = "6px" style="float:right;margin-right:-3px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 6" enable-background="new 0 0 6 6">')+'<circle cx="3" cy="3" r="3" fill="#C80000"><\/circle><\/svg>':"")+'<span class="rhlined serp"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32"><path class="medal" d="M23 9h-14c-.552 0-1 .448-1 1v3.71c0 .538.288 1.034.756 1.303l4.877 2.778c-1.206.891-1.905 2.43-1.532 4.115.323 1.461 1.501 2.655 2.96 2.987 2.617.596 4.939-1.378 4.939-3.893 0-1.32-.647-2.481-1.633-3.209l4.877-2.779-.002.001c.471-.268.758-.767.758-1.303v-3.71c0-.552-.448-1-1-1zm-12 4.991l-1-.571v-2.42h1v2.991zm5 9.009c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2zm3-7.866l-2.472 1.537c-.323.201-.733.201-1.056 0l-2.472-1.537v-4.134h6v4.134zm3-1.714l-1 .571v-2.991h1v2.42z"><\/path><path d="M.018 0h32v32h-32v-32z" fill="none"><\/path><circle class="meter" stroke="#000" stroke-width="2" stroke-miterlimit="10" cx="16" cy="16" r="14" fill="none"><\/circle><\/svg><\/span><span class="rhfill serp"><svg id = "serp_medal_svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32"><path class="medal" d="M12 16.006l2.554 1.28c-1.492.581-2.554 2.023-2.554 3.72 0 2.209 1.791 4 4 4s4-1.791 4-4c0-1.696-1.06-3.138-2.551-3.719l2.551-1.281v-7h-8v7zm-4-6.5v4.183c0 .189.106.362.275.447l1.725.87v-6h-1.5c-.276 0-.5.224-.5.5zm15.5-.5h-1.5v6l1.725-.87c.169-.085.275-.258.275-.447v-4.183c0-.276-.224-.5-.5-.5z"><\/path><path d="M.018 0h32v32h-32v-32z" fill="none"><\/path><circle class="meter" stroke="#000" stroke-width="2" stroke-miterlimit="10" cx="16" cy="16" r="14" fill="none"><\/circle><\/svg><\/span><svg xmlns="http://www.w3.org/2000/svg" id = "rh_meter">'+'<circle cx="20" cy="20" r="14" id="rh_animcrcl" class="serp anim" stroke-dasharray="'.concat(this.reportActivityModel.IsMobileClient?"88,88":"0,88",'" transform="rotate(-90,20,20)"><\/circle>')+"<\/svg>");g=null;u.IsRedemptionReadyAndAnimationEnabled&&(u.IsUserFirstMedallionImpressionToday||u.ShowMedallionFadeAnimation)&&typeof LightLogger!="undefined"&&LightLogger&&(g=u.IsUserFirstMedallionImpressionToday?"RedemptionPopAnim":"RedemptionReplaceAnim");typeof LightLogger!="undefined"&&LightLogger&&LightLogger.logInstrumentationV2(null,LightLogger.InstrumentationEventType.Load,"AnimationLoad",!0,{ShowAnimation:u.ShowAnimation,RedDotAnimation:i,RedemptionAnimationState:g});var et=u.Balance>0||u.IsRewardUser,a=et?u.Balance.toString():this.reportActivityModel.RewardsHeader,ot=_ge("id_rc");ot&&a&&(ot.innerHTML=a,this.reportActivityModel.AnimateHeader&&et&&(this.reportActivityModel.IsMobileClient?RewardsCreditRefresh.RewardsHeaderAnim(u.PreviousBalance,u.Balance,u.GoalTrackBalance,this.reportActivityModel.RewardsIncrement):sj_evt.bind("identityHeaderShown",function(){return RewardsCreditRefresh.RewardsHeaderAnim(u.PreviousBalance,u.Balance,u.GoalTrackBalance,st.reportActivityModel.RewardsIncrement)},1)));nt=_ge("ic_rcep");nt&&a&&(nt.innerHTML=a)}sj_evt.fire("RewardsIdentityHeaderUpdated")},n.prototype.updateMobileHeader=function(){var t,n;!this.reportActivityModel.IsMobileClient||this.reportActivityModel.RewardsSessionData.Balance<0||(t=_ge("id_rwds_r"),t&&(t.style.display="inline"),n=_ge("id_rwds_b"),n||(n=_ge("fly_id_rwds_b")),n&&(n.href=this.reportActivityModel.DashboardUrl))},n.prototype.sendReportActivityModelToWidget=function(){var n=this;sj_evt.bind("RewardsWidgetReportActivityReady",function(){return _w.postMessage({action:"rewardsWidgetReportActivityReady",reportActivityModel:n.reportActivityModel},"*")});sj_evt.fire("RewardsWidgetReportActivityReady")},n.prototype.updateDashboardHeader=function(){if(this.reportActivityModel.NeedUpdateRewardsHeaderLink){var n=_ge("id_rh");n&&(n.href=this.reportActivityModel.DashboardUrl,typeof bepns!="undefined"&&bepns.ubc())}},n.prototype.updateRebatesHeader=function(){var n=_ge("id_rbh"),t=_ge("id_rbc"),i;n&&t&&this.reportActivityModel.RewardsSessionData&&this.reportActivityModel.RewardsSessionData.RebatesBalance>0&&(i=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),t.innerHTML=i.format(this.reportActivityModel.RewardsSessionData.RebatesBalance),n.style.display=null)},n.prototype.hideRedDot=function(){var n=_ge(t),i=_ge(e);n&&Lib.CssClass.add(n,"rd_hide");i&&Lib.CssClass.add(i,"rd_hide")},n.prototype.updateBalanceMessage=function(){var i,r,u,f,e,o,h=((i=this.reportActivityModel)===null||i===void 0?void 0:i.BalanceMessage)||"",c=((r=this.reportActivityModel)===null||r===void 0?void 0:r.ShowNonMemberUpsellMessage)||!1,t=_ge&&_ge("messageContainer"),s=_ge&&_ge("messageContainerNonMember"),n=_ge&&_ge("pointsContainer");c&&(t||s)&&(((f=(u=this.reportActivityModel)===null||u===void 0?void 0:u.RewardsSessionData)===null||f===void 0?void 0:f.IsRewardUser)||((o=(e=this.reportActivityModel)===null||e===void 0?void 0:e.RewardsSessionData)===null||o===void 0?void 0:o.IsTrialUser)?(h?(t.innerHTML=h,t.style.display="block",n===null||n===void 0?void 0:n.classList.add("hasMessage")):(t.style.display="none",n===null||n===void 0?void 0:n.classList.remove("hasMessage")),s.style.display="none"):(s.style.display="block",n.classList.add("hasMessage"),t.style.display="none"))},n.prototype.getMedallionRedemptionAnimation=function(n,t,i,r){return'<span class="medallionTooltipTrigger serp" style="padding-right:4px">\n\t            <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n\t\t            <path class="giftFill serp" opacity="1" d="'.concat(i,'">\n                        <animate attributetype="CSS" attributename="opacity" from="1" to="0" dur="0.5s" begin="0s" fill="freeze"><\/animate>\n                    <\/path>\n\n                    <path opacity="0" class="giftFill serp" d="').concat(r,'">\n                        <animate attributetype="CSS" attributename="opacity" from="0" to="1" dur="0.5s" begin="0.5s" fill="freeze"><\/animate>\n                    <\/path>\n\n                    <circle class="giftStr" cx="16" cy="16" r="14" stroke-width="2" fill-opacity="0">\n\t\t                <animate attributeName="stroke-dasharray" from="0 100" to="100 100" dur="0.5s" fill="freeze" begin="0s" calcMode="spline" keyTimes="0; 1" keySplines=".5 0 1 .5" stroke-dasharray="100.53"/>\n\t                <\/circle>\n                    \n                    <animateTransform attributeName="transform" attributeType="XML" type="scale" values="1; 1.2; 1" dur=".5s" begin="0.7s" repeatCount="1" />\n\n                    ').concat(t,'\n\t            <\/svg>\n                <div class="medallionTooltip" style:"visibility:hidden;">').concat(n.MedallionGiftHoverTooltipText,"<\/div>\n                <\/span>")},n.prototype.getMedallionGiftBoxTransition=function(n,t,i,r){return'<span class="medallionTooltipTrigger serp" style="padding-right:4px">\n                <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n\n                    <path class="giftFill serp" opacity="1" d="'.concat(i,'">\n                        <animate attributetype="CSS" attributename="opacity" from="1" to="0" dur="0.5s" begin="0s" fill="freeze"><\/animate>\n                    <\/path>\n\n                    <path opacity="0" class="giftFill serp" d="').concat(r,'">\n                        <animate attributetype="CSS" attributename="opacity" from="0" to="1" dur="0.5s" begin="0.5s" fill="freeze"><\/animate>\n                    <\/path>\n\n                    <circle stroke-width="2" stroke-miterlimit="10" cx="16" cy="16" r="14" fill="none" class="giftStr serp"/>\n\n                    ').concat(t,'\n                <\/svg>\n                <div class="medallionTooltip" style:"visibility:hidden;">').concat(n.MedallionGiftHoverTooltipText,"<\/div>\n                <\/span>")},n.prototype.getDailyCheckInAnimation=function(n,u,f,e,o){var s='<span class="serp">'.concat(o.ShowAnimation?i?'<img id = "'.concat(t,'" src="').concat(r,'" alt="').concat(e,'" width = "8px" height = "8px" style="float:right;margin-right:-3px;margin-top:-4px" />'):'<svg id = "'.concat(t,'" class = "" width = "6px" height = "6px" style="float:right;margin-right:-3px;margin-top:-1px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 6" enable-background="new 0 0 6 6"><circle cx="3" cy="3" r="3" fill="#C80000"><\/circle><\/svg>'):"");if(n==1&&f){if(u==1||u==2)return s+'<div class="medallionAnimationContainer">\n                    <svg id="serp_medal_svg1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32">\n                    <circle class="dmeter" stroke-width="2" stroke-miterlimit="10" cx="16" cy="16" r="14" fill="none"><\/circle>\n                    <circle class="progress" stroke="#00b7ab" stroke-width="2" stroke-dasharray="'.concat(u==1?"0 88":u==2?"29.32 58.64":"0 88",'" stroke-dashoffset="109" stroke-linecap="round" cx="16" cy="16" r="14" fill="none">\n                    <animate attributeName="stroke-dasharray" from="').concat(u==1?"0 88":u==2?"29.32 58.64":"0 88",'" to="').concat(u==1?"29.32 58.64":u==2?"58.64 29.32":"",'" dur=".5s" fill="freeze" begin=".4s" calcMode="spline" keyTimes="0; 1" keySplines=".5 0 1 .5"/>\n                    <\/circle>\n                    <\/svg>\n                    <svg id="serp_medal_svg12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32" class="overlapWithAbove">\n                    <path class="medal" d="M12 16.006l2.554 1.28c-1.492.581-2.554 2.023-2.554 3.72 0 2.209 1.791 4 4 4s4-1.791 4-4c0-1.696-1.06-3.138-2.551-3.719l2.551-1.281v-7h-8v7zm-4-6.5v4.183c0 .189.106.362.275.447l1.725.87v-6h-1.5c-.276 0-.5.224-.5.5zm15.5-.5h-1.5v6l1.725-.87c.169-.085.275-.258.275-.447v-4.183c0-.276-.224-.5-.5-.5z">\n                    <animate attributeName="fill" from="#174AE4" to="#00b7ab" dur=".2s" begin="0s" fill="freeze"/>\n                    <animate attributeName="fill" from="#00b7ab" to="#174AE4" dur=".2s" begin=".2s" fill="freeze"/>    \n                    <\/path>\n                    <animateTransform attributeName="transform" attributeType="XML" type="scale" values="1; 1.2; 1" dur=".5s" repeatCount="1" />\n                    <\/svg>\n                    <\/div>\n                    <\/span>');if(u==3)return s+'<div class="parentcontainer" >\n                    <div class="firework"><\/div>\n                    <div class="medallionAnimationContainer">\n                    <svg id="serp_medal_svg3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32">\n                    <circle class="dmeter" stroke-width="2" stroke-miterlimit="10" cx="16" cy="16" r="14" fill="none"><\/circle>\n                    <circle class="progress" stroke="#00b7ab" stroke-width="2" stroke-dasharray="58.64 29.32" stroke-dashoffset="109" stroke-linecap="round" cx="16" cy="16" r="14" fill="none">\n                    <animate attributeName="stroke-dasharray" from="58.64 29.32" to="88 0" dur=".5s" fill="freeze" begin=".4s" calcMode="spline" keyTimes="0; 1" keySplines=".5 0 1 .5"/>\n                    <\/circle>\n                    <circle class="meter" stroke-width="2" stroke-miterlimit="10" cx="16" cy="16" r="14" fill="none">\n                    <animate dur="2.5s" attributeName="opacity" from="0" to="0" begin="0s" repeatCount="1" fill="freeze"/>\n                    <animate dur="0.5s" attributeName="opacity" from="0" to="1" begin="2.5s" repeatCount="1" fill="freeze"/> \n                    <\/circle>\n                    <\/svg>\n                    <svg id="serp_medal_svg32" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32" class="overlapWithAbove">\n                    <path class="medal" d="M12 16.006l2.554 1.28c-1.492.581-2.554 2.023-2.554 3.72 0 2.209 1.791 4 4 4s4-1.791 4-4c0-1.696-1.06-3.138-2.551-3.719l2.551-1.281v-7h-8v7zm-4-6.5v4.183c0 .189.106.362.275.447l1.725.87v-6h-1.5c-.276 0-.5.224-.5.5zm15.5-.5h-1.5v6l1.725-.87c.169-.085.275-.258.275-.447v-4.183c0-.276-.224-.5-.5-.5z">\n                    <animate attributeName="fill" from="#174AE4" to="#00b7ab" dur=".2s" begin="0s" fill="freeze"/>\n                    <animate attributeName="fill" from="#00b7ab" to="#174AE4" dur=".2s" begin=".2s" fill="freeze"/>    \n                    <animate dur="0.4s" attributeName="opacity" from="1" to="0" begin="0.4s" repeatCount="0" fill="freeze"/>\n                    <animate dur="0.5s" attributeName="opacity" from="0" to="1" begin="2.5s" repeatCount="0" fill="freeze"/>\n                    <\/path>\n                    <animateTransform attributeName="transform" attributeType="XML" type="scale" values="1; 1.2; 1" dur="0.4s" repeatCount="1" />\n                    <\/svg>\n                    <svg width="18" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg" class="overlapWithAbove2"> \n                    <path d="M37.7778 2.22222C38.3111 2.83951 38.3037 4.1679 37.6296 4.44444L14.1975 27.5309C13.5185 27.9012 12.5691 27.9012 11.9012 27.5309L2.23457 18.1481C1.55556 17.7778 1.54321 16.4198 2.22222 15.7407C2.90123 15.0617 4.23457 15.0617 4.91358 15.4321L13.037 23.7531L35.4321 2.22222C36.1111 1.85185 37.4444 1.85185 37.7778 2.22222Z" stroke="#00b7ab" stroke-width="4" visibility="hidden">\n                    <animate attributeName="visibility" attributeType="XML" from="hidden" to="visible" begin=".4s" dur="0.5s" fill="freeze"/>\n                    <animate dur="0.5s" attributeName="opacity" from="1" to="0" begin="2.5s" repeatCount="0" fill="freeze"/>\n                    <\/path>\n                    <animateTransform attributeName="transform" attributeType="XML" type="skewX" begin="0.4s" from="90" to="0" dur="0.5s" fill="freeze" />\n                    <\/svg>\n                    <\/div>\n                    <\/div>\n                    <\/span>'}else return n!=1||f||(u=u-1),u==3?s+'<div class="medallionAnimationContainer">\n                    <svg id="serp_medal_svg2" style="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32">\n                    <circle stroke="#174AE4" stroke-width="2" cx="16" cy="16" r="14" fill="none"><\/circle>\n                    <\/svg>\n                    <svg id="serp_medal_svg22" style="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32" class="overlapWithAbove">\n                    <path class="medal" d="M12 16.006l2.554 1.28c-1.492.581-2.554 2.023-2.554 3.72 0 2.209 1.791 4 4 4s4-1.791 4-4c0-1.696-1.06-3.138-2.551-3.719l2.551-1.281v-7h-8v7zm-4-6.5v4.183c0 .189.106.362.275.447l1.725.87v-6h-1.5c-.276 0-.5.224-.5.5zm15.5-.5h-1.5v6l1.725-.87c.169-.085.275-.258.275-.447v-4.183c0-.276-.224-.5-.5-.5z"><\/path>\n                    <\/svg>\n                    <\/div>\n                    <\/span>':s+'<div class="medallionAnimationContainer">\n                    <svg id="serp_medal_svg2" style="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32">\n                    <circle class="dmeter" stroke-width="2" stroke-miterlimit="10" cx="16" cy="16" r="14" fill="none"><\/circle>\n                    <circle class="progress" stroke="#00b7ab" stroke-width="2" stroke-dasharray="'.concat(u==1?"29.32 58.64":u==2?"58.64 29.32":"0 88",'" stroke-dashoffset="109" stroke-linecap="round" cx="16" cy="16" r="14" fill="none"><\/circle>\n                    <\/svg>\n                    <svg id="serp_medal_svg22" style="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" enable-background="new 0 0 32 32" class="overlapWithAbove">\n                    <path class="medal" d="M12 16.006l2.554 1.28c-1.492.581-2.554 2.023-2.554 3.72 0 2.209 1.791 4 4 4s4-1.791 4-4c0-1.696-1.06-3.138-2.551-3.719l2.551-1.281v-7h-8v7zm-4-6.5v4.183c0 .189.106.362.275.447l1.725.87v-6h-1.5c-.276 0-.5.224-.5.5zm15.5-.5h-1.5v6l1.725-.87c.169-.085.275-.258.275-.447v-4.183c0-.276-.224-.5-.5-.5z"><\/path>\n                    <\/svg>\n                    <\/div>\n                    <\/span>')},n.prototype.getCurrentISODateTimeWithTimezoneOffset=function(){var n=new Date,i=-n.getTimezoneOffset(),r=i>=0?"+":"-",t=function(n,t){return t===void 0&&(t=2),n.toString().padStart(t,"0")},u=n.getFullYear()+"-"+t(n.getMonth()+1)+"-"+t(n.getDate())+"T"+t(n.getHours())+":"+t(n.getMinutes())+":"+t(n.getSeconds()),f=r+t(Math.floor(Math.abs(i)/60))+":"+t(Math.abs(i)%60);return u+f},n}();n.ReportActivity=k})(ModernRewards||(ModernRewards={})),function(){sj_evt&&sj_evt.fire("onRALoad")}();function RewardsReportActivity(n){window.sj_rra&&sj_rra(n)}(function(){RewardsReportActivity(document.URL);sj_evt&&sj_evt.bind("acclink:updated",function(){typeof RewardsReportActivity!="undefined"&&RewardsReportActivity(document.URL)},1)})();
//]]></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/OFlvso_bX_NngxloPyyJjfkYZ4M.gz.js"></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/2btleEXVAqzWmhWmb55mfOm2g1E.gz.js"></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/IyuP4JZa6lxlYFt4w7oobO-y9D8.gz.js"></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" data-ajaxResKey="rms:answers:Web:CIBBootstrapper" src="/rp/wkpbxKIgZVCupwwYpBYNCWKaduE.gz.js"></script><script type="text/javascript" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=">//<![CDATA[
var PrefetchJsResource;(function(n){function i(n,t,i,u){u===void 0&&(u=!0);r(n,t,i,u)}function r(n,i,r,u){(u===void 0&&(u=!0),typeof sb_st!="undefined"&&typeof sj_ce!="undefined")&&n&&(u?sb_st(function(){return t(n,r)},i):t(n,r))}function t(n,t){var r,u=document.querySelector("head"),i,f;u&&typeof u.appendChild=="function"&&(i=sj_ce("link"),i)&&((i.setAttribute("rel","prefetch"),i.setAttribute("href",n),i.setAttribute("as","script"),i.setAttribute("type","text/javascript"),t&&i.setAttribute("id",t),f=(r=performance===null||performance===void 0?void 0:performance.getEntriesByName(i.href))===null||r===void 0?void 0:r.length,f>0)||u.appendChild(i))}n.init=i})(PrefetchJsResource||(PrefetchJsResource={}));if (typeof PrefetchJsResource !== "undefined" && PrefetchJsResource && PrefetchJsResource.init) { PrefetchJsResource.init("/rp/apfgaYIreyV7Yd7hhx2EmINUYYM.gz.js", 0, "cib-prefetch", false ); };var SydneyBootstrapperHomeScreen;(function(n){function o(){(t=_d.querySelector("copilot-bootstrapper"),i=s(f,!0),i)&&u()}function u(n){var i,f;if(n===void 0&&(n=0),!(n>3)){if(f=(i=t===null||t===void 0?void 0:t.shadowRoot)===null||i===void 0?void 0:i.querySelector(e),!f){setTimeout(function(){u(n+1)},12);return}h();c(f,r)}}function s(n,t){var i,r;return(t===void 0&&(t=!0),i=_d.getElementById(n),i)?t?(r=i.cloneNode(!0),r.id=r.getAttribute("id")+"_",r):i:null}function h(){i.setAttribute("slot",r);t.appendChild(i)}function c(n,t){var i=n.querySelector("slot[name=".concat(t));i||(i=l(t),n.prepend(i))}function l(n,t){var i=_d.createElement("slot");return n?(i.setAttribute("name",n),t&&i.setAttribute("slot",t.getAttribute("name")),i):i}var f="b_sydWelcomeTemplate",r="wlcmCntnr",e="div.content",t,i;n.appendWelcomeScreenToBootstrapper=o})(SydneyBootstrapperHomeScreen||(SydneyBootstrapperHomeScreen={}));var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},SydneyBootstrapper;(function(n){function v(n,t){var i=SBC.snrURL===o;return n=n||_ge(a),w(),_w&&_w.initBootstrapper&&typeof _w.initBootstrapper=="function"?(_w.initBootstrapper(n,SBC),i&&typeof t=="function"&&r(t),!0):(Log.Log("Error","SydneyBootstrapper","InitBootstrapper is undefined or not a function",!1),!1)}function r(n){typeof n!="undefined"&&n?sj_evt.bind("cib_initapp",function(){return u(n)},!0):Log.Log("Error","SydneyBootstrapper","No callback function or module provided",!1)}function u(n){f({logName:"waitForCIB",baseIntervalInMillis:20,maxAttempts:50,condition:y,callback:function(){return p(n)}})}function f(n){var o=n.condition,i=n.maxAttempts,r=n.baseIntervalInMillis,s=n.logName,h=n.callback,t=n.currentAttempt,u=n.timeOutCallback,e;o()?h():(t++,t<i?(e=__assign(__assign({},n),{currentAttempt:t}),sb_st(function(){return f(e)},r)):(Log.Log("Error","SydneyBootstrapper","".concat(s,"_Poll_TimeOut. ").concat(i," with interval of ").concat(r," exhausted."),!1),u!=null&&u()))}function y(){return typeof CIB!="undefined"&&!!CIB}function p(n){n();sj_evt.unbind("cib_initapp",u)}function w(){SBC.onBootstrapperInitialized=d;SBC.features.inlineSNRBundle&&(SBC.initializeAppDelegate=nt);b();k()}function b(){SBC.mainBundleURL=e(SBC.mainBundleURL);SBC.snrURL=e(SBC.snrURL)}function k(){var n=_w._sydConvTranslation;SBC.strings={actionBarPlaceholder:n.actionBarPlaceholder,actionBarLongPlaceholder:n.actionBarLongPlaceholder,actionBarComposeButton:n.actionBarComposeButton,loading:n.loading,preview:n.preview,submitButtonAriaLabel:n.submitButtonAriaLabel,toneSelectorDescription:n.toneSelectorDescription,toneSelectorCreativeTooltip:n.toneSelectorCreativeTooltip,toneSelectorBalancedTooltip:n.toneSelectorBalancedTooltip,toneSelectorPreciseTooltip:n.toneSelectorPreciseTooltip,toneSelectorSuppressedTooltip:n.toneSelectorSuppressedTooltip,toneSelectorMoreCreative:n.toneSelectorMoreCreative,toneSelectorMoreBalanced:n.toneSelectorMoreBalanced,toneSelectorMorePrecise:n.toneSelectorMorePrecise,toneSelectorFaster:n.toneSelectorFaster,toneSelectorWithGPT4:n.toneSelectorWithGPT4}}function i(n,t){return typeof n!="undefined"?n:t}function d(){h&&s&&g();SydneyBootstrapperHomeScreen.appendWelcomeScreenToBootstrapper()}function g(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return n={partner:l,appId:c,data:{scenario:"LifeCycle",action:"WebViewReady"}},[4,SuperAppBridge.requestCustomAsync(n)];case 1:return t.sent(),[2]}})})}function nt(n){sj_evt.fire("cib_initapp",n)}function e(n){return n&&tt(n)?_w.location.origin+n:n}function tt(n){var t=/^ftp:\/\//.test(n)||/^http:\/\//.test(n)||/^https:\/\//.test(n)||/^file:\/\//.test(n);return!t}var t=_w._sydConvConfig,o=i(t===null||t===void 0?void 0:t.sydneyInitializerKey,""),s=i(t===null||t===void 0?void 0:t.enableSendReadyMessage,!1),h=i(t===null||t===void 0?void 0:t.enableSydNativeIntegration,!1),c="6dc7564de7424d4698716df1b6d86867",l="Sydney",a="b_sydConvCont";n.insertBootstrapper=v;n.bindToCIBInit=r})(SydneyBootstrapper||(SydneyBootstrapper={}));
//]]></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/pCjAnNfKRza-LKbFI9VevrRjIwc.gz.js"></script><script type="text/javascript" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=">//<![CDATA[
var SydneyExternalSerpResources;(function(){function u(u){var h,c,l,a,v,y,p,e=JSON.parse(u),s,w,k,d;if(SydFSCHelper.SydLog("AdsAjax","BingChatAds","AllRequestChatAnswer"),e&&e.answerType==="ads"){if(!e.fetchUrl||!(e.fetchUrl.startsWith("/BingChatAdsFetch")||e.fetchUrl.startsWith("/turing/BingChatAdsFetch"))){SydFSCHelper.SydLog("AdsAjax","BingChatAds","RenderChatAdsCallFailed",{Reason:"Invalid fetch URL sent from client"});return}if(_w.ifidmap){if(_w.ifidmap.includes(e.iframeId)){SydFSCHelper.SydLog("AdsAjax","BingChatAds","RenderChatAdsCallFailed",{Reason:"Ad already requested for iframeId"});return}_w.ifidmap.push(e.iframeId)}else _w.ifidmap=[e.iframeId];s=e.fetchUrl.startsWith("/turing/BingChatAdsFetch")?e.fetchUrl:"/turing"+e.fetchUrl;w=SydFSCHelper.getConfigOrDefault((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isUnderside,!1);w&&(s="/edgesvc"+s);var o=new URL(s,_w.location.origin),b=(l=(c=o===null||o===void 0?void 0:o.searchParams)===null||c===void 0?void 0:c.get(t))!==null&&l!==void 0?l:"",g=(v=(a=o===null||o===void 0?void 0:o.searchParams)===null||a===void 0?void 0:a.get(i))!==null&&v!==void 0?v:"",nt=SydFSCHelper.getConfigOrDefault((y=_w._sydConvConfig)===null||y===void 0?void 0:y.isVisualParityRun,!1);if(b===""&&!nt){SydFSCHelper.SydLog("AdsAjax","BingChatAds","Could not parse query from request");return}if(o.searchParams["delete"](t),o.searchParams["delete"](i),k=(p=e.conversationHistory)!==null&&p!==void 0?p:[],d="".concat(t,"=").concat(encodeURIComponent(b),"&").concat(i,"=").concat(encodeURIComponent(g),"&").concat(r,"=").concat(encodeURIComponent(JSON.stringify(k))),s=o.pathname+o.search,!e.singleSlotName){SydFSCHelper.SydLog("AdsAjax","BingChatAds","RenderChatAdsCallFailed",{Reason:"SingleSlotName not set"});return}if(!e.adsFrameSource){SydFSCHelper.SydLog("AdsAjax","BingChatAds","No client source to attach ads to from client");return}function tt(t,i){var r,u,f,s;if(t&&n!==null&&i){if(i.appendTo(n),!n.children||n.children.length===0){SydFSCHelper.SydLog("AdsAjax","BingChatAds","No ads in response to process");return}s=(f=(u=(r=o.searchParams)===null||r===void 0?void 0:r.get("codex_src"))===null||u===void 0?void 0:u.includes("semanticserp"))!==null&&f!==void 0?f:!1;SydFSCHelper.injectExternalAd(e.adsFrameSource,e.iframeId,s)&&SydFSCHelper.SydLog("AdsAjax","BingChatAds","Injection Succeeded")}else SydFSCHelper.SydLog("AdsAjax","BingChatAds","InjectionFailed",{Reason:"Ajax call did not return a success code",Url:o})}f(s,d,{callback:tt,headers:{"chat-single-slot-name":e.singleSlotName}})}else SydFSCHelper.SydLog("AdsAjax","BingChatAds","RenderChatAdsCallFailed",{Reason:"Invalid JSON from client or event is not of type 'Ads'"})}function f(n,t,i){function l(){r[e]=c;r.abort&&r.abort()}function h(n,t){typeof n=="function"&&n(t,{request:r,appendTo:function(n){r&&typeof sj_appHTML!="undefined"&&sj_appHTML(n,r.responseText)}})}var u,r=sj_gx(),e="onreadystatechange",f,o=null,s,a=sb_st,v=sb_ct,c=function(){};if(!n||!r){h(u,!1);return}r.open("post",n,!0);r.setRequestHeader("Content-type","application/x-www-form-urlencoded");i&&(u=i.callback,f=i.timeout,s=i.headers,Object.keys(s||{}).forEach(function(n){r.setRequestHeader(n,s[n])}),i.withCredentials!==undefined&&(r.withCredentials=i.withCredentials));r[e]=function(){if(r.readyState===4){var n=!1;o!==null&&v(o);r.status===200&&(n=!0,r[e]=c);h(u,n)}};sj_evt.bind("ajax.unload",l);r.send(t);f&&f>0&&(o=a(function(){l();h(u,!1)},f))}function e(){n=_d.getElementById("b_chat_external_content");_w._sydExtRes=u}var n,t="q",i="codex_summ",r="codex_hist";e()})(SydneyExternalSerpResources||(SydneyExternalSerpResources={}));var AccessibilityHelpers;(function(n){function f(n){var r=i(n,!1,t);r!=null&&r.focus()}function i(n,i,r){var e,o,s,u,c,f,h;if(i===void 0&&(i=!1),r===void 0&&(r=t),e=null,n&&n.querySelectorAll)for(o=n.querySelectorAll(r),s=o.length,u=0;u<s;u++)if(c=i?s-1-u:u,f=o.item(c),f&&f.tabIndex!=-1&&(h=window.getComputedStyle(f),h.display!="none"&&h.visibility!="hidden")){e=f;break}return e}function e(n){var i=r(n,t);i!=null&&i.focus()}function r(n,i){var o,s,u,f,e,r,h,c;if(i===void 0&&(i=t),o=null,_d.querySelectorAll&&n){for(s=_d.querySelectorAll(i),u=[],r=0;r<s.length;r++)f=s.item(r),f&&f.tabIndex!=-1&&u.push(f);if(e=u.indexOf(n),typeof sj_log!="undefined"&&sj_log("CI.MoveFocus","Next",_d.activeElement.tagName+" "+e.toString()),e!=-1)for(r=0;r<u.length;r++)if(h=u[(e+r+1)%u.length],c=window.getComputedStyle(h),c.display!="none"&&c.visibility!="hidden"){o=h;break}}return o}function o(n,t,i){u(n,t,i,!1)}function u(n,t,i,r){n&&t&&typeof t.length=="number"&&i&&typeof i=="function"&&(sj_be(n,"keydown",function(n){for(var r=n.keyCode?n.keyCode:n.charCode,i=0;i<t.length;i++)if(r===t[i]){sj_pd(n);break}}),sj_be(n,"keyup",function(n){for(var f=n.keyCode?n.keyCode:n.charCode,u=0;u<t.length;u++)if(f===t[u]){r?i(n):i();sj_pd(n);break}}))}function s(n){for(var i=[n],t,r;i.length;)if(t=i.pop(),t&&t.children&&["svg","SVG-ICON"].indexOf(t.tagName)===-1)for(["A","BUTTON"].indexOf(t.tagName)!==-1&&t.setAttribute("aria-disabled","true"),t.shadowRoot&&i.push(t.shadowRoot),r=0;r<t.children.length;r++)i.push(t.children[r])}function h(n){return new Promise(function(t,i){setTimeout(function(){try{s(n);t()}catch(r){i(r)}},500)})}var t="a[href], body, input, select, [tabindex]";n.focusFirstFocusableElementWithin=f;n.getFocusableElementWithin=i;n.focusNextFocusableElement=e;n.getNextFocusableElement=r;n.activateButtonByKey=o;n.activateButtonByKeyWithEvent=u;n.disableAllLinksInElementAsync=h})(AccessibilityHelpers||(AccessibilityHelpers={}));var sj_ajax=function(n,t){function c(){i[u]=h;i.abort&&i.abort()}function s(n,t){typeof n=="function"&&n(t,{request:i,appendTo:function(n){i&&sj_appHTML(n,i.responseText)}})}var r,i=sj_gx(),u="onreadystatechange",f,e=null,o,l=sb_st,a=sb_ct,h=function(){};if(!n||!i){s(r,!1);return}i.open("get",n,!0);t&&(r=t.callback,f=t.timeout,o=t.headers,Object.keys(o||{}).forEach(function(n){i.setRequestHeader(n,o[n])}),t.withCredentials!==undefined&&(i.withCredentials=t.withCredentials));i[u]=function(){if(i.readyState===4){var n=!1;e!==null&&a(e);i.status===200&&(n=!0,i[u]=h);s(r,n)}};sj_evt.bind("ajax.unload",c);i.send();f>0&&(e=l(function(){c();s(r,!1)},f))};
//]]></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/SgoqBxSOmwTwlHsNr7h_YzVKV-k.gz.js"></script><script type="text/javascript" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=">//<![CDATA[
var ShareHelper;(function(n){function u(n){var r=n.indexOf("?"),u,e,o;if(r<0)return n;var s=n.substring(0,r+1),i=n.substring(r+1),f=i.indexOf("#");f!==-1&&(i=i.substring(0,f));for(u in t)t.hasOwnProperty(u)&&(e=t[u],o=new RegExp("(&)?"+e+"=[^&]*","gi"),i=i.replace(o,""));return s+i}function f(n,r){var u,c,s;if(!r)return n;var a=r.shareOutImageThumbnailId,v=r.shareThumbnailId,y=r.shareType,p=r.formCode,f=r.shareTitle,e=r.shareDescription,o=r.hash,w=r.cropSetting,b=r.sharingGuid,k=r.shareScenario,d=r.isCNEnglishSearch,l=new URL(n),h=(u={},u[t.Crop]=w,u[t.ThumbnailId]=a||v,u[t.Scenario]=k,u[t.FormCode]=p,u[t.Guid]=b,u[t.ShareType]=y,u[t.EnSearch]=d?"1":undefined,u[t.Title]=f&&e&&o?i()?Base64Encoder.stringToBase64(f):encodeURIComponent(Base64Encoder.stringToBase64(f)):undefined,u[t.Description]=f&&e&&o?i()?Base64Encoder.stringToBase64(e):encodeURIComponent(Base64Encoder.stringToBase64(e)):undefined,u[t.Hash]=f&&e&&o?i()?o:encodeURIComponent(o):undefined,u);for(s in h)h.hasOwnProperty(s)&&h[s]&&l.searchParams.set(s,(c=h[s])!==null&&c!==void 0?c:"");return l.toString()}function i(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.shareencodefix!==undefined&&_G.EF.shareencodefix===1}function e(n){var i=n.urlOverride,t=_d.location.href,e;return i&&(t=i),t=u(t),e=f(t,n),e.replace(r,"%20")}var r=/%C2%A0/gi,t={ShareType:"shtp",Title:"shtk",Description:"shdk",Hash:"shhk",ThumbnailId:"shth",Crop:"shtc",FormCode:"form",EnSearch:"ensearch",Guid:"shid",Scenario:"shsc"};n.generateShareUrl=e})(ShareHelper||(ShareHelper={}));
//]]></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/SJbsop0cYrW1k-No8LMG30NoPY4.gz.js"></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/j7IFhsc5fzueulqhaJ9TFSuZ_kQ.gz.js"></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/TCY8LxrvlwuNlpD_YRIdandZyxI.gz.js"></script><script type="text/javascript" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=">//<![CDATA[
(function(){var n,t,i=(n=_w._sydPayWallConfig)===null||n===void 0?void 0:n.loadSydneyConvResWithPayWall,r=(t=_w._sydPayWallConfig)===null||t===void 0?void 0:t.useSydneyPayWall;sj_evt.bind("rewready",function(n){if(n&&n.length>=2){var t=n[1].waitlist;t&&t=="2"&&i&&(typeof SydFSCHelper!="undefined"&&SydFSCHelper.setSydFSCEligibleState?SydFSCHelper.setSydFSCEligibleState(!0):typeof SydneyFSCDecouple!="undefined"&&SydneyFSCDecouple.setSydFSCEligibleState&&SydneyFSCDecouple.setSydFSCEligibleState(!0),sj_evt.fire("waitlistUpdate:eligible"))}},!0);r?i?sj_evt.bind("onP1",function(){typeof SydFSCHelper!="undefined"&&SydFSCHelper.isSydFSCEligible?sj_evt.fire("sydFSCLoaded"):sj_evt.fire("sydFSCPaywallLoaded")},!0,100):sj_evt.fire("sydFSCPaywallLoaded"):sj_evt.bind("convInit:done",function(){sj_evt.fire("sydFSCLoaded")},!0)})();var Feedback;(function(n){var t;(function(){"use strict";function e(t,i){var r=t.getAttribute("id"),u;r||(r="genId"+n.length,t.setAttribute("id",r));u=new f(r,i,t.getAttribute(i));n.push(u)}function i(n,t,i){i===null?n.removeAttribute(t):n.setAttribute(t,i)}function t(n,t,r,u){for(var f,s=_d.querySelectorAll(r),o=0;o<s.length;o++)(f=s[o],u&&f.id&&u[f.id])||(e(f,n),i(f,n,t))}function o(n){for(var u=_d.querySelectorAll(n),e=1,f={},t,i,r=0;r<u.length;++r){if(t=u[r],!t.id){for(;;)if(i="fbpgdgelem".concat(e++),!_ge(i))break;t.id=i}f[t.id]=t}return f}function r(){var i="tabindex",r="-1",n=o("#fbpgdg, #fbpgdg *");t(i,r,"div",n);t(i,r,"svg",n);t(i,r,"a",n);t(i,r,"li",n);t(i,r,"input",n);t(i,r,"select",n);t("aria-hidden","true","body :not(script):not(style)",n)}function u(){var t,f;for(sj_evt.unbind("ajax.feedback.init",r),sj_evt.unbind("ajax.feedback.cleanup",u),t=0;t<n.length;t++)f=_d.getElementById(n[t].id),f&&i(f,n[t].attributeName,n[t].originalAttributeValue);n.length=0}var n=[],f=function(){function n(n,t,i){this.id=n;this.attributeName=t;this.originalAttributeValue=i}return n}();sj_evt.bind("ajax.feedback.init",r);sj_evt.bind("ajax.feedback.cleanup",u)})(t=n.Accessibility||(n.Accessibility={}))})(Feedback||(Feedback={}));var Feedback;(function(n){var t;(function(t){function u(t,r,u,f,e,o){t=typeof t===i?!1:t;t&&scrollTo(0,0);u=typeof u===i?!0:u;n.PackageLoad.Load(r,u,f,e,o)}function o(n,t){for(var r=0,i=null;n&&n.getAttribute&&(!(t>=1)||r<t);){if(i=n.getAttribute("data-fbhlsel"),i!=null)break;r++;n=n.parentNode}return i}function l(t,l,a,v,y,p,w,b,k){function tt(t){var r=null,i;return t&&(i=new h,n.fel("ajax.feedback.collectsettings","gsf",i),r=i.findSettings(t)),r}var d,g,nt;(typeof sj_log!="undefined"&&sj_log("CI.FeedbackInit","Feedback",!l||l.length===0?"invalid":l),d=_ge(l),d&&d.classList&&d.classList.contains(s))||(g=o(d,3),e!=="sb_feedback"&&(e=l,typeof sj_evt!==i&&(r&&sj_evt.unbind(f,r),r=function(n){var f=null,i=null,e=null,s,r,h;n&&n.length>1&&(r=n[1],r.tagName!==undefined&&r.nodeType!==undefined?(f=r,i=tt(f)):i=r,s=i&&i.elementToHighlight||f,e=o(s));h=i&&i.linkId||l;u(v,t,a,h,e,i)},sj_evt.bind(f,r,1)),typeof SearchAppWrapper!==i&&SearchAppWrapper.CortanaApp&&SearchAppWrapper.CortanaApp.addEventListener&&SearchAppWrapper.CortanaApp.addEventListener(f,function(n){(typeof n!==i&&n!==null&&(n.isHandled=!0),l===e)&&_ge("fbpgdg")===null&&u(v,t,a,l)})),d!==null?(nt=function(n){if(!(n instanceof KeyboardEvent)||n.keyCode===13){var r=null,i=null,f=null,e;k&&sj_evt.fire("feedback.dialog.defaultcheckedradio",k);sj_pd(n);sj_sp(n);r=sj_et(n);i=tt(r);e=i&&i.elementToHighlight||r;f=o(e);u(v,t,a,l,f||g,i||b)}},sj_be(d,"click",nt),sj_be(d,"keydown",nt),d.classList&&d.classList.add(s)):(w=typeof w===i?!1:w,w&&u(v,t,a,l,g)),typeof sj_evt!==i&&sj_evt.fire(c))}var f="feedbackformrequested",c="feedbackInitialized",r,e="",s="feedback-binded",i="undefined",h;t.InitializeFeedback=l;n.le=function(n,t){SharedLogHelper&&SharedLogHelper.LogError&&SharedLogHelper.LogError("Feedback: ".concat(n),null,t)};n.leh=function(t,i,r){n.le("Feedback: ".concat(t," handler failed in ").concat(i),r)};n.fel=function(t,i){for(var u=[],r=2;r<arguments.length;r++)u[r-2]=arguments[r];try{u.unshift(t);sj_evt.fire.apply(null,u)}catch(f){n.leh(t,i,f);throw f;}};h=function(){function n(){this.settingsList=[]}return n.prototype.setStartSettings=function(n,t){n&&t&&this.settingsList.push({c:n,s:t})},n.prototype.findSettings=function(n){var t=null;return this.settingsList.forEach(function(i){sj_we(n,i.c)&&(t=i.s)}),t},n}();sj_evt.fire("fdbkbtstrp_init")})(t=n.Bootstrap||(n.Bootstrap={}))})(Feedback||(Feedback={})),function(n){var t;(function(t){"use strict";function f(n){return typeof n=="object"&&n!==null}function e(n){return n==null?n===undefined?"[object Undefined]":"[object Null]":toString.call(n)}function o(n){if(!f(n)||e(n)!="[object Object]")return!1;if(Object.getPrototypeOf(n)===null)return!0;for(var t=n;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t}function s(f,e,s,h){var g=_G.IG,nt=typeof _G.V===i?_G.P:_G.V,c,p,l,v,b,y,d;n.fel("onFeedbackStarting","lp");t.staticConfig={linkId:e,activeElement:_d.activeElement};var a="?ig="+g+"&p="+nt,k=n.RouteProvider.Provide(f),w=encodeURIComponent;if(h){if(h.formConfig&&(k=f==="page"?"sdk/form":f,a+="&formconfig="+h.formConfig),h.service&&(t.staticConfig.service=h.service),h.scenario&&(t.staticConfig.scenario=h.scenario),h.structuredData)try{o(h.structuredData)&&(t.staticConfig.structuredData=h.structuredData)}catch(tt){}if(l=h.context,l)for(v in l)l.hasOwnProperty(v)&&(a+="&"+w(v)+"="+w(l[v]));h.pos&&(t.staticConfig.pos=h.pos,a+="&pos=1")}for(c="/feedback/"+k+a,typeof fbsrc!==i&&(c+="&src="+w(fbsrc)),typeof fbpkgiid!==i&&fbpkgiid[f]&&(c+="&iid="+fbpkgiid[f]),b=["addloginsource","client","clientip","corpnet","features","hose","hoseassistant","logjserror","msamock","setvar","testhooks","theme","uncrunched","ptn"],y=0;y<b.length;y++)(p=location.href.match(new RegExp("[?&]"+b[y]+"=[^?&#]*","i")))&&p[0]&&(c+="&"+p[0].substring(1));d=typeof sj_ajaxCSP=="function"?sj_ajaxCSP:sj_ajax;d(c,{callback:function(t,i){var r,f;if(t&&i)try{u&&u.removeAttribute("clicked");r=h&&_ge(h.feedbackContainerId);(h===null||h===void 0?void 0:h.appendFeedbackDialogAfterEvent)?(f=function(){i.appendTo(r||_d.body);sj_evt.unbind(h.appendFeedbackDialogAfterEvent,f)},sj_evt.bind(h.appendFeedbackDialogAfterEvent,f,1)):i.appendTo(r||_d.body);n.fel("onFeedbackShow","lp");n.fel("clarity.trigger","lp","BingFeedback");n.Highlight&&s&&n.Highlight.HighlightElements(s);(e.indexOf("fdbtext_")>-1||e.indexOf("thumb_t")>-1||e.indexOf("thumb_f")>-1||e.indexOf("thumb_tum")>-1)&&sj_evt.fire("HightLightScreenShotById",e,"li",["b_results","b_context"],"ol")}catch(o){n.le("Package load callback failed",o);throw o;}}});r[f]=!0}function h(){r={};t.staticConfig={}}var r={},i="undefined",u;t.staticConfig={};n.PackageLoad.GetHTML=function(){return _d.documentElement.outerHTML};n.PackageLoad.Load=function(n,t,f,e,o){var h,c;t=typeof t===i?!0:t;f=typeof f===i?"":f;c=typeof o!=i&&o&&o.feedbackContainerId;u=_ge(f);for(h in n)n.hasOwnProperty(h)&&(!t||c||typeof r[h]===i)&&s(h,f,e,o)};sj_evt.bind("ajax.feedback.cleanup",h)})(t=n.PackageLoad||(n.PackageLoad={}))}(Feedback||(Feedback={})),function(n){var t;(function(){"use strict";n.RouteProvider.Provide=function(n){return n==="page"?"sdk/form":n}})(t=n.RouteProvider||(n.RouteProvider={}))}(Feedback||(Feedback={})),function(n){var t;(function(n){"use strict";n.submit={registered:{},use:function(n,t){this.registered[n]=t},clear:function(){this.registered={}}}})(t=n.Hooks||(n.Hooks={}))}(Feedback||(Feedback={}));Feedback.Hooks.submit.use("conversationId", function(payload) { var conversationId = _w["CIB"] ? _w["CIB"].manager.conversation.id : undefined; payload["structured_data"]["conversationId"] = conversationId; if (_d.querySelector("cib-serp[mode='conversation']")) { payload["rawRegions"] = ["ConversationMode"]; } return payload; });;var __awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},SydneyBootstrapperInitializerCommon;(function(n){function r(n,i){if(i)return[{tone:t.Creative},{tone:t.Balanced},{tone:t.Precise}];switch(n){case ToneTier.LOW:return[];case ToneTier.MEDIUM:case ToneTier.HIGH:default:return[{tone:t.Creative},{tone:t.Balanced},{tone:t.Precise}]}}function u(n,t){var u;return __awaiter(this,void 0,void 0,function(){var f,e;return __generator(this,function(){return(f=i((u=_w._sydConvConfig)===null||u===void 0?void 0:u.disableBootstrapLoadTierBalancing,!1),f)?[2,r(n,t)]:(e={LocaleInfo:{Market:_G.Mkt,Language:_G.Lang,Region:_G.Region}},[2,fetch("turing/systemmetadata?"+new URLSearchParams({request:JSON.stringify(e)})).then(function(n){return n.json()}).then(function(i){var u;return((u=i===null||i===void 0?void 0:i.enabledTones)===null||u===void 0?void 0:u.length)>0?i.enabledTones.map(function(n){return{tone:n}}):r(n,t)})["catch"](function(){return r(n,t)})])})})}function f(){var n,t,r,f,e,o,s;return __awaiter(this,void 0,void 0,function(){var l,a,h,v,y,p,w,c;return __generator(this,function(b){switch(b.label){case 0:return(l={Creative:"h3imaginative",Balanced:"harmonyv3",Precise:"h3precise"},a=Object.keys(l),h=(n=_w._sydConvConfig.isCCP)!==null&&n!==void 0?n:!1,v=!h&&i((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableTierLoadBalancing,!0),!((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSuppressTones))?[3,5]:v?(y=i((f=_w._sydConvConfig)===null||f===void 0?void 0:f.loadUserTier,"Low"),p=i((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isBingUserSignedIn,!1),w=SBC.sydney,!p)?[3,2]:[4,u(y,h)]:[3,4];case 1:return c=b.sent(),[3,3];case 2:c=[];b.label=3;case 3:return w.responseTones=c,[3,5];case 4:SBC.sydney.responseTones=a.map(function(n){var t,i,r=(i=(t=_w._sydConvConfig)===null||t===void 0?void 0:t["suppressKnob".concat(n)])!==null&&i!==void 0?i:0;return{tone:n,disabled:r}});b.label=5;case 5:return SBC.mobile.isFullScreenEnabled=i((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableCopilotFullScreenUX,!1)||i((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableFullScreenUX,!1),[2]}})})}function i(n,t){return typeof n!="undefined"?n:t}var t;(function(n){n.Creative="Creative";n.Balanced="Balanced";n.Precise="Precise"})(t=n.Tone||(n.Tone={}));n.overrideBootstrapperConfigs=f;n.getConfigOrDefault=i})(SydneyBootstrapperInitializerCommon||(SydneyBootstrapperInitializerCommon={}));var SydneyBootstrapperInitializer;(function(){function c(){l();a();v();SydneyBootstrapperInitializerCommon.overrideBootstrapperConfigs().then(function(){SydneyBootstrapper.insertBootstrapper()})}function l(){var n,t,i,r=SydneyBootstrapperInitializerCommon.getConfigOrDefault((n=_w._sydConvConfig)===null||n===void 0?void 0:n.isCopilotChat,!1),u=SydneyBootstrapperInitializerCommon.getConfigOrDefault((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableThreads,!1),f=SydneyBootstrapperInitializerCommon.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableChatCenterAlign,!0),e=r&&!u||f;SBC.contentAlignment=e?"center":"left"}function a(){if(e)u&&Lib.CssClass.add(sj_b,h);else{var n=_ge(f?"b_header_outer":"b_header");u&&n&&sj_b.insertBefore(u,n)}}function v(){o||s||(_w.scrollY>0&&_w.scrollTo(0,0),_d.documentElement&&!f&&(Lib.CssClass.add(_d.documentElement,"b_disOvflw"),Lib.CssClass.remove(_d.documentElement,"b_delayOvflw")))}var n,t,i,r,e=SydneyBootstrapperInitializerCommon.getConfigOrDefault((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableChatContAfterHeader,!0),f=SydneyBootstrapperInitializerCommon.getConfigOrDefault((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enablePanelTransition,!1),o=SydneyBootstrapperInitializerCommon.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.hideSydFSC,!1),s=SydneyBootstrapperInitializerCommon.getConfigOrDefault((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydOverlay,!1),u=_ge("b_sydConvCont"),h="b_ctf";c()})(SydneyBootstrapperInitializer||(SydneyBootstrapperInitializer={}));var Sharing;(function(n){var t;(function(t){function f(n,t,r){return new Promise(function(u){var l=e(n,t,r),s,f;if(!l)return u(""),"";var h,c=i,a=c.indexOf("?")===-1?"?":"&",v=["addloginsource","client","clientip","corpnet","features","hose","hoseassistant","logjserror","msamock","setvar","testhooks","theme","uncrunched","ptn"];for(s=0;s<v.length;s++)(h=location.href.match(new RegExp("[?&]"+v[s]+"=[^?&#]*","i")))&&h[0]&&(c+=a+h[0].substring(1),a="&");f=sj_gx();f.open("POST",c,!0);f.setRequestHeader("Content-type","application/json");f.onreadystatechange=function(){f.readyState===4&&u(o(f,n))};f.send(JSON.stringify(l))})}function e(t,i,r){if(r)return{OriginalShareLink:i,EnableAddThumbnailId:!1};var f=t===null||t===void 0?void 0:t.querySelector(".".concat(u));return typeof n.Screenshot=="undefined"||!f||Lib.CssClass.contains(f,"b-hidden")?{OriginalShareLink:i,EnableAddThumbnailId:!0}:{OriginalShareLink:i,EnableAddThumbnailId:!0,ScreenshotBase64Url:f.src}}function o(n,t){if(n.status!==200||!n.responseText)return null;try{var i=JSON.parse(n.responseText),u=i.ThumbnailId;return u&&t.setAttribute(r,u),i.ShortShareLink}catch(f){return null}}var i="/sharing/getsharelink",r="data-thumbnailid",u="image-screenshot";t.getShareLink=f})(t=n.GetShareLink||(n.GetShareLink={}))})(Sharing||(Sharing={}));var SuperAppBridge;(function(n){function r(n,i){n&&t.sapphireBridge&&t.sapphireBridge.subscribeCallback(n,function(n){console.log("callback result",n);i&&i(n)})}function i(n,i,u){console.log(n,i);t.sapphireBridge&&typeof t.sapphireBridge[n]=="function"&&r(t.sapphireBridge[n](i),u)}function l(n,t){i("getDeviceInfo",n,t)}function u(n,t){i("getUserInfo",n,t)}function a(n){return new Promise(function(t){u(n,function(n){t(n)})})}function f(n,t){i("getLocationInfo",n,t)}function v(n){return new Promise(function(t){f(n,function(n){t(n)})})}function y(){return t.sapphireBridge}function p(n,t){i("navigate",n,t)}function e(n,t){i("logEvent",n,t)}function w(n){return new Promise(function(t){e(n,function(n){t(n)})})}function o(n,t){i("requestCustom",n,t)}function b(n){return new Promise(function(t){o(n,function(n){t(n)})})}function s(n,t){i("requestPermission",n,t)}function k(n){return new Promise(function(t){s(n,function(n){t(n)})})}function d(n,t){i("requestSnackBar",n,t)}function h(n,t){i("requestDialog",n,t)}function g(n){return new Promise(function(t){h(n,function(n){t(n)})})}function nt(n,t){i("saveData",n,t)}function tt(n,i){if(console.log("subscribe",n),t.sapphireBridge){var r=t.sapphireBridge.subscribe(n);return t.sapphireBridge.subscribeObserver(r,function(n){console.log("subscribe info result",n);i&&i(n)}),r}}function it(n,i,u){console.log("unSubscribe",n);t.sapphireBridge&&(r(t.sapphireBridge.unSubscribe(n),u),t.sapphireBridge.unSubscribeObserver(i))}function c(n,t){i("getAppList",n,t)}function rt(n){return new Promise(function(t){c(n,function(n){var i,r;try{n?(i=JSON.parse(n),console.log("get app list result",i),r=i.map(function(n){var t=n.appId,i=n.appName;return{id:t,name:i}}),t(r)):t([])}catch(u){t([])}})})}var t=window;n.getDeviceInfo=l;n.getUserInfo=u;n.getUserInfoAsync=a;n.getLocationInfo=f;n.getLocationInfoAsync=v;n.isValid=y;n.navigate=p;n.logEvent=e;n.logEventAsync=w;n.requestCustom=o;n.requestCustomAsync=b;n.requestPermission=s;n.requestPermissionAsync=k;n.requestSnackBar=d;n.requestDialog=h;n.requestDialogAsync=g;n.saveData=nt;n.subscribe=tt;n.unSubscribe=it;n.getAppList=c;n.getAppListAsync=rt})(SuperAppBridge||(SuperAppBridge={}));var SydneySuperAppLogger;(function(n){function w(n,u,f){t()&&console.log("".concat(r," ").concat(n,": ").concat(u," ").concat(f||""));SuperAppBridge.logEvent({name:n,ext:{page:{actionType:u,objectName:f}},appId:i},undefined);l("Action","".concat(n,": ").concat(u," ").concat(f||""))}function s(n,u){var f=SydneySuperAppPrivacyUtils.redactTelemetryPayload(JSON.stringify(u));t()&&console.log("".concat(r," ").concat(n,": ").concat(f));SuperAppBridge.logEvent({name:"DIAGNOSTIC_SYDNEY_AUTH",ext:{diagnostic:{key:"WebView info: ".concat(n),value:f}},appId:i},undefined)}function h(n,i){var u=SydneySuperAppPrivacyUtils.redactTelemetryPayload(JSON.stringify(i));nt()||v?s(n,i):t()&&console.log("".concat(r," ").concat(n,": ").concat(JSON.stringify(u)))}function b(n,u){var f=SydneySuperAppPrivacyUtils.redactTelemetryPayload(JSON.stringify(u));t()&&console.log("".concat(r," ").concat(n,": ").concat(f));SuperAppBridge.logEvent({name:"DIAGNOSTIC_SYDNEY_AUTH",ext:{diagnostic:{key:"WebView error: ".concat(n),value:f}},appId:i},undefined)}function k(n,u){var f=SydneySuperAppPrivacyUtils.redactTelemetryPayload(JSON.stringify(u));t()&&console.log("".concat(r," ").concat(n,": ").concat(f));SuperAppBridge.logEvent({name:"DIAGNOSTIC_SYDNEY_AUTH",ext:{diagnostic:{key:"WebView warning: ".concat(n),value:f}},appId:i},undefined)}function c(n,i){var r=SydneySuperAppPrivacyUtils.redactTelemetryPayload(JSON.stringify(i));t()&&console.log("SLAPI ".concat(n,": ").concat(r));Log.Log("SystemEvent","Codex",n,!1,"Namespace","SuperappConnector","CustomData",r)}function d(n,t){h(n,t);c(n,t)}function l(n,t){y&&(_w.clarity?_w.clarity("set",n,t):(_w[o]=_w[o]||{},_w[o][n]=t))}function g(n,t){SuperAppBridge.logEvent({appId:i,name:"ADJUST_PAGE_ACTION_EVENT",adjustToken:n,data:t})}function a(n){var t=new URLSearchParams(_w.location.search);return t.get(n)}function t(){return a("debug")!=undefined}function nt(){return a("logall")=="1"}var u,f,e,i="6dc7564de7424d4698716df1b6d86867",r="[SuperApp connector]",v=(u=_w._sydConvConfig)===null||u===void 0?void 0:u.isSapphireDaily,o="clarityCustomTags",y=(e=(f=_w._sydMobNativeIntegration)===null||f===void 0?void 0:f.enableSydchatClarity)!==null&&e!==void 0?e:!1,p;(function(n){n.CHAT_SENT="mkzp71"})(p=n.AdjustMessage||(n.AdjustMessage={}));n.logPageEvent=w;n.logCriticalInfo=s;n.logInfo=h;n.logError=b;n.logWarning=k;n.logToSLAPI=c;n.logInfoWithSLAPI=d;n.setClarityCustomTag=l;n.logAdjustEvent=g})(SydneySuperAppLogger||(SydneySuperAppLogger={}));var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},SydneySuperAppConnector;(function(n){function a(n){var t='sapphire://sydney?data={"deeplinkOrigin":"'.concat(n,'"}&reload=1&appId=0067acd6d05f4168b92f510d33b9ed74');_w.location.replace(t)}function v(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,new Promise(function(n){SuperAppBridge.getDeviceInfo({appId:t},function(t){i.logCriticalInfo("getDeviceInfo",{sysMsg:"received response",payload:t});try{var r=typeof t=="string"?JSON.parse(t):t;n(r);sj_evt.fire("sappDeviceThemeAvailable",r===null||r===void 0?void 0:r.isDarkMode)}catch(u){i.logError("getDeviceInfo",{sysMsg:"parsing failed"});sj_evt.fire("sappGetDeviceInfoFailed")}})})]})})}function y(){var n={action:"requestNativePage",deeplink:"sapphire://settings",appId:t};SuperAppBridge.navigate(n,undefined)}function p(t,i,r){var f,o,s,h;return i?!1:(s=(o=(f=t===null||t===void 0?void 0:t.data)===null||f===void 0?void 0:f.entry)!==null&&o!==void 0?o:"",h=!n.chatResponding&&s in u,!h&&e(t,r))?!0:!1}function e(n,t,i){var f,o,r,s,u;if(i===void 0&&(i=0),i>10)return!1;if(n===t)return!0;if(typeof n!="object"||n==null||typeof t!="object"||t==null||(f=Object.keys(n),o=Object.keys(t),f.length!=o.length))return!1;for(r=0,s=f;r<s.length;r++)if(u=s[r],!o.includes(u)||!e(n[u],t[u],i+1))return!1;return!0}function w(n){i.logInfo("registerWatchListener",{sysMsg:"register watch callback"});SuperAppBridge.requestCustom({partner:f,appId:t,data:{scenario:"LifeCycle",action:"Watch"}},n)}function b(n,i,r){(o()||(i===null||i===void 0?void 0:i.apiVersion)&&i.apiVersion>=l)&&r&&SuperAppBridge.requestCustomAsync({partner:"scaffolding",appId:t,action:"requestFullscreen",fullscreen:n,immersive:n})}function o(){var n=s(c);return n!=undefined}function s(n){var t=new URLSearchParams(_w.location.search);return t.get(n)}function k(){SuperAppBridge.logEvent({name:"PAGE_VIEW_SYDNEY",ext:{page:{name:"ChatPage"}},appId:t},undefined);SuperAppBridge.requestCustom({partner:f,appId:t,data:{scenario:"Navigation",action:"ReportChatShown"}},undefined);i.setClarityCustomTag("View","ChatPage")}function d(){var n=performance.getEntriesByType("resource"),t=[];n===null||n===void 0?void 0:n.forEach(function(n){var i,r,u;((i=n===null||n===void 0?void 0:n.name)===null||i===void 0?void 0:i.includes("/rp/"))&&(r=n.name.split("?")[0],u=n.encodedBodySize>5e5?"Large":"Small",t.push({filename:r,label:u,webViewCacheUsed:n.transferSize===0,sizeInBytes:n.encodedBodySize}))});t.length>0&&i.logCriticalInfo("ResourceTimingEvent",{payload:{timingEvents:t}})}function g(n,t){if(n){var r=h();i.logCriticalInfo("AADSigninStatus",{sysMsg:"AADSigninStatus",payload:{scenario:t,aadSigninStatus:r}})}}function h(){var n,t=_w.BingAtWork;return!!((n=t===null||t===void 0?void 0:t.context)===null||n===void 0?void 0:n.isAadAuthenticatedAtServer)}function nt(){var n=navigator.userAgent.match(/Sapphire\/(\d+\.\d+\.\d+)/),t;return n?["Sapphire",n[1]]:(t=/(EdgA|EdgiOS)\/(\d+\.\d+\.\d+\.\d+)/,n=navigator.userAgent.match(t),n)?["EdgeMobile",n[2]]:["Unknown",undefined]}function tt(){return __awaiter(this,void 0,void 0,function(){var u,n,f;return __generator(this,function(e){switch(e.label){case 0:return[4,SuperAppBridge.requestCustomAsync({partner:r,appId:t,data:{scenario:"getAccounts"}})];case 1:u=e.sent();i.logCriticalInfo("getUserAccounts",{sysMsg:"getUserAccounts received response from getAccounts",payload:{responseData:"<redacted>"}});try{if(n=typeof u=="string"?JSON.parse(u):u,!n.success)throw new Error("Bridge call failed");return f=n.data.map(function(t){return __assign(__assign({},t),{avatarBase64Image:typeof n.avatarData=="string"?"data:image/png;base64,"+n.avatarData:""})}),[2,f]}catch(o){return i.logError("getUserAccounts",{sysMsg:"getUserAccounts bridge failed: ".concat(o.message)}),[2,[]]}return[2]}})})}function it(n,u,f){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return(i.logCriticalInfo("switchUserAccount",{sysMsg:"switchUserAccount request"}),!((f===null||f===void 0?void 0:f.os)==="Android"))?[3,2]:[4,SuperAppBridge.requestCustomAsync({partner:r,appId:t,data:{scenario:"signInSSOAccount",data:{id:n,accountType:u}}})];case 1:return e.sent(),[3,4];case 2:return((f===null||f===void 0?void 0:f.os)==="iOS")?[4,SuperAppBridge.requestCustomAsync({partner:r,appId:t,data:{scenario:"signInSSOAccount",id:n,accountType:u}})]:[3,4];case 3:e.sent();e.label=4;case 4:return[2]}})})}function rt(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(u){switch(u.label){case 0:return(i.logCriticalInfo("addUserAccount",{sysMsg:"addUserAccount request"}),!((n===null||n===void 0?void 0:n.os)==="Android"))?[3,1]:(SuperAppBridge.navigate({action:"requestAccount",type:"signingenerally",appId:t},undefined),[3,3]);case 1:return((n===null||n===void 0?void 0:n.os)==="iOS")?[4,SuperAppBridge.requestCustomAsync({partner:r,appId:t,data:{scenario:"signInSSOAccount"}})]:[3,3];case 2:u.sent();u.label=3;case 3:return[2]}})})}function ut(n){var r;return __awaiter(this,void 0,void 0,function(){var f,u,e,o;return __generator(this,function(s){switch(s.label){case 0:return[4,SuperAppBridge.getUserInfoAsync({appId:t})];case 1:f=s.sent();i.logCriticalInfo("getUserInfo",{sysMsg:"received response",payload:{responseData:f}});try{return u=typeof f=="string"?JSON.parse(f):f,n.apiVersion&&n.apiVersion<=77&&(u.isSignedIn=(r=_w._sydMobNativeIntegration)===null||r===void 0?void 0:r.isUserSignedIn),u.avatarData&&typeof u.avatarData=="string"&&(u.avatarBase64Image="data:image/png;base64,"+u.avatarData),u.isAADUsed&&u.isActive&&(e=u.userGivenName,o=u.userLastName,u.displayName=(e?e:"")+(e&&o?" ":"")+(o?o:"")),[2,u]}catch(h){i.logError("getUserInfo",{sysMsg:"parsing failed"})}return[2]}})})}var t="6dc7564de7424d4698716df1b6d86867",i=SydneySuperAppLogger,f="Sydney",c="iOS",l=39,r="Accounts",u;(function(n){n.CopilotChatWidget="CopilotChatWidget";n.CopilotLockScreenWidget="CopilotLockScreenWidget"})(u||(u={}));n.reloadPageUsingDeeplink=a;n.getDeviceInfo=v;n.navigateToSettings=y;n.shouldIgnoreLaunch=p;n.registerWatchListener=w;n.setFullScreenModeStatusBar=b;n.isIOS=o;n.getParameterFromURL=s;n.logValidSydneyView=k;n.logResourceTimingEvents=d;n.logAADSignInStatus=g;n.isAADSignedIn=h;n.getClientAndVersionInfo=nt;n.getUserAccounts=tt;n.switchUserAccountUtils=it;n.addUserAccountUtils=rt;n.getUserInfoUtils=ut})(SydneySuperAppConnector||(SydneySuperAppConnector={}));var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},SydneySuperAppConnector;(function(n){function il(){var n=function(){sf();ns();SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"LifeCycle",action:"WebViewReady"}},function(){lt({type:3})});u.os=="iOS"&&to()};SuperAppBridge.isValid()?n():_w.onSapphireBridgeReady=n}function to(){SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"LifeCycle",action:"UseBridgeToCheckPageHealth"}},function(){to()})}function io(){return y||ou&&!su}function rl(){SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"Navigation",action:"Hide"}},undefined);ou?su&&SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"Navigation",action:"ShowStrictModeDialog"}},undefined):ef()}function ef(){na()?SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"Navigation",action:"SignIn"}},undefined):SuperAppBridge.navigate({action:"requestMiniApp",targetAppId:"707225db60754189939e45b17b59ca13",appId:r},undefined)}function ro(n){return uo(n)=="1"}function uo(n){var i,r,t;return bt==null&&(bt={},t=(i=_w._sydConvConfig)===null||i===void 0?void 0:i.sydneySuperAppFeatures,(r=t===null||t===void 0?void 0:t.split(";"))===null||r===void 0?void 0:r.forEach(function(n){if(n.length>0){var t=n.split(":");bt[t[0]]=t[1]}})),bt[n]}function ul(){sf();t.logToSLAPI("completeInitialization",{sysMsg:"started"});_w.location.pathname!="/sydchat"||SuperAppBridge.isValid()?fo():(t.logToSLAPI("completeInitialization",{sysMsg:"waitingOnBridgeToBeReady"}),_w.onSapphireBridgeReady=fo)}function sf(){var t,i=n.getClientAndVersionInfo(),f=i[0],e=i[1],r=(t=_w._sydMobNativeIntegration)===null||t===void 0?void 0:t.sapphireApiVersion;u={os:/Android/i.test(navigator.userAgent)?"Android":"iOS",client:f,clientVersion:e,apiVersion:r?parseInt(r):undefined}}function fo(){return __awaiter(this,void 0,void 0,function(){var f,i,u;return __generator(this,function(o){switch(o.label){case 0:return(_w.location.pathname=="/sydchat")?(ns(),!l())?[3,2]:(t.logInfo("finishInitialization",{sysMsg:"sending web view ready"}),f={partner:e,appId:r,data:{scenario:"LifeCycle",action:"WebViewReady"}},[4,SuperAppBridge.requestCustomAsync(f)]):[3,9];case 1:return i=o.sent(),n.initData.launchInfo=typeof i=="string"?JSON.parse(i):i,[3,4];case 2:return[4,ha()];case 3:o.sent();o.label=4;case 4:return[4,n.getDeviceInfo()];case 5:return u=o.sent(),is(u),[4,el(u)];case 6:return(o.sent(),!lc)?[3,8]:[4,sa(u)];case 7:o.sent();o.label=8;case 8:SuperAppBridge.subscribe({key:"miniAppLifecycle",appId:r},function(n){var i;try{i=typeof n=="string"?JSON.parse(n):n}catch(u){t.logError("finishInitialization",{sysMsg:"miniAppLifeCycle subacription result parse failed",payload:{data:n}});return}(i===null||i===void 0?void 0:i.status)==="resume"&&(i===null||i===void 0?void 0:i.app_id)===r&&lt({})});o.label=9;case 9:return fl(),[2]}})})}function fl(){ts();t.logInfo("completeInitialization",{sysMsg:"completed",payload:n.initData});sj_evt.fire("SydResourcesLoadComplete")}function el(i){var r,f,e,s,c,a,v,y,p,k,d,g,nt,tt,it,rt,ut,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ii,ri,ui,fi,ei;return __awaiter(this,void 0,void 0,function(){var oi,ci,li,si,ai,hi,vi;return __generator(this,function(yi){switch(yi.label){case 0:return(CIB.config.speech.micPermissionProvider=da,CIB.config.sydney.shareConversationProvider=pf,CIB.config.sydney.sendFeedbackProvider=iy,CIB.config.greeting.shouldSendBotGreeting=!1,CIB.config.features.enableTTSOnVoiceInput=ss(),CIB.config.features.enableShareConversation=!0,((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSpeechAudioContextPlayback)||(CIB.config.speech.textToSpeechProvider=eo()),CIB.config.sydney.copyToClipboardProvider=ny,CIB.config.features.enableUpdateInternalLinksToOpenOnEdge=av(),CIB.config.features.enableSendFeedback=(f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableSydSappFeedbackButton,CIB.config.logging.logLevel=(s=(e=_w._sydConvConfig)===null||e===void 0?void 0:e.sydneySapphireLogLevel)!==null&&s!==void 0?s:5,CIB.config.features.enableMobileAnchoredScroll=(c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableSydSuperAppAnchoredScroll,CIB.config.features.enableMobileSimpleAnchoredScroll=(a=_w._sydMobNativeIntegration)===null||a===void 0?void 0:a.enableMobileSimpleAnchoredScroll,CIB.config.features.enableKatexHTML=!0,CIB.config.sydney.shareLinkProvider=gv,CIB.config.features.enableLinkShare=ve&&ye&&cu,CIB.config.features.enableShare=CIB.config.features.enableLinkShare,CIB.config.sydney.shareTextProvider=as,CIB.config.sydney.downloadImageProvider=bv,CIB.config.features.enableTextShare=ve&&ye&&!cu,CIB.config.features.enableSimpleMobileWelcomeScreen=tc,CIB.config.bing.isMSAAuthenticated=cu,CIB.config.features.enableMessageExport=(i===null||i===void 0?void 0:i.isEdgeView)&&le,CIB.config.features.enableExportConversation=(i===null||i===void 0?void 0:i.isEdgeView)&&ae,CIB.config.features.enableBackendExportService=le||ae,CIB.config.features.enableCopyOnTextMessageOnly=!0,CIB.config.features.enableGPT4Treatment1=oe&&!((v=_w._sydConvConfig)===null||v===void 0?void 0:v.isCCP)&&!h,CIB.config.features.enableGPT4Treatment2=se&&!h,CIB.config.speech.clientId=sj_cook.get("MUID","MUID"),CIB.config.features.enableOverrideNewTopicTooltipLogic=(y=_w._sydConvConfig)===null||y===void 0?void 0:y.sydSappNewConvTooltipLogic,CIB.config.features.enableSerpInitCompleteState=(k=(p=_w._sydMobNativeIntegration)===null||p===void 0?void 0:p.enableSerpInitCompleteState)!==null&&k!==void 0?k:!1,CIB.config.features.enableWelcomeCopilotProButton=!!((d=_w._sydMobNativeIntegration)===null||d===void 0?void 0:d.isCopilotAppProUpsellWlcmBtnEnabled),hl(i),SydFSCHelper.setSpeechLanguageConfig(i===null||i===void 0?void 0:i.speechLanguage),bl(),CIB.config.share&&(CIB.config.features.enableNativeShare=(g=_w._sydConvConfig)===null||g===void 0?void 0:g.enableNativeShare,CIB.config.share.nativeShareProvider=kv),CIB.config.mobile&&(b=b&&Number((tt=(nt=CIB.version)===null||nt===void 0?void 0:nt.version)===null||tt===void 0?void 0:tt.split(".")[1])>=792,CIB.config.mobile.isFullScreenEnabled=b,oi=i===null||i===void 0?void 0:i.statusBarHeight,n.isIOS()&&!oi&&((it=_w._sydMobNativeIntegration)===null||it===void 0?void 0:it.enableDefaultStatusBarHeight)&&(oi=20),oi&&(!((rt=_w._sydMobNativeIntegration)===null||rt===void 0?void 0:rt.enableDeviceDynamicHeight)||_d.documentElement.style.setProperty("--status-bar-height","".concat(oi,"px")),ua(oi)||(CIB.config.mobile.statusBarHeight=oi),ci=((ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.isBingAppChat)||((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.isStartAppChat),li=(ht=(st=_w._sydConvConfig)===null||st===void 0?void 0:st.enableSCCToneDownHeader)!==null&&ht!==void 0?ht:!1,li&&ci&&ra(oi)),CIB.config.mobile.enableMobileAnchoredScrollOnResponse=(ct=_w._sydConvConfig)===null||ct===void 0?void 0:ct.enableMobileAnchoredScrollOnResponse),w=gl(),CIB.config.features.enableMobileNativeShare=w,si=l()?(at=(lt=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||lt===void 0?void 0:lt.data)===null||at===void 0?void 0:at.app:(vt=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||vt===void 0?void 0:vt.app,ai=(yt=si===null||si===void 0?void 0:si.visualVersion)!==null&&yt!==void 0?yt:0,ai>0&&(CIB.config.features.enableUseCameraIconForVisualSearch=!0),sc&&!hc&&typeof PersonaGPTHandler!="undefined"&&PersonaGPTHandler&&PersonaGPTHandler.SetupPersonaGPTs(),fe&&bo({title:(pt=_w._sydConvTranslation)===null||pt===void 0?void 0:pt.sydneySapphireUpsellConsentTitle,message:(wt=_w._sydConvTranslation)===null||wt===void 0?void 0:wt.sydneySapphireUpsellConsentMessage,confirm:(bt=_w._sydConvTranslation)===null||bt===void 0?void 0:bt.sydneySapphireUpsellConsentConfirm,deny:(kt=_w._sydConvTranslation)===null||kt===void 0?void 0:kt.sydneySapphireUpsellConsentDeny}),!(rc&&!ti()))?[3,2]:[4,fv()];case 1:yi.sent();yi.label=2;case 2:return ee&&(yl(),co(),CIB.config.speech.onReopenMicSettingUpdated=function(n){t.logInfoWithSLAPI("setConfigs",{sysMsg:"VoiceReopenSettingUpdated: ",payload:{value:n}});CIB.config.features.enableAutoReopenMic=n},CIB.config.speech.onAutoDetectSettingUpdated=function(n){t.logInfoWithSLAPI("setConfigs",{sysMsg:"AutoDetectSettingUpdated: ",payload:{value:n}});CIB.config.features.enableSpeechAutoDetectLanguage=n}),vc&&CIB.config.bing.navigateToMobileSearch&&(CIB.config.features.enableSapphireSearch=!0,CIB.config.bing.navigateToMobileSearch=function(){n.isIOS()?ni("sapphire://search"):ni("sapphire://autosuggest")}),(te||ie)&&(wu=(dt=si===null||si===void 0?void 0:si.ctxVersion)!==null&&dt!==void 0?dt:0,CIB.config.sydney.request.optionsSets.push("dl_edge_prompt")),wl(),hi=ko(),vi=kl(),ft=o((gt=_w._sydConvConfig)===null||gt===void 0?void 0:gt.enableSpeechAutoDetectLanguage,!0)&&go(),du=((ii=_w._sydConvConfig)===null||ii===void 0?void 0:ii.enableSpeechSILKEncoding)&&(u===null||u===void 0?void 0:u.os)=="Android"&&(u===null||u===void 0?void 0:u.apiVersion)>=82,gu=du||ft,ft&&et.push("mling"),du&&et.push("silk"),o((ri=_w._sydConvConfig)===null||ri===void 0?void 0:ri.enableNativeEchoCancellation,!1)&&(dl()?et.push("ec"):(CIB.config.features.enableForceWebRecognizer=!0,CIB.config.features.enableSpeechAudioContextPlayback=!0)),(vi||hi)&&(CIB.config.speech.speechToTextProvider={initRecognizer:fh.initRecognizer},CIB.config.features.enableSimpleVoiceInput=!0,CIB.config.features.enableSpeechGetUserMedia=!1,hi?t.logInfoWithSLAPI("setConfigs",{sysMsg:"Native Voice Recognition Continuous enabled"}):t.logInfoWithSLAPI("setConfigs",{sysMsg:"Native Voice Recognition Once enabled"})),he&&!hi&&(CIB.config.features.enableSpeechDictationBridgeMode=!0,t.logInfoWithSLAPI("setConfigs",{sysMsg:"Bridge Voice Recognition Continuous enabled"})),((fi=(ui=CIB===null||CIB===void 0?void 0:CIB.vm)===null||ui===void 0?void 0:ui.conversation)===null||fi===void 0?void 0:fi.isFirstTime)&&t.logToSLAPI("FRE",{sysMsg:"FRE"}),(u===null||u===void 0?void 0:u.apiVersion)&&u.apiVersion>=76&&((ei=_w._sydConvConfig)===null||ei===void 0?void 0:ei.enableSapphireChatConsentRemoval)&&(CIB.config.features.enableCodexMuidConsentInlineExplicit=!1),so(),ia(),vl(),rp(i),[2]}})})}function eo(){var n;return((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSydneyNativePromisePlayAudio)?SydneySuperAppTextToSpeechHandler.getTextToSpeechProvider:cs}function oo(){var n,t,i,r,u,f,e,o=_d.querySelector(".b_sydConvMode");if((e=(f=(u=(r=(i=(t=(n=o===null||o===void 0?void 0:o.querySelector("cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-action-bar"))===null||i===void 0?void 0:i.shadowRoot)===null||r===void 0?void 0:r.querySelector(".input-container"))===null||u===void 0?void 0:u.querySelector("cib-text-input"))===null||f===void 0?void 0:f.shadowRoot)!==null&&e!==void 0)return e.querySelector("#searchBox")}function ol(){var n=oo();n&&n.focus()}function sl(){var n=oo();n&&(n.focus(),n.blur(),n.focus())}function so(){var n;((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSydneyNativeMessageCallbackManager)&&(u===null||u===void 0?void 0:u.apiVersion)&&u.apiVersion>=81&&(CIB.config.features.enableNativePlayCallbackFix=!0,_w._sydConvConfig.enableSydneyNativePromisePlayAudio&&(SydneySuperAppTextToSpeechHandler.enableNativeTtsAudioCallbacks=!0),SydneySuperAppNativeMessageCallbackManager.registerGlobalNativeMessageCallback())}function hl(i){var e,s,h,c,l,a,v,p,w,k=o((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableGPTForSingleColumnBCE,!1),d=o((s=_w._sydMobNativeIntegration)===null||s===void 0?void 0:s.enableAccountSwitch,!1)&&((u===null||u===void 0?void 0:u.os)==="iOS"||(u===null||u===void 0?void 0:u.os)==="Android"),g=o((h=_w._sydMobNativeIntegration)===null||h===void 0?void 0:h.enableNonSignedInDrawer,!1),nt=SydFSCHelper.getConfigOrDefault((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableExploreAIIntegration,!1),f=rs(i)&&d,b;if(nt&&(CIB.config.features.enableExploreAIIntegration=!0,CIB.config.bing.requestGoToExploreAI=function(){var n;(i===null||i===void 0?void 0:i.isBingApp)&&((n=i===null||i===void 0?void 0:i.platform)===null||n===void 0?void 0:n.toLowerCase())==="iOS".toLowerCase()&&SuperAppBridge.requestCustom({partner:"Sydney",appId:r,data:{scenario:"Navigation",action:"Hide"}},undefined);ni(ch)}),CIB.config.mobile.enableAccountSwitch=f,f&&(CIB.config.bing.getUserAccounts=n.getUserAccounts,CIB.config.bing.switchUserAccount=ca,CIB.config.bing.addUserAccount=la),((l=_w._sydMobNativeIntegration)===null||l===void 0?void 0:l.enableCdxNavigationMenuInHeader)&&(CIB.config.features.enableActivityIconsFromContextMenu=!0,CIB.config.features.disableHeaderBarReturnIcon=!0,CIB.config.mobile.enableUserProfileButton=!((a=_w._sydMobNativeIntegration)===null||a===void 0?void 0:a.isMSAAuthenticated)&&!f||f&&!y,CIB.config.features.enableCopilotDrawer=((v=_w._sydMobNativeIntegration)===null||v===void 0?void 0:v.isMSAAuthenticated)||k||f&&y,CIB.config.features.enableNonSignedInDrawer=g,CIB.config.bing.getUserInfo=aa,CIB.config.bing.requestViewProfile=n.navigateToSettings,CIB.config.bing.handleNotificationCenterClick=cl,b=!!((p=_w._sydConvConfig)===null||p===void 0?void 0:p.isCopilotChat),b?CIB.config.mobile.isHeaderBackButtonEnabled=!1:CIB.config.mobile.isAlignedHeaderBackButtonEnabled=!0),CIB.config.features.enableCopilotDrawerUpsell=(w=_w._sydMobNativeIntegration)===null||w===void 0?void 0:w.isUpsellEnabled,CIB.onDrawerStateChanged)CIB.onDrawerStateChanged(function(i){var r;t.logCriticalInfo("DrawerStateChanged",{sysMsg:i?"DrawerOpened":"DrawerClosed"});i&&((r=_w._sydMobNativeIntegration)===null||r===void 0?void 0:r.isUpsellEnabled)&&sj_evt.fire(n.SHOW_DRAWER_UPSELL_EVENT)})}function cl(){ll();al()}function ll(){ho(hh)}function ho(n,t){var i={action:"requestMiniApp",targetAppId:n,appId:r};SuperAppBridge.navigate(i,t)}function al(){localStorage===null||localStorage===void 0?void 0:localStorage.setItem(be,Date.now().toString())}function ni(n){var t={action:"requestNativePage",deeplink:n,appId:r};SuperAppBridge.navigate(t,undefined)}function vl(){var i,u,o,s,l,a,y,p,w;if(CIB.onConversationIdChanged)CIB.onConversationIdChanged(fa);if((u=(i=CIB.vm.perfTracker)===null||i===void 0?void 0:i.onPerformanceRecorded)===null||u===void 0?void 0:u.call(i,function(n){var i,u=n.name,f=n.value;(u==="ChatVisuallyReady"||u==="ChatInitialUIReady")&&(SuperAppBridge.logEvent({name:"PAGE_VIEW_SYDNEY",ext:{page:{name:"VisualCodex"}},appId:r},undefined),SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"Navigation",action:"ReportVisual",data:{proStatus:hu?"1":"0"}}},undefined),SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"LifeCycle",action:"SydneyFullyVisible",cibplace:c("cibplace")||"0",CIBVersion:((i=CIB===null||CIB===void 0?void 0:CIB.version)===null||i===void 0?void 0:i.version)||"",codexConfigs:""}},undefined),t.setClarityCustomTag("View","VisualCodex"));t.logCriticalInfo("onPerformanceRecorded",{sysMsg:"PerformanceRecorded",payload:{perfCounter:u,perfValue:f}})}),(s=(o=CIB===null||CIB===void 0?void 0:CIB.vm)===null||o===void 0?void 0:o.errorService)===null||s===void 0?void 0:s.onAppErrorStateChange)CIB.vm.errorService.onAppErrorStateChange(function(n){t.logCriticalInfo("AppErrorStateChanged",{sysMsg:n})});if((a=(l=CIB===null||CIB===void 0?void 0:CIB.vm)===null||l===void 0?void 0:l.errorService)===null||a===void 0?void 0:a.onChatErrorStateChange)CIB.vm.errorService.onChatErrorStateChange(function(i){t.logCriticalInfo("ChatErrorStateChanged",{sysMsg:i});i!==yc||ff||(n.logAADSignInStatus(h,"onChatErrorStateChange"),ff=!0)});if((p=(y=CIB===null||CIB===void 0?void 0:CIB.vm)===null||y===void 0?void 0:y.errorService)===null||p===void 0?void 0:p.onChatWarningStateChange)CIB.vm.errorService.onChatWarningStateChange(function(n){t.logCriticalInfo("ChatWarningStateChanged",{sysMsg:n})});f=new wf;f.setupConversationRequestStateHandling();f.setupMessageProcessing();f.setupConversationResetHandling();((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableOneCameraChat)&&!h&&(f.setupChatErrorHandling(),SuperAppOneCamera.registerListeners(v,f))}function yl(){var n,t,i,e=o((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableAutoReopenMic,!1),u,f;SuperAppBridge.requestCustom({partner:p,appId:r,data:{scenario:"setValue",key:"keyShowAutoReopenMic",value:e,type:"boolean"}},function(n){ct(n,e,"keyShowAutoReopenMic")});u=o((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableReadAloudOptions,!1);SuperAppBridge.requestCustom({partner:p,appId:r,data:{scenario:"setValue",key:"keyShowAlwaysReadResponseMode",value:u,type:"boolean"}},function(n){ct(n,u,"keyShowAlwaysReadResponseMode")});SuperAppBridge.requestCustom({partner:p,appId:r,data:{scenario:"setValue",key:"keyShowFullDuplex",value:!1,type:"boolean"}},function(n){ct(n,!1,"keyShowFullDuplex")});f=o((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCustomizedTtsVoiceNameOptions,!1);SuperAppBridge.requestCustom({partner:p,appId:r,data:{scenario:"setValue",key:"keyShowVoiceName",value:f,type:"boolean"}},function(n){ct(n,f,"keyShowVoiceName")});SuperAppBridge.requestCustom({partner:p,appId:r,data:{scenario:"setValue",key:"keyShowVoiceSpeed",value:!0,type:"boolean"}},function(n){ct(n,!0,"keyShowVoiceSpeed")})}function ct(n,i,r){try{var u=typeof n=="string"?JSON.parse(n):n;u.success?t.logInfo("initVoiceSettingsPage",{sysMsg:r,payload:{show:i}}):t.logError("initVoiceSettingPage",{sysMsg:"failed to show/hide "+r+" behind feature"})}catch(f){t.logError("initVoiceSettingPage",{sysMsg:"failed to parse JSON data: "+r,payload:{exception:{message:f.message}}})}}function co(){SuperAppBridge.requestCustom({partner:p,appId:r,data:{scenario:"getValue",keys:["keySettingsAutoReopenMic","MarketManager.keyOfSettingsSpeechLanguage","keySettingsIsAutoDetectLanguageOn","keySettingsIsVoiceClipOn","keySettingsReadResponseMode","keySettingsVoiceName","keySettingsVoiceSpeed",]}},function(n){var i,r;try{i=typeof n=="string"?JSON.parse(n):n;i.success?i.data&&(r=i.data,pl(r)):t.logError("setupSpeechSettings",{sysMsg:"failure to get the Sapphire speech settings"})}catch(u){t.logError("setupSpeechSettings",{sysMsg:"failed to parse JSON data",payload:{exception:{message:u.message}}})}})}function pl(n){var i,r,u,f,e,o;n&&(i=n.keySettingsAutoReopenMic,i&&lo(i),r=n.keySettingsIsAutoDetectLanguageOn,r&&ao(r),u=n.keySettingsIsVoiceClipOn,u&&vo(u),f=n.keySettingsReadResponseMode,f&&yo(f),e=n.keySettingsVoiceName,e&&po(e),o=n.keySettingsVoiceSpeed,o&&wo(o),t.logInfo("applySpeechSettings",{sysMsg:"Speech settings applied"}))}function lo(n){var t,i=o((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableAutoReopenMic,!1);CIB.config.features.enableAutoReopenMic=i?!!(n===null||n===void 0?void 0:n.data):i}function ao(n){var t,i=o((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableSpeechAutoDetectLanguage,!0)&&!!(n===null||n===void 0?void 0:n.data);CIB.config.features.enableSpeechAutoDetectLanguage=i;CIB.config.speech.query.autodetect=i?"1":"0"}function vo(n){CIB.config.speech.audioConsentStatus=!(n===null||n===void 0?void 0:n.data)?-1:2}function yo(n){var r,i,u;if(n)if(i=n.type==="string"?parseInt(n.data):n.data,u=o((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableReadAloudOptions,!1),CIB.config.features.enableReadAloudOptions=u,i>=1&&i<=3){if(CIB.config.features.enableReadAloudOptions){switch(i){case a.VoiceSearchOnly:i=st.Auto;break;case a.Always:i=st.Always;break;case a.Never:i=st.Never}CIB.config.features.enableTTSOnVoiceInput=!0}else CIB.config.features.enableTTSOnVoiceInput=i!==a.Never;CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{readAloud:i})}else t.logError("applyReadResponseModeSetting",{sysMsg:"Invalid range for the key settings ReadResponseMode"})}function po(n){var t,i=o((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableCustomizedTtsVoiceNameOptions,!1);n&&n.data&&(CIB.config.features.enableCustomizedTtsVoiceNameOptions=i,CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{voiceName:n.data}))}function wo(n){n&&n.data&&(CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{speed:n.type==="string"?parseInt(n.data):n.data}))}function wl(){var n;re&&(CIB.config.features.supressSigninMessage=!0,CIB.config.strings.notificationMaxTurnsForMuidUsers=CIB.config.strings.notificationMaxTurnsPerConversation,CIB.config.strings.notificationUnauthorizedMuidUsersCta="");CIB.config.bing.requestLogin=((n=_w._sydMobNativeIntegration)===null||n===void 0?void 0:n.enableSydSappPrivateModeLogin)&&CIB.config.strings.signInCtaInPrivate!=undefined?function(){yu=!0;af(null);setTimeout(function(){SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"Navigation",action:"ClosePrivateMode"}},undefined)},200)}:function(){yu=!0;af(null);setTimeout(function(){y?location.replace("sapphire://settings"):ef()},200)}}function bl(){var n,t,i,r,u;(oe||se)&&(CIB.config.strings.creativeGreet=(n=_w._sydConvTranslation)===null||n===void 0?void 0:n.sydneySapphireGPT4Greet);CIB.config.strings.signInCtaInPrivate!=undefined&&(CIB.config.strings.signInCtaInPrivate=(t=_w._sydConvTranslation)===null||t===void 0?void 0:t.sydneySapphireInPrivateModeWelcomeCTA,CIB.config.strings.signInDescriptionInPrivate=(i=_w._sydConvTranslation)===null||i===void 0?void 0:i.sydneySapphireInPrivateModeWelcomeDescription,CIB.config.strings.notificationUnauthorizedInPrivateUsersCta=(r=_w._sydConvTranslation)===null||r===void 0?void 0:r.sydneySapphireInPrivateModeConversationLimitCTA,CIB.config.strings.notificationMaxTurnsForInPrivateUsers=(u=_w._sydConvTranslation)===null||u===void 0?void 0:u.sydneySapphireInPrivateModeConversationLimitDescription)}function bo(n){CIB.config.strings.mobileConsentDialogTitle=n.title;CIB.config.strings.mobileConsentDialogMessage=n.message;CIB.config.strings.mobileConsentDialogConfirm=n.confirm;CIB.config.strings.mobileConsentDialogDeny=n.deny}function kl(){var t,i,r,f,e,o;return u.os=="iOS"&&u.apiVersion&&u.apiVersion<44?!1:(o=l()?(r=(i=(t=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||t===void 0?void 0:t.data)===null||i===void 0?void 0:i.app)===null||r===void 0?void 0:r.recogVersion:(e=(f=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||f===void 0?void 0:f.app)===null||e===void 0?void 0:e.recogVersion,o>=1&&ic)}function dl(){var i,r,t=(r=(i=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||i===void 0?void 0:i.data)===null||r===void 0?void 0:r.isECEnabled;return t===null&&t===undefined?!1:typeof t=="string"?t==="true"?!0:!1:t}function ko(){var t,i,r,f,e,o;return u.os=="iOS"&&u.apiVersion&&u.apiVersion<44?!1:u.os=="Android"&&u.apiVersion&&u.apiVersion<74?!1:(o=l()?(r=(i=(t=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||t===void 0?void 0:t.data)===null||i===void 0?void 0:i.app)===null||r===void 0?void 0:r.recogVersion:(e=(f=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||f===void 0?void 0:f.app)===null||e===void 0?void 0:e.recogVersion,o>=2&&he)}function go(){var t,i,r,f,e,o;return u.os=="iOS"&&u.apiVersion&&u.apiVersion<44?!1:u.os=="Android"&&u.apiVersion&&u.apiVersion<74?!1:(o=l()?(r=(i=(t=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||t===void 0?void 0:t.data)===null||i===void 0?void 0:i.app)===null||r===void 0?void 0:r.recogVersion:(e=(f=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||f===void 0?void 0:f.app)===null||e===void 0?void 0:e.recogVersion,o>=3)}function gl(){var t,i,r,u,f;return w&&(l()?(r=(i=(t=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||t===void 0?void 0:t.data)===null||i===void 0?void 0:i.app)===null||r===void 0?void 0:r.nativeShare:(f=(u=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||u===void 0?void 0:u.app)===null||f===void 0?void 0:f.nativeShare)}function na(){var n=ta();return _w._sydMobNativeIntegration.enableSuperAppNewSignin&&n&&n>=1}function ta(){var t,i,r;return l()?(i=(t=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||t===void 0?void 0:t.data)===null||i===void 0?void 0:i.ver:(r=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||r===void 0?void 0:r.ver}function hf(){var n;return o((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSydPreloadAudioTTS,!0)}function ia(){var n;return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(f){switch(f.label){case 0:if(t=(n=_w._sydConvConfig)===null||n===void 0?void 0:n.evscamprd,!u||u.os==="iOS"&&u.apiVersion<46||u.os==="Android"&&u.apiVersion<53)return[2];if(!(!!t&&_w.SydneyNativeCameraProvider))return[3,5];_w.SydneyNativeCameraProvider.setPermissionProvider(ga);f.label=1;case 1:return f.trys.push([1,3,,4]),[4,_w.SydneyNativeCameraProvider.resolveAppConnectorInfoAsync(r)];case 2:return f.sent(),[3,4];case 3:return i=f.sent(),[3,4];case 4:return[2];case 5:return[2]}})})}function ra(n){var t=_d.getElementById("mobileProtectedHeader");t&&(t.style.marginTop="".concat(n,"px"))}function ua(n){var t,i,r,u=SydFSCHelper.getConfigOrDefault((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableBusinessHeader,!1),f=(r=(i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSCCToneDownHeader)!==null&&r!==void 0?r:!1,e=f?_d.getElementById("b_sydEnterpriseHeader"):_d.querySelector(".uds_sydney_wrapper.sapp #b_sydEnterpriseHeader"),o=_d.querySelector("#b_sydConvCont.hasCustomBusinessHeader");return!u||!e||!n||!o?!1:(_d.body.style.setProperty("--margin-height","".concat(n,"px")),!0)}function fa(n){d=n;t.logCriticalInfo("ConversationId",{payload:{conversationId:d!==null&&d!==void 0?d:"-"}});typeof PersonaGPTHandler!="undefined"&&PersonaGPTHandler.logNewConversation&&PersonaGPTHandler.logNewConversation(d)}function ns(){var n,i;t.logInfo("completeInitialization",{sysMsg:"LoadTime_Opt"+(((n=_w._sydConvConfig)===null||n===void 0?void 0:n.isSappMobileOptimizedOn)?"On":"Off"),payload:{value:Date.now()-performance.timing.navigationStart}});t.logCriticalInfo("ImpressionGuid",{payload:{IG:_G.IG}});c("debug")!="1"&&ea("referrerig",_G.IG);_w.CIB&&(CIB===null||CIB===void 0?void 0:CIB.version)&&t.logCriticalInfo("completeInitialization",{sysMsg:"CIBBuild",payload:{version:(i=CIB.version)===null||i===void 0?void 0:i.version}});t.logCriticalInfo("completeInitialization",{sysMsg:"LoadConfigs",payload:{isAADUser:re,isBCBSwitchEnabled:h,chatType:CIB.config.bingAtWork.chatType,isUserSignedIn:y,isSydchatPathEnabledForAll:ou,isStrictModeEnabled:su,isBasicTraffic:nc,isCopilotPro:hu}});oa(function(n){var i;n||(n=(i=_w._sydConvConfig)===null||i===void 0?void 0:i.sydIDs);t.logCriticalInfo("Flights",{payload:{flights:n}})})}function ea(n,t){var i=new URL(window.location.href);i.searchParams.set(n,t);window.history.pushState({},"",i)}function oa(n){try{SydFSCHelper.createRequest("sapphire/init","","GET").then(function(i){try{var u=JSON.parse(i.responseText);n(u.features)}catch(r){t.logError("getFeatures exception parsing response",{payload:{exception:{message:r.message,stack:r.stack}}})}})["catch"](function(n){t.logError("getFeatures error",{payload:{exception:{message:n.message,stack:n.stack}}})})}catch(i){t.logError("getFeatures exception",{payload:{exception:{message:i.message,stack:i.stack}}})}}function sa(n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(){try{if(!au)return t.logToSLAPI("writeLastVisitInfo client error",{payload:{message:"client name empty"}}),[2];i=ac?{appName:au,appVersion:u.clientVersion,os:n===null||n===void 0?void 0:n.platform,muid:n===null||n===void 0?void 0:n.MUID,userAgent:n===null||n===void 0?void 0:n.userAgent,deviceModelName:n===null||n===void 0?void 0:n.modelName,screenWidth:n===null||n===void 0?void 0:n.screenWidthPx,screenHeight:n===null||n===void 0?void 0:n.screenHeightPx,adid:(n===null||n===void 0?void 0:n.platform)==="ios"?n===null||n===void 0?void 0:n.userIDFA:n===null||n===void 0?void 0:n.ADID}:{appName:au,appVersion:u.clientVersion};SydFSCHelper.createRequest("sapphire/visit",JSON.stringify(i))["catch"](function(n){n.status!==200&&t.logToSLAPI("writeLastVisitInfo writing error",{payload:{message:"error writing to OS table"}})})}catch(r){t.logToSLAPI("writeLastVisitInfo request error",{payload:{exception:{message:r.message,stack:r.stack}}})}return[2]})})}function ts(){var n="/rewardsapp/reportActivity",r=_w.location.search.substring(1),t=window.data_iid,e;n+=t&&t.length>0?"?IG="+_G.IG+"&IID="+t+"&"+r:"?"+r;_w._H&&_w._H.mkt&&(n+="&src=hp");var i=sj_gx(),u="web",f=_ge("sw_meFlt");f&&(u=f.getAttribute("_V"));e="url=&V="+u;i.open("POST",n,!0);i.setRequestHeader("Content-type","application/x-www-form-urlencoded");i.send(e)}function ha(){return __awaiter(this,void 0,void 0,function(){var i,u;return __generator(this,function(f){switch(f.label){case 0:t.logInfo("getLaunchInformation",{sysMsg:"requesting the launch information"});f.label=1;case 1:return f.trys.push([1,3,,4]),[4,SuperAppBridge.requestCustomAsync({partner:e,appId:r,data:{scenario:"Navigation",action:"GetLaunchInfo"}})];case 2:return i=f.sent(),i=typeof i=="string"?JSON.parse(i):i,n.initData.launchInfo=i,[3,4];case 3:return u=f.sent(),t.logError("getLaunchInformation",{sysMsg:"failure to parse the launch information"}),[3,4];case 4:return[2]}})})}function is(i){var r,u,f,e,o,s;(i===null||i===void 0?void 0:i.isDarkMode)!==n.isDarkTheme&&(t.logInfo("applyColourScheme",{sysMsg:"colorscheme changed"}),CIB.changeColorScheme&&(t.logInfo("applyColourScheme",{sysMsg:"calling changeColorScheme"}),n.isDarkTheme=i===null||i===void 0?void 0:i.isDarkMode,CIB.changeColorScheme(n.isDarkTheme?1:0),va(n.isDarkTheme)),s=(f=((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSCCToneDownHeader)||((u=_w._sydMobNativeIntegration)===null||u===void 0?void 0:u.enableSCCToneDownHeader))!==null&&f!==void 0?f:!1,(SydFSCHelper.getConfigOrDefault((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableBusinessHeader,!1)&&SydFSCHelper.getConfigOrDefault((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableDarkModeOnSharedControlForSappBcb,!1)||s)&&MsbSydneyHelper_mobile.changeColorSchemeForSnrSharedControls(i===null||i===void 0?void 0:i.isDarkMode))}function ca(t,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,n.switchUserAccountUtils(t,i,u)]})})}function la(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,n.addUserAccountUtils(u)]})})}function aa(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,n.getUserInfoUtils(u)]})})}function va(n){var i,r,u,f,e;try{if(e=(f=(u=(r=(i=_qs(".cib-serp-main"))===null||i===void 0?void 0:i.shadowRoot)===null||r===void 0?void 0:r.querySelector("cib-conversation"))===null||u===void 0?void 0:u.shadowRoot)===null||f===void 0?void 0:f.querySelectorAll("cib-chat-turn"),!e)return;e.forEach(function(i){var f,e,o,s,h,r,u;try{r=(h=(s=(o=(e=(f=i.shadowRoot)===null||f===void 0?void 0:f.querySelector(".response-message-group"))===null||e===void 0?void 0:e.shadowRoot)===null||o===void 0?void 0:o.querySelector('[type="host"]'))===null||s===void 0?void 0:s.shadowRoot)===null||h===void 0?void 0:h.querySelector("iframe");r&&(u=new URL(r.src),n?u.searchParams.append(kf,"1"):u.searchParams["delete"](kf),r.src=u.toString())}catch(c){t.logError("tryReapplyThemeForIframes",{sysMsg:"failed to reapply theme for iframe",payload:c})}})}catch(o){t.logError("tryReapplyThemeForIframes",{sysMsg:"failed to reapply theme for iframes",payload:o})}}function ya(n){var i=n.clientVersion,t=i.split(".");return t.length!==3?"0.0.0":(t[0].length!==2&&(i=t[1]+"."+t[2]+"."+t[0]),i)}function pa(n,t){var i=ya(n);return i>=t}function rs(n){return(n===null||n===void 0?void 0:n.clientVersion)?pa(n,"28.3.420513001"):!1}function wa(){return typeof localStorage=="undefined"||localStorage===null?!1:localStorage.getItem(ph)===null}function ba(){var i,u,n;t.logInfo("getLocationInfo",{sysMsg:"getLocationPermission started"});((u=(i=CIB.config.sydney)===null||i===void 0?void 0:i.message)===null||u===void 0?void 0:u.locationHints)||(CIB.config.sydney.message.locationHints=[],n=CIB.config.sydney.message.locationinfo,n&&n.latitude&&n.longitude?(n.Center={Latitude:n.latitude,Longitude:n.longitude},delete n.latitude,delete n.longitude,n.RegionType=2,n.SourceType=1,CIB.config.sydney.message.locationHints.push(n)):t.logInfo("getLocationPermission",{sysMsg:"skip setting revip",payload:n}));h||(CIB.config.sydney.message.locationinfo=null);ce&&(!ce||wa())||SuperAppBridge.requestPermission({appId:r,permission:"location",showConsent:!1},function(n){try{n=typeof n=="string"?JSON.parse(n):n;t.logInfo("getLocationInfo",{sysMsg:"getLocationPermission completed",payload:n});(n===null||n===void 0?void 0:n.granted)==!0&&(t.logInfo("getLocationInfo",{sysMsg:"getLocationInfo started"}),SuperAppBridge.getLocationInfo({appId:r,refresh:!1,fallbackRevIP:!0,detectCity:!0},function(n){var r,u,f,i;try{n=typeof n=="string"?JSON.parse(n):n;i=ka(n);i&&i.Center?(CIB.config.sydney.message.locationHints=(f=(u=(r=CIB.config.sydney)===null||r===void 0?void 0:r.message)===null||u===void 0?void 0:u.locationHints)===null||f===void 0?void 0:f.filter(function(n){return n.SourceType!=5}),i.RegionType=1,i.SourceType=5,CIB.config.sydney.message.locationHints.push(i)):t.logInfo("getLocationPermission",{sysMsg:"skip setting nativeDeviceLocation"});h||(CIB.config.sydney.message.locationinfo=null)}catch(e){t.logError("getLocationInfo",{sysMsg:"getLocationInfo parsing the location information failed"})}}))}catch(i){t.logError("getLocationInfo",{sysMsg:"getLocationPermission parsing the location permission failed"})}})}function ka(n){if(!n||!n.lat||!n.lng)return null;var t={};return t.Center={Latitude:parseFloat(n.lat),Longitude:parseFloat(n.lng)},t}function da(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(i){switch(i.label){case 0:return t.logInfo("getMicPermission",{sysMsg:"started"}),[4,SuperAppBridge.requestPermissionAsync({appId:r,permission:"microphone"})];case 1:n=i.sent();try{n=typeof n=="string"?JSON.parse(n):n;n&&n.granted?vf(pt,"granted"):vf(pt,"denied")}catch(u){vf(pt.state,"denied");t.logError("getMicPermission",{sysMsg:"failure to parse permission response"})}return[2,pt]}})})}function ga(){var n;return __awaiter(this,void 0,void 0,function(){var i,u;return __generator(this,function(f){switch(f.label){case 0:return t.logInfo("getCameraPermission",{sysMsg:"started"}),[4,SuperAppBridge.requestPermissionAsync(__assign({appId:r,permission:"camera"},((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableShowPermissionPrompt)&&{showPermissionPrompt:!0}))];case 1:i=f.sent();u=nt.Pending;try{i=typeof i=="string"?JSON.parse(i):i;u=i&&i.granted?nt.Granted:nt.Denied}catch(e){u=nt.Denied;t.logError("getCamPermission",{sysMsg:"failure to parse permission response"})}return[2,u]}})})}function lt(t){var i;t=typeof t=="string"?JSON.parse(t):t;t.type&&t.type!=3&&t.type!=4||(yu&&y&&CIB.resetConversation(),n.shouldIgnoreLaunch(t,vt,de)||(de=t,nv(t)));t.type==1&&CIB.stopReadOutLoud&&CIB.stopReadOutLoud();t.type==6&&bu&&(bu=!1,(i=CIB.handleAppVisibilityChange)===null||i===void 0?void 0:i.call(CIB));t.type==5&&(bu=!0,ut=!1);n.registerWatchListener(lt);ee&&co()}function cf(n){try{if(!n||!n.data)return t.logInfo("parseResultData",{sysMsg:"result or result.data is null"}),null;if(typeof n.data=="object")return n.data;var i=n.data;return i.startsWith("%7B")&&i.endsWith("%7D")&&(i=decodeURIComponent(i)),JSON.parse(i)}catch(r){return t.logError("parseResultData",{sysMsg:"failure to parse the data"}),null}}function nv(i){var r,e,o,s,c,a,p;return __awaiter(this,void 0,void 0,function(){var it,rt,d,nt,w,ft,et,ot;return __generator(this,function(st){switch(st.label){case 0:if(t.logCriticalInfo("viewBackOnline",i),!io())return rl(),[2];if(vt&&hs(null),n.setFullScreenModeStatusBar(!0,u,b),n.logValidSydneyView(),k==1){n.logResourceTimingEvents();ba();CIB.onInputMethodChanged(function(n){localStorage.setItem(eu,n);ge&&n=="Speech"&&g=="Keyboard"&&(CIB.inputMethod=g);ge=!1});it=localStorage.getItem(ne);rt=SydFSCHelper.getCookieTone();it&&it!==rt&&t.logError("onResponseToneChanged",{sysMsg:"local storage tone is different from tone cookie tone",payload:{localStorageTone:it,cookieTone:rt}});CIB.onResponseToneChanged(function(n){localStorage.setItem(ne,n);t.logCriticalInfo("onResponseToneChanged",{payload:{newResponseTone:n}})});CIB.onResponseRendered(function(){t.logPageEvent("PAGE_ACTION_SYDNEY","ResponseRendered");sj_evt.fire("SapphireResponseRendered")});f===null||f===void 0?void 0:f.registerConversationResetHandler(function(){yt&&(t.logInfo("onResetConversation",{sysMsg:"Send query after clear"}),lf(yt,"onResetConversation"),yt=null)});CIB.onConversationRequestStateChange&&(f===null||f===void 0?void 0:f.registerConversationRequestStateHandler(function(i){var r;i&&(t.logPageEvent("PAGE_ACTION_SYDNEY","MessageSent"),t.logAdjustEvent(t.AdjustMessage.CHAT_SENT,{isPro:hu,isUserSignedIn:y,isMSA:(r=_w._sydMobNativeIntegration)===null||r===void 0?void 0:r.isMSAAuthenticated}));n.chatResponding=i}))}fe&&uv();st.label=1;case 1:if(st.trys.push([1,4,5,6]),d=typeof i=="string"?JSON.parse(i):i,!(d&&d.success))return[3,3];if(l()&&(d=d.data),nt=!1,v=d===null||d===void 0?void 0:d.appId,w=null,d.data&&(w=cf(d),(w===null||w===void 0?void 0:w.chatMode)&&CIB.responseTone&&(nt=CIB.responseTone!==no[w===null||w===void 0?void 0:w.chatMode],nt&&!ti()&&(CIB.config.greeting.shouldSendBotGreeting=!1,CIB.resetConversation()),tt=nt,yt=d.query,CIB.responseTone=no[w===null||w===void 0?void 0:w.chatMode]),ft=(r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableNotebookUrlParam,ft&&(w===null||w===void 0?void 0:w.showntbk)==="1"&&SydFSCHelper.setNotebookOptions(),(w===null||w===void 0?void 0:w.shareId)&&CIB.loadSharedConversation&&(tt=!0,pu=!0,CIB.loadSharedConversation(w===null||w===void 0?void 0:w.shareId)),(w===null||w===void 0?void 0:w.deeplinkOrigin)&&(uf=w===null||w===void 0?void 0:w.deeplinkOrigin),(w===null||w===void 0?void 0:w.appId)&&(v=w===null||w===void 0?void 0:w.appId),(w===null||w===void 0?void 0:w.articleId)&&(ht=w===null||w===void 0?void 0:w.articleId),(w===null||w===void 0?void 0:w.articleTitle)&&(kt=w===null||w===void 0?void 0:w.articleTitle),(w===null||w===void 0?void 0:w.action)&&(rf=w.action),(w===null||w===void 0?void 0:w.articleUrl)&&(dt=w===null||w===void 0?void 0:w.articleUrl),(w===null||w===void 0?void 0:w.market)&&(gt=w===null||w===void 0?void 0:w.market),(w===null||w===void 0?void 0:w.entityName)&&(tl=w===null||w===void 0?void 0:w.entityName),(w===null||w===void 0?void 0:w.serpContext)&&CIB.registerContext(w===null||w===void 0?void 0:w.serpContext),(w===null||w===void 0?void 0:w.convMessages)&&CIB.registerContext(w===null||w===void 0?void 0:w.convMessages),!h&&((e=w===null||w===void 0?void 0:w.scenario)===null||e===void 0?void 0:e.toLowerCase())==="suno"&&CIB.togglePlugin&&((c=(s=(o=CIB.vm)===null||o===void 0?void 0:o.conversation)===null||s===void 0?void 0:s.sidePanel)===null||c===void 0?void 0:c.pluginPanel)&&tv().then(function(){CIB.togglePlugin(pc,!0)})),n.getDeviceInfo().then(function(n){is(n);SydFSCHelper.setSpeechLanguageConfig(n===null||n===void 0?void 0:n.speechLanguage)})["catch"](function(n){t.logError("viewBackOnline",{sysMsg:"failure to get device info",payload:n})}),ff=!1,n.logAADSignInStatus(h,"viewBackOnline"),iv(),g=hv(d.entry,d.mode,d.query),g=="Camera"?(t.logInfo("triggerMobileCamera",{sysMsg:"started"}),CIB.triggerMobileCamera(),ut=!0):CIB.inputMethod=g,lv(d.entry,g)&&ol(),os(d)&&!nt)(w===null||w===void 0?void 0:w.suggChipText)?lf(w.suggChipText,"viewBackOnline",d.entry,!0):lf(d.query,"viewBackOnline",d.entry);else if(et=SydFSCHelper.getConfigOrDefault((a=_w._sydConvConfig)===null||a===void 0?void 0:a.disableBotGreeting,!1),tt||k!=1||(w===null||w===void 0?void 0:w.shareExtensionData)||_w._sydConvTestConfig&&!((p=_w._sydConvTestConfig)===null||p===void 0?void 0:p.enableGeeting)||h||et||(tt=!0,CIB.addBotGreeting(!1)),d.entry&&CIB.inputMethod==="Speech"&&!pv())switch(d.entry){case"CopilotKeywordRecognition":CIB.cancelPendingRequest();case"HomePageSearchBox":case"SearchPageHeader":case"IABHeader":case"MiniAppHeader":case"SearchWidget":case"CopilotChatWidget":case"QFSearchBox":case"AppIntents":CIB.triggerMic();break;default:wv()&&CIB.triggerMic()}return[4,ov(d)];case 2:st.sent();pu=!1;uf="";ht="";gt="";st.label=3;case 3:return[3,6];case 4:return ot=st.sent(),t.logError("viewBackOnline",{sysMsg:"failure to parse the result",payload:ot}),[3,6];case 5:return k==1&&(ku?f===null||f===void 0?void 0:f.registerConversationResetHandler(us):sj_evt.fire(SydWelcomeScreenBase.SHOW_WELCOME_SCREEN_V2_TILES_EVENT)),[7];case 6:return k=2,setTimeout(function(){var n,t,i=SydFSCHelper.getConfigOrDefault((n=_w._sydConvConfig)===null||n===void 0?void 0:n.disableBotGreeting,!1);CIB.config.greeting.shouldSendBotGreeting=!i&&(!ti()||!_w._sydConvTestConfig||((t=_w._sydConvTestConfig)===null||t===void 0?void 0:t.enableGeeting))},1e3),[2]}})})}function tv(){return new Promise(function(n){var t;if(((t=CIB.vm.conversation.sidePanel.pluginPanel.pluginList)===null||t===void 0?void 0:t.length)>0)n();else CIB.vm.conversation.sidePanel.pluginPanel.onPluginsLoaded(function(){n()})})}function iv(){h&&SydFSCHelper.getConfigOrDefault(_w._sydMobNativeIntegration.enableSappBcbRefreshWhenTokenExpired,!1)&&(n.isAADSignedIn()||n.reloadPageUsingDeeplink("BCBTokenRefresh"))}function us(){sj_evt.fire(SydWelcomeScreenBase.SHOW_WELCOME_SCREEN_V2_TILES_EVENT);f===null||f===void 0?void 0:f.unRegisterConversationResetHandler(us)}function fs(n,i){return t.logInfo("shouldAutoLaunchCamera",{payload:{isCameraModeAutoLaunched:ut,featureFlag:lu}}),i==="CameraFirst"&&n in wt&&CIB.triggerMobileCamera&&lu&&!ut}function rv(n,t){return t==="CameraFirst"&&n in wt&&CIB.triggerMobileCamera&&lu}function lf(i,r,u,f){var e=decodeURIComponent(i);if(e.indexOf("+")>0&&t.logCriticalInfo("submitQuery",{payload:{reason:"+ character dected",query:e,caller:r}}),u&&u==="DeepLink"&&(uf!==ke||f))CIB.config.greeting.shouldSendBotGreeting=!1,CIB.resetConversation();else if(n.chatResponding){CIB.inputMethod="Keyboard";CIB.setActionBarInputText(e);return}sj_evt.fire("SydSendFirstQuery",[e]);ku=!0}function es(n){CIB.addMessage(n);ku=!0}function uv(){return __awaiter(this,void 0,void 0,function(){var r,u,f,n,i,o,e;return __generator(this,function(s){switch(s.label){case 0:t.logInfo("continueConversationFromDesktop",{sysMsg:"started"});f=sj_cook.get(wh,bh);f&&f!==""||t.logInfo("continueConversationFromDesktop",{sysMsg:"Empty ANID"});s.label=1;case 1:return s.trys.push([1,3,,4]),[4,SydFSCHelper.createRequest("sydchat/readConvInfo","")];case 2:return(n=s.sent(),!(n===null||n===void 0?void 0:n.response)||(n===null||n===void 0?void 0:n.response)==="")?(t.logInfo("continueConversationFromDesktop",{sysMsg:"Empty convInfo"}),[2]):(i=JSON.parse(n===null||n===void 0?void 0:n.response),r=i===null||i===void 0?void 0:i.convId,u=i===null||i===void 0?void 0:i.responseTone,t.logInfo("continueConversationFromDesktop",{payload:{convId:r}}),[3,4]);case 3:return o=s.sent(),t.logError("continueConversationFromDesktop",{sysMsg:"error while parse response"}),[2];case 4:return(r&&u in ot&&CIB.copyConversation)?[4,ip(r)]:[3,6];case 5:e=s.sent();e===!0&&(t.logCriticalInfo("continueConversationFromDesktop",{sysMsg:"copy conversation from desktop",payload:{convId:r,responseTone:u}}),CIB.responseTone=u,CIB.copyConversation(r));SydFSCHelper.createRequest("sydchat/writeConvInfo",JSON.stringify({convId:"",responseTone:""}));s.label=6;case 6:return[2]}})})}function fv(){var n;return __awaiter(this,void 0,void 0,function(){var r,i,u;return __generator(this,function(f){switch(f.label){case 0:t.logInfo("readSuggestions",{sysMsg:"started"});f.label=1;case 1:return f.trys.push([1,3,,4]),[4,SydFSCHelper.createRequest("sydchat/readSuggestions","")];case 2:return i=f.sent(),r=(n=JSON.parse(i===null||i===void 0?void 0:i.response))===null||n===void 0?void 0:n.suggestions,[3,4];case 3:return u=f.sent(),t.logError("readSuggestions",{sysMsg:"error while parse response"}),[2];case 4:return r&&ev(r),[2]}})})}function ev(n){switch(n.length){case 0:break;case 1:CIB.config.strings.welcomeMobSugg1=n[0];break;case 2:CIB.config.strings.welcomeMobSugg1=n[0];CIB.config.strings.welcomeMobSugg2=n[1];break;default:CIB.config.strings.welcomeMobSugg1=n[0];CIB.config.strings.welcomeMobSugg2=n[1];CIB.config.strings.welcomeMobSugg3=n[2]}}function ov(n){return __awaiter(this,void 0,void 0,function(){var i,r;return __generator(this,function(u){switch(u.label){case 0:return(u.trys.push([0,5,,6]),i=cf(n),!(i===null||i===void 0?void 0:i.shareExtensionData))?[3,2]:[4,ly(i===null||i===void 0?void 0:i.shareExtensionData)];case 1:return u.sent(),[3,4];case 2:return[4,sv(n)];case 3:u.sent();u.label=4;case 4:return[3,6];case 5:return r=u.sent(),t.logError("onPostViewDisplayed",{sysMsg:"failure to parse the data"}),[3,6];case 6:return[2]}})})}function sv(n){return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(u){switch(u.label){case 0:return(t.logInfo("getContext",{payload:{contextualSydneyVersion:wu}}),!(wu>0))?[3,2]:[4,cy(v)];case 1:return r=u.sent(),[3,3];case 2:r=n.context;u.label=3;case 3:return i=r,i&&t.logInfo(s,{sysMsg:"sydneyWebPageLaunch"}),[4,bs(!os(n))];case 4:return u.sent(),[2]}})})}function os(n){return n.query&&!pu&&cv(n.entry)}function hv(n,i,r){var u,f,e=localStorage.getItem(eu),s=SydFSCHelper.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isBootstrapperSupported,!1),c=SydFSCHelper.getConfigOrDefault((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableInputMethodKeyboardAlways,!1),o;if((t.logInfo("getInputModeOnOpen",{payload:{lastInputMethod:e}}),h)||s&&c)return"Keyboard";switch(n){case"Notification":case"DesktopGPTV":case"UniversalLink":return fs(n,i)?"Camera":"Keyboard";case"CopilotChatWidget":return rv(n,i)?"Camera":i==="VoiceFirst"?"Speech":"Keyboard";case"HomePageSearchBox":case"SearchPageHeader":case"IABHeader":case"MiniAppHeader":case"SearchWidget":case"QFSearchBox":case"AppIntents":case"CopilotKeywordRecognition":return"Speech";case"DeepLink":return(i=="VoiceFirst"||i=="Default"&&e=="Speech")&&r!=null?"Speech":fs(n,i)?"Camera":"Keyboard";case"FREPage":case"QFDeepLink":case"AppFre":case"SearchWidgetBingLogo":case"CopilotLockScreenWidget":case"UnifiedCamera":return"Keyboard";default:switch(e){case"Speech":return"Speech";case"Keyboard":return"Keyboard";default:return o=vv()?"Speech":"Keyboard",t.logToSLAPI("lastInputMethod",{sysMsg:"default"}),localStorage.setItem(eu,o),o}}}function cv(n){switch(n){case"HomePageSearchBox":case"SearchPageHeader":case"IABHeader":case"MiniAppHeader":case"SearchWidget":case"CopilotChatWidget":case"CopilotLockScreenWidget":case"QFSearchBox":return!1;default:return!0}}function lv(n,t){var i,r=(i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSuperAppKeyboardPopup,u=n in tf&&t==="Keyboard",f=n==="QFDeepLink"||n==="AppFre";return u||f&&r}function ti(){return vu==undefined&&(vu=c("test")!=undefined),vu}function l(){return ro("preload")}function ss(){var t,i,r,u,f;return l()?((r=(i=(t=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||t===void 0?void 0:t.data)===null||i===void 0?void 0:i.app)===null||r===void 0?void 0:r.readout)!=a.Never:((f=(u=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||u===void 0?void 0:u.app)===null||f===void 0?void 0:f.readout)!=a.Never}function hs(t){var s,h,a,v,y,p,i,d,f,u,o,g,nt,tt;if(_w.location.pathname!="/sydchat"){var w="sapphire://sydney?mode=Default",b=t&&t.length>1?t[1]:null,it=t&&t.length>2?t[2]:null,rt=t&&t.length>5?t[5]:null,ut=t&&t.length>3?t[3]:null;b||(b=c("q"));w+="&q=".concat(encodeURIComponent(b).replace(/%2B/g,"%20"));i={deeplinkOrigin:ke};d=c("shareId");d&&(i.shareId=d);ti()&&sj_evt.fire("SydSappOpenChatScopeEventFired");cc&&(f=SydFSCHelper.getActiveSuggestionChipText(),f||(f=SydFSCHelper.getTigActiveSuggestionChipText()),u=(a=(h=(s=CIB===null||CIB===void 0?void 0:CIB.vm)===null||s===void 0?void 0:s.conversation)===null||h===void 0?void 0:h.model)===null||a===void 0?void 0:a.messages,u&&u.length>0&&(u=u.slice(0,2).map(function(n){return{author:n.author,text:n.text}})),f&&(i.suggChipText=f),u&&(i.convMessages=u));uc&&(o=[],rt&&o.push({author:"user",text:rt}),it&&o.push({author:"bot",text:it}),o.length!=0&&(i.serpContext=o,i.upsellCampaign="X+Sydney"));ut&&(i.upsellCampaign=ut);fc&&(g=(v=_qs(".entv2_fact_text a"))===null||v===void 0?void 0:v.textContent,g&&(i.entityName=g));w+="&data=".concat(encodeURIComponent(JSON.stringify(i)));location.replace(w);((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableFixChatScopeActive)&&(nt=_ge("b-scopeListItem-web"),nt&&Lib.CssClass.add(nt,"b_active"),tt=_ge("b-scopeListItem-conv"),tt&&Lib.CssClass.remove(tt,"b_active"));((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableHideConvMode)&&Lib.CssClass.remove(sj_b,"b_sydConvMode");return}document.getElementsByTagName("html")[0].style.backgroundColor="transparent";document.getElementsByTagName("body")[0].style.backgroundColor="transparent";k==0?(k=1,l()?lt(n.initData.launchInfo):SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"LifeCycle",action:"WebViewReady"}},function(){lt(n.initData.launchInfo)}),oc?sj_evt.fire(kh):ec&&sj_evt.fire(SydWelcomeScreenBase.SHOW_WELCOME_SCREEN_V2_HEADER_EVENT)):(CIB.showConversation(),vt=!1)}function af(){setTimeout(function(){t.logInfo("exitSydney",{sysMsg:"navigation hide"});SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"Navigation",action:"Hide"}},undefined)},b?0:500);CIB.hideConversation();n.setFullScreenModeStatusBar(!1,u,b);vt=!0;rt=!0;ut=!1}function vf(n,i){t.logInfo("handleMicPermissionChange",{payload:{currentStatus:n.state,newStatus:i}});n.state=i;try{n.onchange()}catch(r){t.logError("handleMicPermissionChange",{sysMsg:"error while calling onchange()"})}}function cs(n,i,u,f){return u===void 0&&(u=!0),hf()&&u&&(t.logInfo("getTextToSpeechProvider",{payload:{action:"preload",url:n}}),SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"AudioPlayback",url:n,action:"preload"}},undefined)),{play:function(){t.logInfo("AudioPlayback",{payload:{action:"play",status:"started",url:n,exp:hf()?"preloadtts":undefined}});SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"AudioPlayback",exp:hf()?"preloadtts":undefined,url:n,action:"play"}},function(){t.logInfo("AudioPlayback",{payload:{action:"play",status:"Finished",url:n}});i()});f&&f()},stop:function(){t.logInfo("AudioPlayback",{payload:{action:"stop",url:n}});SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"AudioPlayback",url:n,action:"stop"}},function(){})}}}function c(n){var t=new URLSearchParams(_w.location.search);return t.get(n)}function av(){var n=c(lh);return n!=undefined}function vv(){var n,t,i=o((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSapphireSydVoiceExp,!0),r=(t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableSydneySapphireKeyboardFirst;return(yv()||i)&&!r}function yv(){var n=c(fu);return n=="en"}function pv(){var n=c(bf);return n&&(n===null||n===void 0?void 0:n.split(",").indexOf(vh))!==-1}function wv(){var n=c(bf);return n&&(n===null||n===void 0?void 0:n.split(",").indexOf(yh))!==-1}function ii(){var n=c(ah);return n!=undefined}function bv(n){var i;return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return((i=_w._sydConvConfig)===null||i===void 0?void 0:i.disableNativeDownload)?(t.logWarning("downloadImage",{sysMsg:"native download provider not enabled"}),[2]):(SuperAppBridge.navigate({partner:e,appId:r,action:"requestDownload",dataType:n===null||n===void 0?void 0:n.dataType,url:n===null||n===void 0?void 0:n.url,mimeType:n===null||n===void 0?void 0:n.mimeType,filename:n===null||n===void 0?void 0:n.filename,ext:{origin:n===null||n===void 0?void 0:n.origin}},undefined),[2])})})}function kv(n){var i,u,f,o;return __awaiter(this,void 0,void 0,function(){var s,h;return __generator(this,function(c){switch(c.label){case 0:return CIB.config.features.enableNativeShare?(s={partner:e,appId:r,action:"requestShare",ext:{origin:(i=n.meta)===null||i===void 0?void 0:i.origin}},at&&((u=n===null||n===void 0?void 0:n.meta)===null||u===void 0?void 0:u.origin)==="suno"||(s.title=n===null||n===void 0?void 0:n.title),(n===null||n===void 0?void 0:n.type)!=="image"&&at&&((f=n===null||n===void 0?void 0:n.meta)===null||f===void 0?void 0:f.origin)==="suno"||(s.image=(o=n===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.src),[4,dv(n)]):(t.logWarning("shareContent",{sysMsg:"native share provider not enabled"}),[2]);case 1:return h=c.sent(),h&&(s.content=h),SuperAppBridge.navigate(s,undefined),[2]}})})}function dv(n){var t,i,r;return __awaiter(this,void 0,void 0,function(){var u,e,o,f;return __generator(this,function(s){switch(s.label){case 0:e=n.type.toString();switch(e){case"text".toString():return[3,1];case"link".toString():return[3,2];case"image".toString():return[3,4]}return[3,5];case 1:return u=(t=n===null||n===void 0?void 0:n.content)===null||t===void 0?void 0:t.text,[3,5];case 2:return o=(i=n===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.link,[4,ls(o)];case 3:return f=s.sent(),u=at&&((r=n===null||n===void 0?void 0:n.meta)===null||r===void 0?void 0:r.origin)==="suno"?f:"".concat(n===null||n===void 0?void 0:n.description," ").concat(f),[3,5];case 4:return u="",[3,5];case 5:return[2,u]}})})}function ls(n){var i;return __awaiter(this,void 0,void 0,function(){var f,u,r;return __generator(this,function(e){switch(e.label){case 0:if(!n)return[2];if(f=!!((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isCopilotChat),f)try{u=new URL(n);u.hostname=ri;u.pathname.includes("sydchat")&&(u.pathname="");n=u.toString()}catch(o){t.logWarning("shareLink",{sysMsg:"Invalid url while converting to copilot url, defaulting to regex replace\n".concat(n)});n=n.replace(/(www\.)?bing\.com\/(sydchat|search)/g,"".concat(ri,"/"))}else n=n.replace(/\/sydchat/g,"/search");return n=n.replace(/((&)*setlang=([^&]*))|((&)*cc=([^&]*))/g,""),[4,Sharing.GetShareLink.getShareLink(document.createElement("html"),n,!0)];case 1:return r=e.sent(),r||t.logWarning("shareLink",{sysMsg:"failed to retrieve shortened URL"}),r=r!==null&&r!==void 0?r:n,f&&pe&&yf(n)==="suno"&&(r=r===null||r===void 0?void 0:r.replace(/sl.bing.net/g,"copilot.microsoft.com/sl")),[2,r]}})})}function gv(n,i){var r,u,f;return __awaiter(this,void 0,void 0,function(){var e,l,h,s,a,c;return __generator(this,function(v){switch(v.label){case 0:return(pe&&yf(n)==="suno")?[4,ls(n)]:[3,2];case 1:return e=v.sent(),[3,4];case 2:if(l=!!((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isCopilotChat),h=o((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableAnswerBridgeShare,!1),n=h?n.toString().replace(/\/sydchat/g,"/search"):n.replace(/\/sydchat/g,"/search"),l)try{s=new URL(n);s.hostname=ri;h&&dh.indexOf(s.pathname)!==-1||(s.pathname="");n=s.toString()}catch(y){t.logWarning("shareLink",{sysMsg:"Invalid url while converting to copilot url, defaulting to regex replace\n".concat(n)});n=n.replace(/(www\.)?bing\.com\/search/g,"copilot.microsoft.com/")}return n=n.replace(/((&)*setlang=([^&]*))|((&)*cc=([^&]*))/g,""),[4,Sharing.GetShareLink.getShareLink(document.createElement("html"),n,!0)];case 3:e=v.sent();v.label=4;case 4:return e?(a=at&&yf(n)==="suno",c=a?e!==null&&e!==void 0?e:n:((f=_w._sydConvTranslation)===null||f===void 0?void 0:f.feedbackLinkShareTitle)+" "+(e!==null&&e!==void 0?e:n),w&&i?pf(c):as(c),[2]):(t.logWarning("shareLink",{sysMsg:"failed to retrieve shortened URL"}),w&&pf(),[2])}})})}function yf(n){return n.includes("/videos/music")?"suno":undefined}function as(n){t.logInfo("shareText",{sysMsg:"requested"});SuperAppBridge.navigate({action:"requestShare",appId:r,content:n},undefined)}function ny(i){t.logInfo("copyToClipboard",{sysMsg:"started"});SuperAppBridge.requestCustom({partner:"scaffolding",appId:r,action:"setClipboard",data:{type:"text",text:{value:i}}},function(){var i;n.isIOS()&&(t.logInfo("copyToClipboard",{sysMsg:"toast requested"}),SuperAppBridge.requestSnackBar({message:(i=_w._sydConvTranslation)===null||i===void 0?void 0:i.sydneySapphireCopyToClipboardText,appId:r},undefined))})}function vs(n,t){return n&&t?"#### ".concat(n,"\n\n").concat(t):n?"#### ".concat(n):t}function ys(n){if(!(n===null||n===void 0?void 0:n.text)&&!(n===null||n===void 0?void 0:n.title))throw new Error("At least Title or Text is required for text only card");return{author:"bot",adaptiveCards:[{type:"AdaptiveCard",body:[{type:"TextBlock",text:vs(n.title,n.text),wrap:!0}]}]}}function ty(n){var t;if(!(n===null||n===void 0?void 0:n.imageUrl)||!(n===null||n===void 0?void 0:n.text)&&!(n===null||n===void 0?void 0:n.title))throw new Error("Image and text or title are required for text with image card");return{text:"",author:"bot",offense:"None",adaptiveCards:[{type:"AdaptiveCard",version:"1.0",id:"entity-image-top",body:[{type:"Image",url:n.imageUrl,altText:"".concat((t=n.title)!==null&&t!==void 0?t:n.text),width:"320px",height:"189px"},{type:"TextBlock",size:"small",text:vs(n.title,n.text),wrap:!0}]}]}}function ps(n,t){switch(n){case"TextOnly":return{actualCard:ys(t)};case"ImageWithText":return{actualCard:ys(t),visualCard:ty(t)};default:throw new Error("Invalid adaptive card type");}}function iy(){t.logInfo("sendFeedback",{sysMsg:"started"});var n={action:"requestNativePage",deeplink:"sapphire://feedback",appId:r};u&&u.apiVersion&&u.apiVersion>=52&&CIB&&CIB.manager&&CIB.manager.conversation&&(n.additionalInfo="BingChatConversationId=".concat(CIB.manager.conversation.id));SuperAppBridge.navigate(n,undefined)}function pf(n){var i;return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return t.logInfo("shareConversation",{sysMsg:"started"}),w?SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"Share",action:n?"ShareLinkAndScreenshot":"ShareScreenshot",content:n}},undefined):SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"Share",action:"Upsell",content:(i=_w._sydConvTranslation)===null||i===void 0?void 0:i.sydneySapphireUpsellContent,link:"https://bingapp.microsoft.com/bing?adjust=gfv2crx_717ll9t&style=sydney",waterMarkTemplate:1}},undefined),[2]})})}function ws(r){var u;return __awaiter(this,void 0,void 0,function(){var f,e,o;return __generator(this,function(h){switch(h.label){case 0:return[4,hy(r)];case 1:return f=h.sent(),ii()&&CIB.addBotGreeting(2,"Registered context: ".concat(f),[]),e={author:"user",description:f,contextType:"WebPage",messageType:"Context",sourceName:i===null||i===void 0?void 0:i.title,sourceUrl:i===null||i===void 0?void 0:i.url,locale:(u=c(fu))!==null&&u!==void 0?u:""},n.isContextRegistered=!0,o=[e],CIB.registerContext(o),t.logInfo(s,{sysMsg:"sydneyPageContextRegistered"}),[2]}})})}function bs(t){return t===void 0&&(t=!0),__awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return(ht&&gt)?[4,fy()]:[3,2];case 1:return r.sent(),[2];case 2:return[4,ey(i===null||i===void 0?void 0:i.url)];case 3:if(!r.sent())return f===null||f===void 0?void 0:f.unRegisterConversationResetHandler(ui),[2];r.label=4;case 4:return[4,n.registerContextUsingEdgeServices(t)];case 5:return r.sent(),f===null||f===void 0?void 0:f.registerConversationResetHandler(ui),[2]}})})}function ui(){i&&(n.isContextRegistered=!1,bs())}function ry(){var n,t,i,r,u;switch(rf){case"summarize":return(n=_w._sydConvTranslation)===null||n===void 0?void 0:n.articleContextSummarizeActionActualPrompt;case"top-questions":return(t=_w._sydConvTranslation)===null||t===void 0?void 0:t.articleContextTopQuestionsActionActualPrompt;case"key-takeaways":return(i=_w._sydConvTranslation)===null||i===void 0?void 0:i.articleContextTakeawaysActionActualPrompt;case"360-degree-panel":return(r=_w._sydConvTranslation)===null||r===void 0?void 0:r.articleContext360DegPanelActionActualPrompt;case"fact-check":return(u=_w._sydConvTranslation)===null||u===void 0?void 0:u.articleContextFactCheckActionActualPrompt;default:return""}}function ks(){var t,r,u,f,e,o,n;if(c("articlePromptPlay")=="1")return CIB.addBotGreeting(2,"Context registered. Please submit your prompt.",[]),"";n="";switch(rf){case"summarize":n=(t=_w._sydConvTranslation)===null||t===void 0?void 0:t.articleContextSummarizeActionVisualPrompt;break;case"top-questions":n=(r=_w._sydConvTranslation)===null||r===void 0?void 0:r.articleContextTopQuestionsActionVisualPrompt;break;case"key-takeaways":n=(u=_w._sydConvTranslation)===null||u===void 0?void 0:u.articleContextTakeawaysActionVisualPrompt;break;case"360-degree-panel":n=(f=_w._sydConvTranslation)===null||f===void 0?void 0:f.articleContext360DegPanelActionVisualPrompt;break;case"fact-check":n=(e=_w._sydConvTranslation)===null||e===void 0?void 0:e.articleContextFactCheckActionVisualPrompt;break;default:n=(o=_w._sydConvTranslation)===null||o===void 0?void 0:o.sydneySapphireGenerateSummaryMessage}return(i===null||i===void 0?void 0:i.title)?"".concat(n,': "').concat(i===null||i===void 0?void 0:i.title,'"'):(i===null||i===void 0?void 0:i.url)?"".concat(n,": ").concat(i===null||i===void 0?void 0:i.url):n}function ds(n){if(!(n===null||n===void 0?void 0:n.text))return n;var t=ry();return t&&n.text===ks()&&(n=__assign({},n),n.text=t),n}function uy(n){var t=function(u){var e,o,s;u||(n&&(CIB.config.sydney.injectedActionCardProvider=function(t){if(t){var i={action:"requestNativePage",deeplink:"sapphire://article?articleId=".concat(n),appId:r};SuperAppBridge.navigate(i,undefined)}},CIB.showInjectedActionCard(i===null||i===void 0?void 0:i.title,(e=_w._sydConvTranslation)===null||e===void 0?void 0:e.articleContextContinueReading,(o=_w._sydConvTranslation)===null||o===void 0?void 0:o.articleContextReadMore,(s=_w._sydConvTranslation)===null||s===void 0?void 0:s.articleContextContinueReadingDismiss)),f===null||f===void 0?void 0:f.unRegisterOutgoingMessageProcessor(ds),f===null||f===void 0?void 0:f.unRegisterConversationRequestStateHandler(t))};return t}function fy(){var n,r,u;return __awaiter(this,void 0,void 0,function(){var c,l,o,e,s,h,a;return __generator(this,function(v){switch(v.label){case 0:t.logInfo("registerArticleContext",{sysMsg:"started"});v.label=1;case 1:return v.trys.push([1,4,,5]),c="https://assets.msn.com/content/view/v2/Detail",l=SydFSCHelper.createRequest("".concat(SydFSCHelper.getConfigOrDefault((n=_w._sydConvConfig)===null||n===void 0?void 0:n.sapphireArticleContentAPI,c),"/").concat(gt,"/").concat(ht),"","GET"),f===null||f===void 0?void 0:f.unRegisterConversationResetHandler(ui),i=null,CIB.config.greeting.shouldSendBotGreeting=!1,CIB.resetConversation(),[4,l];case 2:return(o=v.sent(),e=JSON.parse(o===null||o===void 0?void 0:o.response),s=(e===null||e===void 0?void 0:e.body)?e===null||e===void 0?void 0:e.body:(u=(r=e===null||e===void 0?void 0:e.slides)===null||r===void 0?void 0:r.map(function(n){return n.body}))===null||u===void 0?void 0:u.join(" "),!s||s.trim().length===0)?(CIB.addBotGreeting(2,_w._sydConvTranslation.shareInURLContextRegistrationFailed,[]),t.logCriticalInfo("registerArticleContext",{sysMsg:"article has an empty body"}),[2]):(i={body:s,title:kt?kt:"",url:dt?dt:""},kt="",dt="",[4,ws(null)]);case 3:return v.sent(),h=ks(),h&&(f===null||f===void 0?void 0:f.registerOutgoingMessageProcessor(ds),es(h),f===null||f===void 0?void 0:f.registerConversationRequestStateHandler(uy(ht))),[3,5];case 4:return a=v.sent(),t.logError("registerArticleContext",{sysMsg:"error while parse response"}),[3,5];case 5:return[2]}})})}function ey(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return!te&&(v===oh||v===sh)||!ie&&(v===eh||v==="")?[2,!1]:gh?[4,oy()]:[3,2];case 1:if(i.sent(),!it)return[2,!1];i.label=2;case 2:return[2,sy(t)&&!n.isContextRegistered]}})})}function oy(){return __awaiter(this,void 0,void 0,function(){var n,t,i,r;return __generator(this,function(u){switch(u.label){case 0:return(it=localStorage.getItem(gf)==="true",n=localStorage.getItem(df),!(!it&&n))?[3,3]:(t=new Date(n),i=Math.abs(t.getTime()-(new Date).getTime()),r=Math.ceil(i/864e5),!(r>14))?[3,2]:[4,gs()];case 1:u.sent();u.label=2;case 2:return[3,5];case 3:return!it?[4,gs()]:[3,5];case 4:u.sent();u.label=5;case 5:return[2]}})})}function gs(){var n,i,r,u;return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(e){switch(e.label){case 0:return(t.logInfo(s,{sysMsg:"contextRegistrationConsentPrompt"}),f=!1,!CIB.showMobileConsentDialogAsync)?[3,2]:(bo({title:(n=_w._sydConvTranslation)===null||n===void 0?void 0:n.sydneySapphireConsentTitleText,message:(i=_w._sydConvTranslation)===null||i===void 0?void 0:i.sydneySapphireConsentMessageText,confirm:(r=_w._sydConvTranslation)===null||r===void 0?void 0:r.sydneySapphireConsentConfirmText,deny:(u=_w._sydConvTranslation)===null||u===void 0?void 0:u.sydneySapphireConsentDenyText}),[4,CIB.showMobileConsentDialogAsync()]);case 1:f=e.sent();it=f;e.label=2;case 2:return localStorage.setItem(gf,f.toString()),localStorage.setItem(df,(new Date).toString()),f===!0&&t.logInfo(s,{sysMsg:"contextRegistrationConsentGranted"}),[2]}})})}function sy(n){if(!n||n.startsWith("sapphire://")||n.startsWith("file://"))return!1;try{return new URL(n),!0}catch(t){return!1}}function hy(n){var r;return __awaiter(this,void 0,void 0,function(){var u,f;return __generator(this,function(e){switch(e.label){case 0:return(((r=n===null||n===void 0?void 0:n.PageContent)===null||r===void 0?void 0:r.PageBody)?(t.logInfo(s,{sysMsg:"contextRegistrationContextFromInvoke"}),u=n.PageContent.PageBody):(t.logInfo(s,{sysMsg:"contextRegistrationContextFromClient"}),u=i===null||i===void 0?void 0:i.body,u||t.logInfo(s,{sysMsg:"contextRegistrationContextExtractionFailed"})),!(u.length<1500))?[3,1]:[2,u];case 1:return[4,wy(u.substring(0,nl))];case 2:return(f=e.sent(),f)?(t.logInfo(s,{sysMsg:"contextRegistrationTruncateSuccess"}),[2,f]):[2,u.substring(0,dc)]}})})}function cy(n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(u){switch(u.label){case 0:return t.logInfo("getContext",{payload:{miniAppId:n}}),[4,SuperAppBridge.requestCustomAsync({partner:e,appId:r,data:{scenario:"Context",action:"Get",data:{appId:n,iabOption:{limit:gc}}}})];case 1:return i=u.sent(),i=typeof i=="string"?JSON.parse(i):i,[2,(i===null||i===void 0?void 0:i.url)?i:null]}})})}function ly(n){return __awaiter(this,void 0,void 0,function(){var i,r,u;return __generator(this,function(f){switch(f.label){case 0:if(f.trys.push([0,7,,8]),i=JSON.parse(n),!(i&&i.type))return[3,5];r=i.type;switch(r){case"webPage":return[3,1]}return[3,3];case 1:return i.url?[4,tp(i.url,i.text,i.hasImage)]:[3,3];case 2:return f.sent(),[3,4];case 3:return t.logInfo(s,{sysMsg:"error share extension data type not supported"}),[3,4];case 4:return[3,6];case 5:t.logInfo(s,{sysMsg:"error missing share extension data type"});f.label=6;case 6:return[3,8];case 7:return u=f.sent(),t.logError(s,{sysMsg:"error while parsing the share extension data"}),[2];case 8:return[2]}})})}function ay(n,r,u,f){return n===void 0&&(n=!0),r===void 0&&(r=!0),u===void 0&&(u=null),f===void 0&&(f=[]),__awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(o){switch(o.label){case 0:return[4,yy()];case 1:return(e=o.sent(),!(e===0))?[3,3]:[4,py(n,r,u,f)];case 2:return o.sent(),[2,!0];case 3:return t.logInfo(s,{payload:{url:i===null||i===void 0?void 0:i.url,triggerStatus:e},sysMsg:"Sydney trigger status is not trigger"}),[2,!1]}})})}function vy(n){var r="",i;try{i=new URL(n).pathname;r=i.substring(i.lastIndexOf(".")).toLowerCase()}catch(u){return t.logCriticalInfo("isImageURL",{sysMsg:"error while parsing url",payload:{url:n}}),!1}return[".jpg",".jpeg",".png",".gif",".bmp"].includes(r)}function yy(){var n,r;return __awaiter(this,void 0,void 0,function(){var e,o,u,f,s;return __generator(this,function(h){switch(h.label){case 0:if(t.logInfo("getTriggerData",{sysMsg:"started"}),!(i===null||i===void 0?void 0:i.url)||vy(i===null||i===void 0?void 0:i.url))return[2,2];e={Url:i===null||i===void 0?void 0:i.url,UrlTitle:i===null||i===void 0?void 0:i.title,PageLanguage:i===null||i===void 0?void 0:i.language};h.label=1;case 1:return h.trys.push([1,3,,4]),o="https://www.bing.com/edgesvc/postaj/sydneyqualification",[4,SydFSCHelper.createRequest("".concat(SydFSCHelper.getConfigOrDefault((n=_w._sydConvConfig)===null||n===void 0?void 0:n.sapphireSydneyQualificationAPI,o)),JSON.stringify(e))];case 2:return u=h.sent(),f=JSON.parse(u===null||u===void 0?void 0:u.response),[2,(r=f===null||f===void 0?void 0:f.triggerInfo)===null||r===void 0?void 0:r.triggerStatus];case 3:return s=h.sent(),t.logCriticalInfo("getTriggerData",{sysMsg:"error while parse response"}),[2,2];case 4:return[2]}})})}function py(r,u,f,e){var o,h,l,a,v;return __awaiter(this,void 0,void 0,function(){var k,d,p,w,y,b,g;return __generator(this,function(nt){switch(nt.label){case 0:t.logInfo("getContextualData",{sysMsg:"started"});k={Url:i===null||i===void 0?void 0:i.url,UrlTitle:i===null||i===void 0?void 0:i.title,PageLanguage:(o=c(fu))!==null&&o!==void 0?o:"",UrlContent:"",PageInsights:{MetaData:{},PageCategory:2}};nt.label=1;case 1:return nt.trys.push([1,6,,7]),d="https://www.bing.com/edgesvc/postaj/sydneyzeroturn",[4,SydFSCHelper.createRequest("".concat(SydFSCHelper.getConfigOrDefault((h=_w._sydConvConfig)===null||h===void 0?void 0:h.sapphireSydneyZeroturnAPI,d)),JSON.stringify(k))];case 2:p=nt.sent();w=null;!p||(p===null||p===void 0?void 0:p.status)>=400&&(p===null||p===void 0?void 0:p.status)<=599?t.logInfo(s,{sysMsg:"contextRegistrationInvokeFailure"}):t.logInfo(s,{sysMsg:"contextRegistrationInvokeSuccess"});try{w=JSON.parse(p===null||p===void 0?void 0:p.response)}catch(tt){t.logError("EdgeServicesError",{sysMsg:"parseZeroTurnResponse"})}return(n.registeredPageSummary=!1,y=(l=w===null||w===void 0?void 0:w.Chips)===null||l===void 0?void 0:l.ChipScenarios,b=(a=w===null||w===void 0?void 0:w.Summary)===null||a===void 0?void 0:a.MessageResponse,ii()&&CIB.addBotGreeting(2,"Edge services takeaways: ".concat(b),[]),ii()&&CIB.addBotGreeting(2,"Edge services chips: ".concat(JSON.stringify(y)),[]),!(b&&(i===null||i===void 0?void 0:i.url)&&!ih(i.url)))?[3,4]:(t.logInfo(s,{sysMsg:"contextRegistrationKeyTakeawaysAvailable"}),y=y.filter(function(n){return n.Name!="TakeawaySummary"&&n.Name!="RAI"&&n.Name!="FirstRun"&&(u||n.Name!="Canned.V1")}).map(function(n){return n.Chips}),[4,by(r,f,b,y)]);case 3:nt.sent();nt.label=4;case 4:return n.registeredPageSummary||(y=(v=y===null||y===void 0?void 0:y.filter(function(n){return n.Name!="RAI"&&n.Name!="FirstRun"&&(u||n.Name!="Canned.V1")}))===null||v===void 0?void 0:v.map(function(n){return n.Chips}),y&&y.length>0&&(y=y[0]),f?nh([f],y&&y.length>0?y===null||y===void 0?void 0:y.map(function(n){return n.DisplayText}):e):y&&CIB.updateSuggestions({suggestedResponses:y.map(function(n){return{text:n.DisplayText}})})),[4,ws(w)];case 5:return nt.sent(),[3,7];case 6:return g=nt.sent(),t.logError("getContextualData",{sysMsg:"error while parse response"}),[3,7];case 7:return[2]}})})}function wy(n){var i,r;return __awaiter(this,void 0,void 0,function(){var e,o,s,f,u,h;return __generator(this,function(c){switch(c.label){case 0:t.logInfo("truncateContext",{sysMsg:"started"});e={OriginText:n};o={TruncateEntities:[e]};c.label=1;case 1:return c.trys.push([1,3,,4]),s="https://www.bing.com/edgesvc/postaj/sydneytruncationswithcontext",[4,SydFSCHelper.createRequest("".concat(SydFSCHelper.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.sapphireSydneyTruncationAPI,s)),JSON.stringify(o))];case 2:return(f=c.sent(),u=JSON.parse(f===null||f===void 0?void 0:f.response),!(u===null||u===void 0?void 0:u.TruncatedTexts)||u.TruncatedTexts.length==0)?[2,null]:[2,(r=u.TruncatedTexts[0])===null||r===void 0?void 0:r.Text];case 3:return h=c.sent(),t.logError("truncateContext",{sysMsg:"error while parse response"}),[2,null];case 4:return[2]}})})}function nh(n,t){if(n&&n.length!=0){var r=n.map(function(n){return n.actualCard}),u=n.map(function(n){var t;return(t=n.visualCard)!==null&&t!==void 0?t:n.actualCard}),f=th(u,t),i=th(r,t);CIB.config.messaging.enableSyntheticStreaming=!1;CIB.processCachedResponse(f);CIB.config.messaging.enableSyntheticStreaming=!0;CIB.flushPendingContext();CIB.registerContext(i===null||i===void 0?void 0:i.messages)}}function th(n,t){var i={messages:n},r;return t&&t.length>0&&(r=t.map(function(n){return{text:n}}),i.messages[n.length-1].suggestedResponses=r),i}function by(t,i,r,u){var f;return __awaiter(this,void 0,void 0,function(){var e,s,o;return __generator(this,function(){return!t||ky()?[2]:(e=r.split("\n\n").filter(function(n){return n!==""}),e.length>3&&e.splice(2,e.length-3),e=e.join("\n\n"),s=((f=_w._sydConvTranslation)===null||f===void 0?void 0:f.sydneySapphireWelcomeText)+"\r\n\r\n"+e,o=ps("TextOnly",{text:s}),u&&u.length>0&&(u=u[0].map(function(n){return n.DisplayText})),tt=!0,n.registeredPageSummary=!0,CIB.manager.conversation.reset(),nh(i?[i,o]:[o],u!==null&&u!==void 0?u:[]),[2])})})}function ky(){return d!=null}function dy(n){var t,i=(new DOMParser).parseFromString(n,"text/html");return(t=i.documentElement.textContent)!==null&&t!==void 0?t:undefined}function gy(){return __awaiter(this,void 0,void 0,function(){var i,t,n,u;return __generator(this,function(f){switch(f.label){case 0:return i={partner:e,appId:r,data:{scenario:"Share",action:"GetShareImage"}},[4,SuperAppBridge.requestCustomAsync(i)];case 1:return(t=f.sent(),n=typeof t=="string"?JSON.parse(t):t,!(n===null||n===void 0?void 0:n.imageBase64))?[2,""]:[4,fetch("data:image/png;base64,".concat(n.imageBase64))];case 2:return[4,f.sent().blob()];case 3:return u=f.sent(),[2,URL.createObjectURL(u)]}})})}function np(n){var i=new URL(n),t=i.hostname.split(".");return"".concat(t[t.length-2],".").concat(t[t.length-1])}function tp(t,r,u){var e;return __awaiter(this,void 0,void 0,function(){var s,o,h,c,l;return __generator(this,function(a){switch(a.label){case 0:return(f===null||f===void 0?void 0:f.unRegisterConversationResetHandler(ui),CIB.config.greeting.shouldSendBotGreeting=!1,i=null,CIB.responseTone===ot.Balanced&&(CIB.responseTone=ot.Creative),CIB.resetConversation(),r&&(r=dy(r)),!u)?[3,2]:[4,n.getShareInImageData()];case 1:s=a.sent();a.label=2;case 2:return i={url:t,title:r,body:"I was just looking at: ".concat(t,"\nThe title of the page is ").concat(r!==null&&r!==void 0?r:"unknown","\n Answer the following directly.")},o=t.substring(0,34)+(t.length>34?"...":""),h=ps(s?"ImageWithText":"TextOnly",{title:"".concat(_w._sydConvTranslation.shareInURLWelcomeFallbackPrefix," ").concat(r?'"'.concat(r,'"'):o),imageUrl:s,text:np(t)}),[4,n.registerContextUsingEdgeServices(!0,!1,h,[])];case 3:return c=a.sent(),ii()&&CIB.addBotGreeting(2,"Share in payload: { url: ".concat(t,", title: ").concat(r,", hasImage: ").concat(u," }"),[]),c?n.isContextRegistered?n.registeredPageSummary||ih(t)||(l="".concat((e=_w._sydConvTranslation)===null||e===void 0?void 0:e.webPageContextSummarizeActionVisualPrompt,": ").concat(r?'"'.concat(r,'"'):o),setTimeout(function(){f===null||f===void 0?void 0:f.registerOutgoingMessageProcessor(rh);es(l)},200)):CIB.addBotGreeting(2,_w._sydConvTranslation.shareInURLContextRegistrationFailed,[]):(CIB.config.sydney.injectedActionCardProvider=function(n){n&&_w.open(t,"_blank");CIB.addBotGreeting(!1)},CIB.showInjectedActionCard(_w._sydConvTranslation.shareInURLNotPermitted,o,_w._sydConvTranslation.feedbackFormUserConsentYesText,_w._sydConvTranslation.feedbackFormUserConsentNoText)),[2]}})})}function ih(n){var t=new URL(n);return t.hostname.includes("msn.com")}function rh(n){var t;return(n===null||n===void 0?void 0:n.text)?(n=__assign({},n),n.text=(t=_w._sydConvTranslation)===null||t===void 0?void 0:t.webPageContextSummarizeActionActualPrompt,f===null||f===void 0?void 0:f.unRegisterOutgoingMessageProcessor(rh),n):n}function ip(n){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(r){switch(r.label){case 0:return(t.logInfo("continueConversationConsentPrompt",{payload:{convId:n}}),!CIB.showMobileConsentDialogAsync)?[3,2]:[4,CIB.showMobileConsentDialogAsync()];case 1:return i=r.sent(),i===!0?t.logInfo("continueConversationConsentGranted",{payload:{convId:n}}):t.logInfo("continueConversationConsentDenied",{payload:{convId:n}}),[2,i];case 2:return[2,!1]}})})}function rp(n){h||(up(),fp(n))}function up(){CIB.config.bing.notificationOptIn=cp;CIB.config.bing.saveOptInToastLastShown=ap}function fp(n){var r,e=!!((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isCopilotChat),i,u;if(e){i=uo("optInExperience");i=i?parseInt(i):0;u=ro("optInNoBackoff");try{ep(n,i,u)}catch(f){t.logError("setupNotificationOptInConfigFlags exception",{payload:{exception:{message:f.message,stack:f.stack}}})}}}function ep(n,i,r){if(i&&(CIB.config.features.enableCopilotBell=!0,(n===null||n===void 0?void 0:n.isNotificationEnabled)!==!0))if(r)CIB.config.bing.copilotOptInExperience=i,CIB.config.features.enableCopilotBellDot=!0;else{var u=sp();u?op(i,u):(t.logInfo("copilotOptInExperience",{sysMsg:"showing experience",payload:{copilotOptinExperience:i}}),CIB.config.bing.copilotOptInExperience=i)}}function op(n,t){var u=uh(parseInt(t)),i=864e5,r;u>=wc*i?CIB.config.bing.copilotOptInExperience=n:u>=kc*i&&(r=hp(),(!r||uh(parseInt(r))>=bc*i)&&(CIB.config.features.enableCopilotBellDot=!0))}function uh(n){return Date.now()-n}function sp(){var n;return(n=localStorage===null||localStorage===void 0?void 0:localStorage.getItem(we))!==null&&n!==void 0?n:""}function hp(){var n;return(n=localStorage===null||localStorage===void 0?void 0:localStorage.getItem(be))!==null&&n!==void 0?n:""}function cp(){t.logCriticalInfo("copilotOptInExperience",{sysMsg:"opting in to notifications"});lp(function(){setTimeout(function(){CIB.dismissToast()},250)})}function lp(n){SuperAppBridge.requestCustom({partner:"NotificationSetting",action:"requestPermissionAndRegister"},n)}function ap(){localStorage===null||localStorage===void 0?void 0:localStorage.setItem(we,Date.now().toString())}function o(n,t){return typeof n!="undefined"?n:t}var fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi,ki,di,gi,nr,tr,ir,rr,ur,fr,er,or,sr,hr,cr,lr,ar,vr,yr,pr,wr,br,kr,dr,gr,nu,tu,iu,ru,uu,r="6dc7564de7424d4698716df1b6d86867",eh="4fb480cc8d0746ebb7bc2ef6bc6f172a",oh="9ddc1d1392af462895f23c9aa7a64de1",sh="0067acd6d05f4168b92f510d33b9ed74",hh="9c253d4a156c4a5f8c40951c0aec2181",ch="sapphire://miniApp?id=".concat("80df31fd241744bba002a75f779c86cb","&sa_source=scaffolding&sa_entrance=codexintegration"),lh="linksOnEdge",fu="setlang",bf="sapphireFeatures",kf="darkschemeovr",ah="contextDebug",vh="micTriggerOff",yh="secondaryMicTriggerOn",e="Sydney",p="Settings",eu="last_selected_input_method",df="context_registration_consent_last_asked_date",gf="context_registration_consent",ne="response_tone",ph="cib__secondTimeAccessed",wh="_RwBf",bh="A",kh="ShowChatHomeScreen",dh=["/videos/music"],te=(fi=_w._sydConvConfig)===null||fi===void 0?void 0:fi.enableSapphireContextRegistration,ie=(ei=_w._sydConvConfig)===null||ei===void 0?void 0:ei.enableSapphireContextRegistrationIAB,gh=(oi=_w._sydConvConfig)===null||oi===void 0?void 0:oi.enableSapphireContextRegistrationConsent,re=(si=_w._sydMobNativeIntegration)===null||si===void 0?void 0:si.isSapphireAADUser,y=(hi=_w._sydMobNativeIntegration)===null||hi===void 0?void 0:hi.isUserSignedIn,ou=(ci=_w._sydMobNativeIntegration)===null||ci===void 0?void 0:ci.isSydchatPathEnabledForAll,su=(li=_w._sydMobNativeIntegration)===null||li===void 0?void 0:li.isStrictModeEnabled,nc=(ai=_w._sydMobNativeIntegration)===null||ai===void 0?void 0:ai.isBasicTraffic,hu=(vi=_w._sydMobNativeIntegration)===null||vi===void 0?void 0:vi.isPro,s="ContextualSydney",ue="NativeVoice",fe=(yi=_w._sydConvConfig)===null||yi===void 0?void 0:yi.enableSydneySapphireUpsellContinueConversation,ee=(pi=_w._sydConvConfig)===null||pi===void 0?void 0:pi.enableSydneySapphireSettingsBridge,cu=o((wi=_w._sydConvConfig)===null||wi===void 0?void 0:wi.enableSydneyShareLink,!0),w=(bi=_w._sydConvConfig)===null||bi===void 0?void 0:bi.enableSapphireSydneyNativeShare,b=(ki=_w._sydConvConfig)===null||ki===void 0?void 0:ki.enableSapphireFullScreenMode,tc=(di=_w._sydConvConfig)===null||di===void 0?void 0:di.enableSydneySimpleWelcomeScreen,oe=(gi=_w._sydConvConfig)===null||gi===void 0?void 0:gi.enableSydneySapphireGPT4Treatment1,se=(nr=_w._sydConvConfig)===null||nr===void 0?void 0:nr.enableSydneySapphireGPT4Treatment2,ic=(tr=_w._sydConvConfig)===null||tr===void 0?void 0:tr.enableSydSuperAppNativeVoice,he=o((ir=_w._sydConvConfig)===null||ir===void 0?void 0:ir.enableSpeechDictationMode,!0),rc=(rr=_w._sydConvConfig)===null||rr===void 0?void 0:rr.enableSydneySapphireSuggestions,ce=(ur=_w._sydConvConfig)===null||ur===void 0?void 0:ur.enableSydDelayLocationRequest,le=(fr=_w._sydConvConfig)===null||fr===void 0?void 0:fr.enableMessageExport,ae=(er=_w._sydConvConfig)===null||er===void 0?void 0:er.enableExportConversation,ve=(or=_w._sydConvConfig)===null||or===void 0?void 0:or.enableSydShare,ye=(sr=_w._sydConvConfig)===null||sr===void 0?void 0:sr.enableThreads,lu=(hr=_w._sydConvConfig)===null||hr===void 0?void 0:hr.enableSapphireSydCameraFirst,uc=o((cr=_w._sydConvConfig)===null||cr===void 0?void 0:cr.enableSydContext,!0),fc=(lr=_w._sydConvConfig)===null||lr===void 0?void 0:lr.enableEntityExtraction,ec=(ar=_w._sydConvConfig)===null||ar===void 0?void 0:ar.enableWelcomeScreenV2,oc=(vr=_w._sydConvConfig)===null||vr===void 0?void 0:vr.enableWelcomeScreenV3,sc=(yr=_w._sydConvConfig)===null||yr===void 0?void 0:yr.enableAIPersonasForMobile,hc=(pr=_w._sydConvConfig)===null||pr===void 0?void 0:pr.disableGptsOnMobile,at=o((wr=_w._sydConvConfig)===null||wr===void 0?void 0:wr.enableSappLinkOnlyShare,!1),pe=o((br=_w._sydConvConfig)===null||br===void 0?void 0:br.enableSappCMCShortLinks,!1),cc=o((kr=_w._sydConvConfig)===null||kr===void 0?void 0:kr.enableSydTigerAns,!0),lc=o((dr=_w._sydConvConfig)===null||dr===void 0?void 0:dr.enableSydSuperappLastVisitIngestion,!0),ac=o((gr=_w._sydConvConfig)===null||gr===void 0?void 0:gr.enableSapphireExtraOSDataIng,!1),au=(nu=_w._sydConvConfig)===null||nu===void 0?void 0:nu.sydneySuperappClientName,h=(tu=_w._sydConvConfig)===null||tu===void 0?void 0:tu.isCompliantSydneyEndpointEnabled,vc=!!((iu=_w._sydMobNativeIntegration)===null||iu===void 0?void 0:iu.enableSapphireSearch),yc="attempting-to-reconnect",pc="22b7f79d-8ea4-437e-b5fd-3e21f09f7bc1",we="notif-opt-in-last-shown-toast",be="notif-opt-in-last-clicked-dot",wc=14,bc=7,kc=7,ke="SERP",t=SydneySuperAppLogger,k=0,de=undefined,vu=undefined,yu=!1,vt=!0,tt=!1,ge=!0,it=!1,pu=!1,wu=0,d=null,yt=null,bu=!1,rt=!0,ut=!1,ft=!1,ku=!1,du=!1,gu=!1,et=[],dc=2e3,gc=1e4,nl=1e4,g,pt={name:"microphone",state:"prompt",onchange:function(){}},nt,ot,a,st,nf,wt,tf,ri,fh,wf,vp;(function(n){n.Pending="pending";n.Granted="granted";n.Denied="denied"})(nt||(nt={})),function(n){n.Creative="Creative";n.Balanced="Balanced";n.Precise="Precise"}(ot||(ot={}));n.initData={};n.isContextRegistered=!1;n.registeredPageSummary=!1;n.isDarkTheme=undefined;n.chatResponding=!1,function(n){n[n.VoiceSearchOnly=1]="VoiceSearchOnly";n[n.Always=2]="Always";n[n.Never=3]="Never"}(a||(a={})),function(n){n[n.Never=0]="Never";n[n.Auto=1]="Auto";n[n.Always=2]="Always"}(st||(st={})),function(n){n[n.NoMatch=0]="NoMatch";n[n.Canceled=1]="Canceled";n[n.RecognizingSpeech=2]="RecognizingSpeech";n[n.RecognizedSpeech=3]="RecognizedSpeech";n[n.RecognizedKeyword=4]="RecognizedKeyword";n[n.RecognizingIntent=5]="RecognizingIntent";n[n.RecognizedIntent=6]="RecognizedIntent";n[n.TranslatingSpeech=7]="TranslatingSpeech";n[n.TranslatedSpeech=8]="TranslatedSpeech";n[n.SynthesizingAudio=9]="SynthesizingAudio";n[n.SynthesizingAudioCompleted=10]="SynthesizingAudioCompleted";n[n.SynthesizingAudioStarted=11]="SynthesizingAudioStarted";n[n.EnrollingVoiceProfile=12]="EnrollingVoiceProfile";n[n.EnrolledVoiceProfile=13]="EnrolledVoiceProfile";n[n.RecognizedSpeakers=14]="RecognizedSpeakers";n[n.RecognizedSpeaker=15]="RecognizedSpeaker";n[n.ResetVoiceProfile=16]="ResetVoiceProfile";n[n.DeletedVoiceProfile=17]="DeletedVoiceProfile";n[n.VoicesListRetrieved=18]="VoicesListRetrieved"}(nf||(nf={})),function(n){n.Notification="Notification";n.DeepLink="DeepLink";n.DesktopGPTV="DesktopGPTV";n.UniversalLink="UniversalLink";n.CopilotChatWidget="CopilotChatWidget"}(wt||(wt={})),function(n){n.CopilotChatWidget="CopilotChatWidget";n.CopilotLockScreenWidget="CopilotLockScreenWidget"}(tf||(tf={}));n.SHOW_DRAWER_UPSELL_EVENT="SydSappShowDrawerUpsell";var no={1:"Creative",2:"Balanced",3:"Precise"},u,bt=null,i=null,ht=null,kt=null,rf=null,dt=null,gt=null,tl=null,v,uf,ff=!1,f=null;io()||sj_evt.bind("showSydFSC",il,!0);n.triggerSignInFlow=ef;n.completeInitialization=ul;n.initializeClientAttributes=sf;n.selectTextToSpeechProvider=eo;n.launchKeyboard=sl;n.setupNativeMessageCallbackManager=so;n.navigateToMiniApp=ho;n.invokeDeepLink=ni;n.applyAutoReopenMicFeature=lo;n.applyAutoDetectLanguageFeature=ao;n.applyVoiceClipOnSetting=vo;n.applyReadResponseModeSetting=yo;n.applyVoiceNameSetting=po;n.applyVoiceSpeedSetting=wo;n.isNativeVoiceRecogContEnabled=ko;n.isNativeBridgeFeaturesEnabled=go;n.ensureRewardsCookie=ts;n.isSupportedVersionForAccountSwitch=rs;n.parseResultData=cf;n.ShouldUseTTS=ss;n.openSydney=hs;n.exitSydney=af;n.getTextToSpeechProvider=cs;ri="copilot.microsoft.com";n.registerContextUsingEdgeServices=ay;n.getShareInImageData=gy;(((ru=_w._sydConvConfig)===null||ru===void 0?void 0:ru.enableSydneySapphireBridgeMocks)||((uu=_w._sydMobNativeIntegration)===null||uu===void 0?void 0:uu.enableSydneySapphireBridgeMocks))&&SydneySuperAppBridgeMocks.initializeSapphireBridge();fh=function(){function i(n,i,r){var u=this;this.handleCallBackMessage=function(n){var i=u.parseCallbackEvent(n);switch(i===null||i===void 0?void 0:i.type){case 1:u.sessionStarted(null,i);break;case 2:u.speechStartDetected(null,i);break;case 3:u.recognizing(null,i);break;case 4:u.speechEndDetected(null,i);break;case 5:u.recognized(null,i);break;case 6:u.sessionStopped(null,i);break;case 7:u.canceled(null,i);break;case 11:u.volume&&typeof u.volume=="function"&&u.volume(null,i);break;default:t.logCriticalInfo(ue,{sysMsg:"handleCallBackMessage failure to parse the recognizer callback information"})}};this.endpointURL=n;this.key=i;this.uqurequestid=r}return i.initRecognizer=function(n,t,r){return new i(n,t,r)},i.prototype.parseCallbackEvent=function(n){var r,u,f,e,o,s,h,c,l,i,a;try{return i=typeof n=="string"?JSON.parse(n):n,a={result:i.data?{text:i.type===11?(r=i.data)===null||r===void 0?void 0:r.volume:(u=i.data)===null||u===void 0?void 0:u.value,reason:((f=i.data)===null||f===void 0?void 0:f.reason)?isNaN(Number(i.data.reason))?nf[(e=i.data)===null||e===void 0?void 0:e.reason]:Number((o=i.data)===null||o===void 0?void 0:o.reason):undefined,language:ft?(h=(s=i.data)===null||s===void 0?void 0:s.primaryLang)===null||h===void 0?void 0:h.language:undefined,languageDetectionConfidence:ft?(l=(c=i.data)===null||c===void 0?void 0:c.primaryLang)===null||l===void 0?void 0:l.confidence:undefined}:undefined,errorCode:i.type==8?i.data.code:undefined,type:i.type,opid:i.opId,traceid:i.traceid},a}catch(v){t.logError(ue,{sysMsg:"parseCallbackEvent failure to parse the recognizer callback information"})}},i.prototype.registerRecognizerCallback=function(){_w.sapphireVoiceRecognitionCallback={onMessage:this.handleCallBackMessage}},i.prototype.recognizeOnceAsync=function(){var u,f,o,i;this.registerRecognizerCallback();i=l()?(f=(u=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||u===void 0?void 0:u.data)===null||f===void 0?void 0:f.app:(o=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||o===void 0?void 0:o.app;(i===null||i===void 0?void 0:i.voiceConsent)===0&&rt&&(t.logInfo("recognizeOnceAsync",{sysMsg:"voice consent is not granted, sending bridge call to collect voice usage count"}),SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"Recognition",action:"UnconsentChat",data:{threshold:3}}},undefined),rt=!1);(i===null||i===void 0?void 0:i.voiceConsent)===1&&this.endpointURL.searchParams.set("srconsent","2");t.logInfo("recognizeOnceAsync",{sysMsg:"sending bridge call to start one time voice recognition"});gu?SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"Recognition",action:"Start",data:{endpoint:this.endpointURL.toString(),key:this.key,traceId:this.uqurequestid,mode:1,features:et}}},undefined):SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"Recognition",action:"Start",data:{endpoint:this.endpointURL.toString(),key:this.key,traceId:this.uqurequestid,mode:1}}},undefined)},i.prototype.startContinuousRecognitionAsync=function(){var u,f,o,i;this.registerRecognizerCallback();i=l()?(f=(u=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||u===void 0?void 0:u.data)===null||f===void 0?void 0:f.app:(o=n.initData===null||n.initData===void 0?void 0:n.initData.launchInfo)===null||o===void 0?void 0:o.app;(i===null||i===void 0?void 0:i.voiceConsent)===0&&rt&&(t.logInfo("startContinuousRecognitionAsync",{sysMsg:"voice consent is not granted, sending bridge call to collect voice usage count"}),SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"Recognition",action:"UnconsentChat",data:{threshold:3}}},undefined),rt=!1);(i===null||i===void 0?void 0:i.voiceConsent)===1&&this.endpointURL.searchParams.set("srconsent","2");t.logInfo("startContinuousRecognitionAsync",{sysMsg:"sending bridge call to start continous voice recognition"});gu?SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"Recognition",action:"Start",data:{endpoint:this.endpointURL.toString(),key:this.key,traceId:this.uqurequestid,mode:2,features:et}}},undefined):SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"Recognition",action:"Start",data:{endpoint:this.endpointURL.toString(),key:this.key,traceId:this.uqurequestid,mode:2}}},undefined)},i.prototype.stopContinuousRecognitionAsync=function(){SuperAppBridge.requestCustom({partner:e,appId:r,data:{scenario:"Recognition",action:"Stop"}},undefined)},i}();wf=function(){function n(){this.outgoingMessageProcessors=[];this.incomingMessageProcessors=[];this.conversationRequestStateHandlers=[];this.conversationResetHandlers=[];this.chatErrorHandlers=[];this.processOutgoingMessage=this.processOutgoingMessage.bind(this);this.processIncomingMessage=this.processIncomingMessage.bind(this)}return n.prototype.registerOutgoingMessageProcessor=function(n){this.outgoingMessageProcessors.push(n)},n.prototype.unRegisterOutgoingMessageProcessor=function(n){this.outgoingMessageProcessors=this.outgoingMessageProcessors.filter(function(t){return t!==n})},n.prototype.registerIncomingMessageProcessor=function(n){this.incomingMessageProcessors.push(n)},n.prototype.unRegisterIncomingMessageProcessor=function(n){this.incomingMessageProcessors=this.incomingMessageProcessors.filter(function(t){return t!==n})},n.prototype.registerChatErrorHandler=function(n){this.chatErrorHandlers.push(n)},n.prototype.unRegisterChatErrorHandler=function(n){this.chatErrorHandlers=this.chatErrorHandlers.filter(function(t){return t!==n})},n.prototype.registerConversationRequestStateHandler=function(n){this.conversationRequestStateHandlers.push(n)},n.prototype.unRegisterConversationRequestStateHandler=function(n){this.conversationRequestStateHandlers=this.conversationRequestStateHandlers.filter(function(t){return t!==n})},n.prototype.registerConversationResetHandler=function(n){this.conversationResetHandlers.push(n)},n.prototype.unRegisterConversationResetHandler=function(n){this.conversationResetHandlers=this.conversationResetHandlers.filter(function(t){return t!==n})},n.prototype.setupMessageProcessing=function(){var n,t;(((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSydneySapphireBridgeMocks)||((t=_w._sydMobNativeIntegration)===null||t===void 0?void 0:t.enableSydneySapphireBridgeMocks))&&this.registerOutgoingMessageProcessor(SydneySuperAppBridgeMocks.testMessagingHooks());CIB.registerMessagingHooks({hookOutgoingUserMessageAsync:this.processOutgoingMessage,hookIncomingSydneyMessageAsync:this.processIncomingMessage})},n.prototype.setupConversationResetHandling=function(){var n=this;CIB.onResetConversation(function(){n.conversationResetHandlers.forEach(function(n){n()})})},n.prototype.setupConversationRequestStateHandling=function(){var n=this;if(CIB.onConversationRequestStateChange)CIB.onConversationRequestStateChange(function(t){n.conversationRequestStateHandlers.forEach(function(n){n(t)})})},n.prototype.setupChatErrorHandling=function(){var u=this,n,t,i,r;((t=(n=CIB.manager)===null||n===void 0?void 0:n.chat)===null||t===void 0?void 0:t.errorState.onChatErrorStateChange)&&((r=(i=CIB.manager)===null||i===void 0?void 0:i.chat)===null||r===void 0?void 0:r.errorState.onChatErrorStateChange(function(n){u.chatErrorHandlers.forEach(function(t){t(n)})}))},n.prototype.processOutgoingMessage=function(n){return this.outgoingMessageProcessors.forEach(function(t){n=t(n)}),n},n.prototype.processIncomingMessage=function(n){return this.incomingMessageProcessors.forEach(function(t){n=t(n)}),n},n}();n.EventManager=wf;vp=function(){function n(){var n=this;this.imageResponseEvent="imageCaptureResult";this.cameraNavigationAction="requestCamera";this.subscriptionId="";this.handleCameraResult=function(t){if(n.onResultCallback)try{var i=typeof t=="string"?JSON.parse(t):t;n.onResultCallback(i)}catch(r){n.onResultCallback({success:!1,result:null})}};this.subscriptionId=SuperAppBridge.subscribe({key:this.imageResponseEvent,appId:r},this.handleCameraResult)||""}return n.prototype.registerResultCallback=function(n){this.onResultCallback=n},n.initialize=function(){return new n},n.prototype.unSubscribe=function(){this.subscriptionId&&(SuperAppBridge.unSubscribe({key:this.imageResponseEvent},this.subscriptionId,function(){}),this.subscriptionId="")},n.prototype.requestCameraUpload=function(){SuperAppBridge.navigate({action:this.cameraNavigationAction,start_mode:1,image_result_type:1,appId:r})},n}();t.logToSLAPI("Global",{sysMsg:"file loaded"});sj_evt.fire("SydneyNativeAppConnectorLoaded")})(SydneySuperAppConnector||(SydneySuperAppConnector={}));(function(){if(typeof Log!="undefined"&&Log.Log&&_w&&_w.matchMedia){var n=_w.matchMedia("not all and (-ms-high-contrast: active), (-ms-high-contrast: active)").matches?"0":"1";Log.Log("Info","EdgeSpoofing",n)}})();(function(){function e(n,t,i){typeof Log!="undefined"&&Log.Log&&Log.Log(n,t,i,!0)}function t(t,h){var l;t!=h&&(_w.DMMode=h);l=r(n,u);l!=h&&i(n,u,h,!0,"/",null);e("Info",o,h);var c=new URLSearchParams(_w.location.search),y=c&&c.get("features")&&c.get("features").split(",").indexOf("webthemedark")!==-1,a=c.get("webthemedark")==="1"||y;a&&i(n,f,"1",!0,"/",null);var v=r(n,f),p=h=="1"&&v=="2",w=v=="1",b=a||p||w?"1":"0";e("Info",s,b)}function h(n,i,r){var u="(prefers-color-scheme:"+n+")";return _w.matchMedia(u).matches?(t(i,r),!0):!1}function c(){var n=_w.DMMode;_w.matchMedia?h("dark",n,"1")||t(n,"0"):t(n,"0")}var i=sj_cook.set,r=sj_cook.get,n="SRCHHPGUSR",u="DM",f="WEBTHEME",o="DM",s="DARKMODE";c()})();function getBrowserWidth_Desk(){var t=_d.documentElement,n=Math.round(_w.innerWidth||t.clientWidth);return n<100&&(n=1496),n}function getBrowserHeight_Desk(){var t=_d.documentElement,n=Math.round(_w.innerHeight||t.clientHeight);return n<100&&(n=796),n}function getBrowserScrollWidth_Desk(){var n=Math.round(_d.body.clientWidth);return n<100&&(n=1496),n}function getBrowserScrollHeight_Desk(){var n=Math.round(_d.body.clientHeight);return n<100&&(n=796),n}(function(){function st(n,t){var i="XW",r;n<=it&&(i="W");n<=rt&&(i="M");n<=ut&&(i="N");n<=ft&&(i="S");n<=et&&(i="HTP");n<=ot&&(i="NOTP");r="T";t<=g&&(r="M");t<=nt&&(r="S");c(tt,i,"width",n.toString());c(d,r,"height",t.toString())}function c(r,u,f,e){l("Info",r,u,f,e);t(n,r)!=u&&i(n,r,u,!0,"/",null)}function l(n,t,i,r,u){typeof Log!="undefined"&&Log.Log&&Log.Log(n,t,i,!1,r,u)}function f(n,t,i){typeof Log!="undefined"&&Log.Log&&Log.Log(n,t,i)}function r(r,u,e){var o=t(n,u);o&&o===r||(i(n,u,r,!0,"/",null),o&&e&&f("Info","BRResize",e))}function ht(){var e=t(n,"DPR"),r=_w.devicePixelRatio!=null&&!isNaN(_w.devicePixelRatio)?_w.devicePixelRatio.toFixed(1):"1",u,f;l("Info",w,r,"RawDPR",r);e&&parseFloat(e)===parseFloat(r)||i(n,"DPR",r,!0,"/",null);u=t(n,"UTC");f=((new Date).getTimezoneOffset()*-1).toString();(u==null||u!==f)&&i(n,"UTC",f,!0,"/",null)}function e(r,e){r!=e&&(f("Info",u,e),_w.DMMode=e);var o=t(n,y);t(n,u)!=e&&(i(n,u,e,!0,"/",null),o===p&&_w.location.reload())}function o(n,t,i){var r="(prefers-color-scheme: "+n+")";return _w.matchMedia(r).matches?(t!=i&&e(t,i),!0):!1}function a(){var n=_w.DMMode;_w.matchMedia?o("light",n,"0")||o("dark",n,"1")||o("no-preference",n,"2")||e(n,"3"):e(n,"4")}function ct(){_w[b]=0;_w[k]=0;v();ht();a()}function v(){lt();at()}function lt(){var n=getBrowserWidth_Desk(),t=getBrowserHeight_Desk();st(n,t);r(n.toString(),"CW","W");r(t.toString(),"CH","H");r(getBrowserScrollWidth_Desk().toString(),"SCW","");r(getBrowserScrollHeight_Desk().toString(),"SCH","")}function at(){var i=+t(n,"CW"),r=+t(n,"SCW");(i&&i!=getBrowserWidth_Desk()||r&&r!=getBrowserScrollWidth_Desk())&&f("Info","CookieCorrupt","1")}function vt(){var r=t(n,"CW"),u=t(n,"CH");r&&i(n,"PRVCW",r,!0,"/",null);u&&i(n,"PRVCH",u,!0,"/",null)}var i=sj_cook.set,t=sj_cook.get,n="SRCHHPGUSR",u="DM",y="WEBTHEME",p="2",w="DPR",b="WResizeCNT",k="WResizeTS",d="BRH",g=1e3,nt=700,tt="BRW",it=1480.9,rt=1346.9,ut=1257.9,ft=1164,et=1016,ot=868,s=_ge("b_context"),h=_ge("b_results");s!=null&&h!=null&&s.clientHeight>h.clientHeight&&_w.sj_log&&sj_log("CI.RightRail","Context","high");vt();ct();sj_be(_w,"resize",v);sj_be(_d,"visibilitychange",function(){_d.visibilityState==="visible"&&a()})})();window.ClientObserver={getBrowserWidth:getBrowserWidth_Desk,getBrowserHeight:getBrowserHeight_Desk,getBrowserScrollWidth:getBrowserScrollWidth_Desk,getBrowserScrollHeight:getBrowserScrollHeight_Desk};var __awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},ChatHomeScreenBase;(function(n){function y(n,t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(){return n&&(i=ge_cl(n,"b_ziTileCont")[0],_w.swtc=function(){s(i,t);sj_evt.unbind("showSydFSC",_w.swtc)},sj_evt.bind("showSydFSC",_w.swtc,!0)),[2]})})}function p(n,t){var i,r;return(t===void 0&&(t=!0),i=_d.getElementById(n),i)?t?(r=i.cloneNode(!0),r.id=r.getAttribute("id")+"_",r):i:null}function w(n,t){var i;(i=n===null||n===void 0?void 0:n.parentNode)===null||i===void 0?void 0:i.insertBefore(t,n.nextSibling)}function b(n,t){if(n){var i=_d.createElement("slot");return i.setAttribute("name",n),t&&i.setAttribute("slot",t.getAttribute("name")),i}}function k(n){return n?n.getAttribute(c):null}function d(n){var u,i=(u=_w.location)===null||u===void 0?void 0:u.search,r,t,e;if((i===null||i===void 0?void 0:i.length)>1){var o={atlahostname:null,testhooks:null,uncrunched:null,darkschemeovr:null,webthemedark:null},f=i.substring(1).split("&");for(r=0;r<f.length;r++)t=f[r].split("="),t.length===2&&(e=t[0].toLowerCase(),e in o&&n.searchParams.append(t[0],t[1]))}}function g(){var t,i,n;return v?(n=_G.Lang,typeof n=="string"&&o.has(n.toLowerCase()))?o.get(n.toLowerCase()):n!==null&&n!==void 0?n:"en":(i=(t=_G.Lang)===null||t===void 0?void 0:t.split("-")[0])!==null&&i!==void 0?i:"en"}function nt(n,t){var i,r=k(t),u;r&&n.searchParams.append("IID",r);n.searchParams.append("IG",_G.IG);u=CIB?(i=CIB.responseTone)!==null&&i!==void 0?i:"balanced":SydFSCHelper.getCookieTone();n.searchParams.append("lang",g());n.searchParams.append("region","*");n.searchParams.append("tone",u);n.searchParams.append("version","2");d(n)}function s(n,t){var i,r;return __awaiter(this,void 0,void 0,function(){var s,o;return __generator(this,function(){if(!n)return[2];s=t!==null&&t!==void 0?t:l;o=new URL(s,window.location.origin);nt(o,n);try{(r=(i=it(o.href,h))===null||i===void 0?void 0:i.then)===null||r===void 0?void 0:r.call(i,function(t){t.status===200?(sj_appHTML(n,t.responseText),e?sj_evt.bind("onP1",u,!0):a||u(),tt()):f(n)})["catch"](function(){f(n)})}catch(c){f(n)}return[2]})})}function u(){_w.rms&&_w.rms.start();e&&sj_evt.unbind("onP1",u)}function f(){}function tt(){sj_evt.fire("lazyLdImg");sj_evt.fire("loadProgImages");sj_evt.fire("RMS.LoadImg")}function it(n,t){return new Promise(function(i,r){var u=function(t){var f=sj_gx();f.onreadystatechange=function(){f.readyState===4&&(f.status!==200&&t>0&&u(t-1),i(f))};f.onerror=function(){r(f)};f.open("GET",n,!0);f.send()};u(t)})}var t,i,r,h=2,c="data-zi-iid",l="turing/api/suggestions/v2/zeroinputstarter",a=SydFSCHelper.getConfigOrDefault((t=_w._sydConvConfig)===null||t===void 0?void 0:t.disableZIRMSStart,!1),v=SydFSCHelper.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.supportFullLang,!1),e=SydFSCHelper.getConfigOrDefault((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isNewBingChat,!1),o=new Map([["zh","zh-hans"],["zh-cn","zh-hans"],["zh-tw","zh-hant"],["sr","sr-ba"],["sr-latn","sr-latn-ba"],["sr-cyrl","sr-ba"],["bs-latn","bs-latn-ba"],["pa-guru","pa-in"],]);n.setTileContainer=y;n.getChatScreenContainer=p;n.insertAfter=w;n.createSlot=b;n.fetchContent=s})(ChatHomeScreenBase||(ChatHomeScreenBase={}));define("rmsajax",["require","exports"],function(n,t){function a(){for(var i,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(n.length!=0){if(i=n[n.length-1],n.length==1)ct(i)&&f.push(i);else if(n.length==3){var o=n[0],s=n[1],u=n[2];lt(o)&&lt(s)&&ct(u)&&(at(r,o,u),at(e,s,u))}return window.rms}}function rt(){var i=arguments,t,n;for(o.push(i),t=0;t<i.length;t++)n=i[t],vt(n,r,n.ct),n.d&&ut.call(null,n);return window.rms}function ii(){var t=arguments,n;for(s.push(t),n=0;n<t.length;n++)vt(t[n],e);return window.rms}function v(){var t,i,n;for(hi(),t=!1,n=0;n<o.length;n++)t=ut.apply(null,w.call(o[n],0))||t;for(i=0;i<s.length;i++)t=ei.apply(null,w.call(s[i],0))||t;if(!t)for(n=0;n<f.length;n++)f[n]()}function ut(){var n=arguments,t,i,f,e;if(n.length===0)return!1;if(t=r[ot(n[0])],n.length>1)for(i=ci.apply(null,n),f=0;f<i.length;f++)e=i[f],e.run=u,ri(e,function(n){return function(){ui(n,i)}}(e));else t.run=u,st(t,function(){ft(t)});return!0}function ri(n,t){var f,r,u;if(!n.state){if(n.state=dt,pt(n)){t();return}window.ActiveXObject!==undefined||ti.test(navigator.userAgent)?(f=new Image,f.onload=t,f.onerror=t,f.src=n.url):typeof XMLHttpRequest!="undefined"&&XMLHttpRequest?(r=new XMLHttpRequest,r.open("GET",n.url,!0),r.onreadystatechange=function(){r.readyState==4&&(!it&&(r.status<200||r.status>=400)&&(bt(n.url,"2",{resourceUrl:n.url,pageUrl:window.location.href,status:r.status,response:r.responseText}),it=!0),t())},r.send()):(u=i.createElement("object"),u.setAttribute("width","0"),u.setAttribute("height","0"),u.setAttribute("tabindex","-1"),u.setAttribute("aria-hidden","true"),u.onload=t,u.onerror=t,u.setAttribute("data",n.url),i.body.appendChild(u))}}function ui(n,t){n.run==u&&(n.state=b,et(t))}function fi(n,t){n.run==u&&st(n,function(n){return function(){ft(n,t)}}(n))}function ft(n,t){n.run==u&&(n.state=l,oi(n),t)&&et(t)}function et(n){for(var i,t=0;t<n.length;t++){i=n[t];switch(i.state){case b:fi(i,n);return;case l:continue}return}}function ot(n){for(var t in n)return t}function ei(){return!1}function oi(n){for(var t=0;t<n.callbacks.length;t++)n.callbacks[t].dec()}function st(n,t){var r,s,f,h,c,e,u;if(n.state!=k&&n.state!=l)if(n.state=k,r=i.createElement("SCRIPT"),s=n.ct!==undefined?n.ct:"text/javascript",r.type=s,r.setAttribute("data-rms","1"),n.key!==undefined&&n.key==="rms:answers:AutoSuggest:AutoSug"&&(r.onerror=function(){n.state=gt}),r.onreadystatechange=r.onload=function(){var i=r.readyState;if(!i||/loaded|complete/.test(i))try{ht(t)}catch(u){throw new TypeError("processCallback threw error for script:"+n.key+" script Url:"+n.url+" error stack:"+(u?u.stack:""));}},pt(n)){if(f=_w.jsDefer,f)f.length>n.pos&&(r.text=f[n.pos],i.body.appendChild(r));else if(h=n.app?g:d,(c=i.getElementById(h))&&(e=c.childNodes)&&e[n.pos]&&(u=e[n.pos].innerHTML,si(e,n.pos),u&&(u===null||u===void 0?void 0:u.length))){var a=4,v=3,o=u.length,y=u.substring(0,a),p=u.substring(o-v,o);y=="<!--"&&p=="-->"&&(u=u.substring(a,o-v));r.text=typeof DefaultTrustedTypesPolicy!="undefined"&&DefaultTrustedTypesPolicy.getOpaqueScript?DefaultTrustedTypesPolicy.getOpaqueScript(u):u;i.body.appendChild(r)}ht(t)}else r.src=n.url,(!wt()||wt()&&li(r.src))&&r.setAttribute("crossorigin","anonymous"),tt||(bt(r.src,"1",{resourceUrl:r.src}),tt=!0),i.body.appendChild(r)}function si(n,t){var i,r,u=(i=n[t])===null||i===void 0?void 0:i.getAttribute("rkey"),f=(r=n[t+1])===null||r===void 0?void 0:r.getAttribute("rkey");_w.lirab=u;_w.liraa=f}function ht(n){n.done||(n.done=!0,n())}function ct(n){return nt.call(n)=="[object Function]"}function lt(n){return nt.call(n)=="[object Array]"}function at(n,t,i){for(var u,f=new y(i),r=0;r<t.length;r++)u=n[t[r]],u||(u=yt(n,t[r])),p(u,f)}function hi(){for(var t,i,u,n=0;n<f.length;n++){t=new y(f[n]);for(i in r)p(r[i],t);for(u in e)p(e[u],t)}}function p(n,t){n.callbacks.push(t);t.inc()}function vt(n,t,i){for(var r in n)if(typeof n[r]!=undefined)return yt(t,r,n[r],i)}function yt(n,t,i,r){return n[t]||(n[t]={callbacks:[],onPrefetch:[]},n[t].key=t),t.indexOf(ni)==0&&(n[t].app=!0),isNaN(i)?n[t].url=i:n[t].pos=i,r&&(n[t].ct=r),n[t]}function ci(){for(var i,t=[],n=0;n<arguments.length;n++)i=ot(arguments[n]),t.push(r[i]);return t}function pt(n){return!n.url}function li(n){var t="https://"+i.location.host,r="http://"+i.location.host;return!(n.indexOf(t)===0||n.indexOf(r)===0)}function wt(){return _G!==undefined&&_G.EF!==undefined&&_G.EF.crossdomainfix===1}function ai(n){return _G!==undefined&&_G.EF!==undefined&&_G.EF.crossoriginlogging===1&&n.indexOf("/rp/")>=0}function vi(n){if(h&&h.length>0)for(var t=0;t<h.length;t++)if(n.indexOf(h[t])===0)return!0;return!1}function bt(n,t,i){if(typeof sj_log2=="function"&&ai(n)){var r=vi(n)?"rms_co":"rms_noco";sj_log2("Request",r,t,"rmsajax_xhrprefetch",null,null,i)}}function yi(n){var t,i;r={};e={};f=[];o=[];s=[];u+=1;t=document.getElementById(d);t&&t.parentNode.removeChild(t);i=document.getElementById(g);i&&i.parentNode.removeChild(i);n||kt()}function kt(){c.bind("onP1Lazy",function(){a(function(){c.fire("onP1")});v()},!0)}var c,y;t.__esModule=!0;t.reset=t.start=t.css=t.js=t.onload=void 0;c=n("event.custom");customEvents=typeof customEvents=="undefined"?sj_evt:customEvents;var w=[].slice,dt=1,b=2,k=3,l=4,gt=5,u=0,ni="A:",d="fRmsDefer",g="aRmsDefer",r={},e={},f=[],o=[],s=[],nt=Object.prototype.toString,i=document,ti=/edge/i,tt=!1,it=!1,h=["https://raka.","https://rafd.","https://r.","https://rcf."];t.onload=a;t.js=rt;t.css=ii;t.start=v;y=function(n){var t=0,i=!1;this.inc=function(){i||t++};this.dec=function(){i||(t--,t==0&&(i=!0,n()))}};t.reset=yi;kt();window.rms={onload:a,js:rt,start:v}});var ChatHomeScreen;(function(n){function b(n){var u,f,i=n[1],r,l;i&&CIB&&(r=(u=i.shadowRoot)===null||u===void 0?void 0:u.querySelector("cib-conversation"),r)&&(l=(f=r.shadowRoot)===null||f===void 0?void 0:f.querySelector(s),l)&&(t||(t=ChatHomeScreenBase.getChatScreenContainer(a),ChatHomeScreenBase.setTileContainer(t,h)),t&&(k(i),c(l,r,e,o)),v&&y&&typeof(BceSydneyHelper===null||BceSydneyHelper===void 0?void 0:BceSydneyHelper.appendProtectedHeaderToCibHeader)=="function"&&(w&&ChatHomeBceSydScreenMobile.attachMobileEvents(i),BceSydneyHelper.appendProtectedHeaderToCibHeader(i)),p&&sj_evt.fire("sp_active",i))}function k(n){t.setAttribute("slot",e);n.appendChild(t)}function c(n,t,i,r){var u=n.querySelector("slot[name=".concat(r)),f;u||(u=ChatHomeScreenBase.createSlot(r),n.prepend(u));f=n.querySelector("slot[name=".concat(i));f||(f=ChatHomeScreenBase.createSlot(i,u),t.append(f),t.removeAttribute("empty"))}function l(n,t,i){var u,f,r,h;if((i===void 0&&(i=0),!(i>3))&&(r=(u=n.shadowRoot)===null||u===void 0?void 0:u.querySelector("cib-conversation"),r)){if(h=(f=r.shadowRoot)===null||f===void 0?void 0:f.querySelector(s),!h){setTimeout(function(){l(n,t,i+1)},12);return}c(h,r,e,o)}}function d(n){var t=n[1],i=n.length>2?n[2]:o;l(t,i)}function g(n){n&&(h=n);sj_evt.bind("renderWsSlot",d,!0);sj_evt.bind("cib_init",b,!0)}var i,r,u,f,a="b_sydWelcomeTemplate",e="wlcmCntnr",o="wlcmCntnrChld",v=SydFSCHelper.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableWelcomeScreenV3,!1),y=SydFSCHelper.getConfigOrDefault((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableBCECarouselProtectedPill,!1),s="#cib-chat-main",p=SydFSCHelper.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableSydWelcomeScreenMobileEvents,!1),w=SydFSCHelper.getConfigOrDefault((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableBceMobileEventsGptProtectedHeader,!1),h=null,t;n.init=g;sj_evt.fire("chs_init")})(ChatHomeScreen||(ChatHomeScreen={}));var __awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},SydWelcomeScreenBase;(function(n){function wi(n,t,u,f,e,o){return t===void 0&&(t=!1),u===void 0&&(u=undefined),f===void 0&&(f=undefined),e===void 0&&(e=null),o===void 0&&(o=!1),__awaiter(this,void 0,void 0,function(){var s;return __generator(this,function(){if(n){if(s=n.querySelector(oi),o?vt(s,t,u,f,e):(_w.swtc=function(){vt(s,t,u,f,e);sj_evt.unbind("showSydFSC",_w.swtc)},sj_evt.bind("showSydFSC",_w.swtc,!0)),!CIB)return[2];if((i||r)&&CIB.onResponseToneChanged)CIB.onResponseToneChanged(function(){var n;((n=CIB.vm.conversation)===null||n===void 0?void 0:n.sidePanel)&&(CIB.vm.conversation.sidePanel.isVisibleDesktop=!0);s.innerHTML="";vt(s,t,u,f,e)});ni&&at(kt);i&&at(dt,!0);r&&at(gt)}return[2]})})}function at(n,t){t===void 0&&(t=!1);CIB.onConversationIdChanged(function(){var i;t&&((i=CIB.vm.conversation)===null||i===void 0?void 0:i.sidePanel)&&(CIB.vm.conversation.sidePanel.isVisibleDesktop=!0);CIB.manager.chat.conversation.id&&(CIB.config.sydney.request.optionsSets=CIB.config.sydney.request.optionsSets.filter(function(t){return n.indexOf(t)==-1}))})}function bi(n,t,i){var u,f,e,r;return(t===void 0&&(t=ei),i===void 0&&(i=!0),e=(f=(u=_w._sydConvConfig)===null||u===void 0?void 0:u.isNewBingChat)!==null&&f!==void 0?f:!1,r=_d.getElementById(t),r)?i&&!e?r.cloneNode(!0):r:null}function ki(n,t){var i;(i=n===null||n===void 0?void 0:n.parentNode)===null||i===void 0?void 0:i.insertBefore(t,n.nextSibling)}function di(n,t){if(n){var i=_d.createElement("slot");return i.setAttribute("name",n),t&&i.setAttribute("slot",t.getAttribute("name")),i}}function vt(n,i,r,u,f){var e,o,s,h;(r===void 0&&(r=undefined),u===void 0&&(u=undefined),f===void 0&&(f=null),n)&&(s=(o=(e=_w._sydConvConfig)===null||e===void 0?void 0:e.minumumZeroInputSuggestionCount)!==null&&o!==void 0?o:1,h=r?r:ui,h().then(function(t){var e=(t===null||t===void 0?void 0:t.length)>=s?t:u&&u()||ri(i),r;return SydFSCHelper.LogIntEvent("ZeroInputChipsRender","Tile",{data:e}),r=e.map(function(n,t){return tr(n,t,i)}),n.append.apply(n,r),f&&f(r),t===null||t===void 0?void 0:t.length}).then(function(r){var u,f;r&&li&&i&&(u=_d.createElement("div"),u.setAttribute("class","b_wlcmTileLinkCont"),f=_d.createElement("span"),u.append(f),f.textContent=t.morePromptsLink,f.addEventListener("click",function(){pi&&typeof SuperAppBridge!==undefined&&SuperAppBridge.navigate({action:"requestNativePage",appId:bt,deeplink:"sapphire://miniApp?id=".concat(bt)},undefined)}),n.append(u))}))}function ri(n){var i=[{text:t.zeroInputSuggestionFallback4,title:t.zeroInputSuggestionCategory4,category:"chat",size:"small"},{text:t.zeroInputSuggestionFallback6,title:t.zeroInputSuggestionCategory6,category:"organize",size:"small"},{text:t.zeroInputSuggestionFallback2,title:t.zeroInputSuggestionCategory2,category:"compare",size:"medium"},];return n?i:__spreadArray(__spreadArray([],i,!0),[{text:t.zeroInputSuggestionFallback7,title:t.zeroInputSuggestionCategory7,category:"create",size:"medium"},{text:t.zeroInputSuggestionFallback1,title:t.zeroInputSuggestionCategory1,category:"shop",size:"medium"},{text:t.zeroInputSuggestionFallback3,title:t.zeroInputSuggestionCategory3,category:"laugh",size:"small"},{text:t.zeroInputSuggestionFallback5,title:t.zeroInputSuggestionCategory5,category:"write",size:"medium"},],!1)}function gi(){var n=new Date,t=n.getFullYear(),i=("0"+(n.getMonth()+1)).slice(-2),r=("0"+n.getDate()).slice(-2);return"".concat(t,"-").concat(i,"-").concat(r)}function ui(n){var t,u,f,e,o;return __awaiter(this,void 0,void 0,function(){var a,v,y,s,h,c,l;return __generator(this,function(){return(a=(t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableUpdateWelcomeScreenApiUrl,v=(u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableSydneySapphireSuggestions,y=a&&n?n:"turing/api/suggestions/v1/zeroinputstarter",s=new URL(y,window.location.origin),h=CIB?(f=CIB.responseTone)!==null&&f!==void 0?f:"balanced":SydFSCHelper.getCookieTone(),c=i&&h.toLowerCase()==="creative",l=r&&h.toLowerCase()==="creative"&&rr(window.location.href),s.searchParams.append("lang",(o=(e=_G.Lang)===null||e===void 0?void 0:e.split("-")[0])!==null&&o!==void 0?o:"en"),s.searchParams.append("region","*"),s.searchParams.append("tone",h),s.searchParams.append("enablePersonalizedSuggestions",String(v)),s.searchParams.append("enableMarketplaceSuggestions",String(lt)),s.searchParams.append("date",gi()),c&&s.searchParams.append("enableFreeSydneyUpsell",String(c)),l&&s.searchParams.append("enableNeuripsInUrl",String(l)),wt)?[2,new Promise(function(n){n(null)})]:[2,fetch(s.href).then(function(n){return n.json()}).then(function(n){if(n!==null&&n!==void 0)return n.data})["catch"](function(n){return console.log("Failed to get WelcomeScreen Suggestion:",n),[]})]})})}function nr(n){var t,i,r=(i=(t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableBCEDynamicPrompts)!==null&&i!==void 0?i:!1;return r?"small":ii.has(n.category)?"medium":n.size!="medium"?n.size:(wt?!1:Math.random()<.33)?"small":"medium"}function tr(n,i,r){var l,a,v,y,p,tt=(l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableSydneySapphireSuggestions,g=(v=(a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableBCEDynamicPrompts)!==null&&v!==void 0?v:!1,e=sj_ce("div",null,"b_wlcmTileWrap"),u,w,f,o,s,b,k,nt;if(e.setAttribute("size",nr(n)),e.setAttribute("data-priority","2"),e.setAttribute("idx",i.toString()),u=sj_ce("button",null,"b_wlcmTile"),u.setAttribute("type","button"),n.hideTitle||(!r||hi&&!ci||g)&&(w=sj_ce("h3"),w.innerText=n.title||g&&ir(n.category),u.append(w)),f=sj_ce("p"),n.hideText||((tt||lt)&&n.text.length>120&&n.title?(f.innerText=n.title,f.innerText+=": ",f.innerText+=n.text.substring(0,114-n.title.length),f.innerText+="..."):f.innerText=n.text,u.append(f)),n.imageUrl&&(o=sj_ce("img"),o.setAttribute("src",n.imageUrl),o.setAttribute("role","none"),u.append(o),Lib.CssClass.add(u,"hasImage")),n.overlayOnHover&&(s=sj_ce("div",null,"b_wlcmTileOverlay"),b=sj_ce("h4"),b.innerText=t.freeSydneyWelcomeTilesImageTitle,s.append(b),k=sj_ce("p"),k.innerText=n.text,s.append(k),u.append(s)),n.category&&(lt&&r?(nt=SydWelcomeScreenHelpers.getFluentIconSvg(n.category),u.insertBefore(nt,u.firstChild),Lib.CssClass.add(u,"svgIcon")):Lib.CssClass.add(u,n.category)),n.category==="createwithsuno"&&ti){var h=sj_ce("div",null,"b_wlcmTilePrivacy"),d=sj_ce("span"),c=sj_ce("span");d.innerText=(y=t.pluginTerms)!==null&&y!==void 0?y:"Terms of Use";fi("https://www.suno.ai/legal/terms",d);c.innerText=(p=t.pluginPrivacy)!==null&&p!==void 0?p:"Privacy Policy";fi("https://www.suno.ai/legal/privacy",c);h.append(d);h.append(c);c.insertAdjacentHTML("beforebegin"," | ");r?f.appendChild(h):u.append(h)}return e.append(u),e.addEventListener("click",function(){ur(n.text,e,n.category,r)}),e}function fi(n,t){t.addEventListener("click",function(t){t.stopPropagation();t.preventDefault();window.open(n,"_blank")})}function ir(n){return n.split("-").map(function(n){return n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()}).join("-")}function yt(n,t){var i=CIB.config.sydney.request.optionsSets;t.map(function(n){i.includes(n)||i.push(n)});CIB.config.sydney.request.optionsSets=i}function rr(n){if(!n)return!1;try{n=decodeURIComponent(n)}catch(t){return!1}return n.indexOf("neuripsenabled=1")>=0?!0:!1}function ur(n,u,f,e){var s,h,c,l,a,v,y,p,w,o,b,k,d;if(CIB&&(w=u.offsetTop<400?"1":"2",SydFSCHelper.LogIntEvent("ZeroInput","Tile",{source:si,category:f,size:u.getAttribute("size"),tileindex:u.getAttribute("idx"),row:w}),!CIB.manager.chat.isRequestPending)){if(ii.has(f)){if(ni&&yt(f,kt),i&&(e||(CIB.vm.conversation.sidePanel.isVisibleDesktop=!1),yt(f,dt)),ti&&CIB.togglePlugin&&f=="createwithsuno"){if(vi){if(yi){CIB.togglePlugin(pt,!0);CIB.addBotGreeting(2,t.sunoPolicyText,[]);(s=CIB.addMessage)===null||s===void 0?void 0:s.call(CIB,t.sunoCachedMessage);return}o=new URL(window.location.href);o.searchParams.set("showconv","1");o.searchParams.set("enablesuno","1");o.searchParams.set("sendquery","1");b=CIB.config.buildUrl({baseUrl:window.location.origin,path:"/fd/auth/signin",query:{return_url:o.href,action:"interactive",provider:"windows_live_id"}});k="[".concat(t.sunoNonSignedInGreetingsSignIn,"](").concat(b.href,")").concat(t.sunoNonSignedInGreetings1,"[").concat((h=t.pluginTerms)!==null&&h!==void 0?h:"Terms of Use","](https://www.suno.ai/terms)").concat(t.sunoNonSignedInGreetings2,"[").concat((c=t.pluginPrivacy)!==null&&c!==void 0?c:"Privacy Policy","](https://www.suno.ai/privacy)").concat(t.sunoNonSignedInGreetings3);CIB.addBotGreeting(2,k,[],!0);return}CIB.togglePlugin(pt,!0);CIB.addBotGreeting(2,t.sunoPolicyText,[])}r&&yt(f,gt)}(a=(l=CIB===null||CIB===void 0?void 0:CIB.manager)===null||l===void 0?void 0:l.perfTracker)===null||a===void 0?void 0:a.markEvent("QueryEntered");e?ai&&(CIB===null||CIB===void 0?void 0:CIB.inputMethod)==="Keyboard"?((v=CIB.setActionBarInputText)===null||v===void 0?void 0:v.call(CIB,n),(y=CIB.focusChatInputElement)===null||y===void 0?void 0:y.call(CIB)):(p=CIB.addMessage)===null||p===void 0?void 0:p.call(CIB,n):(d=!0,CIB.addMessage&&CIB.addMessage(n,"Chat",d),CIB.focusChatInputElement&&CIB.focusChatInputElement())}}var u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,ei="b_sydWelcomeTemplate",oi=".b_wlcmTileCont",si="welcomeScreen",hi=(f=(u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableChatFRE)!==null&&f!==void 0?f:!1,ci=(o=(e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableChatFRE2)!==null&&o!==void 0?o:!1,li=(s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableMorePromptsLink,ai=(h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableModifiableSuggestions,lt=(c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableSydneyMarketplaceSuggestions,vi=(a=(l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableSunoWelcomeMessage)!==null&&a!==void 0?a:!1,yi=(y=(v=_w._sydConvConfig)===null||v===void 0?void 0:v.isMSAAuthenticated)!==null&&y!==void 0?y:!1,pt="22b7f79d-8ea4-437e-b5fd-3e21f09f7bc1",t=_w._sydConvTranslation,wt=(p=_w._sydConvConfig)===null||p===void 0?void 0:p.sydTuringSuggestionsMocked;n.SHOW_WELCOME_SCREEN_V2_EVENT="SydShowWelcomeScreen";n.SHOW_WELCOME_SCREEN_V2_HEADER_EVENT="SydShowWelcomeScreenHeader";n.SHOW_WELCOME_SCREEN_V2_TILES_EVENT="SydShowWelcomeScreenTiles";var bt="80df31fd241744bba002a75f779c86cb",kt=["flow","fluxshopv32"],dt=(k=(b=(w=_w._sydConvConfig)===null||w===void 0?void 0:w.freeSydneyOptionSets)===null||b===void 0?void 0:b.map(function(n){return n.value}))!==null&&k!==void 0?k:[],gt=(nt=(g=(d=_w._sydConvConfig)===null||d===void 0?void 0:d.neuripsOptionSets)===null||g===void 0?void 0:g.map(function(n){return n.value}))!==null&&nt!==void 0?nt:[],ni=(it=(tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableShopWithBingUpsell)!==null&&it!==void 0?it:!1,i=(ut=(rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.enableFreeSydneyUpsell)!==null&&ut!==void 0?ut:!1,ti=(et=(ft=_w._sydConvConfig)===null||ft===void 0?void 0:ft.enableSunoUpsell)!==null&&et!==void 0?et:!1,r=(st=(ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.enableNeurips)!==null&&st!==void 0?st:!1,pi=(ct=(ht=_w._sydConvConfig)===null||ht===void 0?void 0:ht.isSapphireClient)!==null&&ct!==void 0?ct:!1,ii=new Set(["shopwithbing","freesydney","createwithsuno","neurips","onthisday"]);n.setTileContainer=wi;n.getWelcomeContainer=bi;n.insertAfter=ki;n.createSlot=di;n.getFallbackTiles=ri;n.fetchContent=ui})(SydWelcomeScreenBase||(SydWelcomeScreenBase={}));var GPTHomeScreen;(function(n){function hi(n){var i,u,t,f,e;if(n&&(t=(i=n.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-conversation"),t)&&(f=(u=t.shadowRoot)===null||u===void 0?void 0:u.querySelector(g),f)&&ri){if(ei)if(oi)sj_evt.bind("showSydFSC",function(){r||(SydFSCHelper.setFreeSydneyData(),r=!0)},!0);else CIB.onModeChanging(function(n){n!=="conversation"||r||(SydFSCHelper.setFreeSydneyData(),r=!0)});else SydFSCHelper.setFreeSydneyData();if(nt&&!tt&&(e=ot(),e||(k(n),rt=!0)),(CIB===null||CIB===void 0?void 0:CIB.onFreeSydneyPersonaChanged)&&!tt){CIB.onFreeSydneyPersonaChanged(function(i){if(nt&&it&&rt&&(!i||i.type==="Copilot")){it=!1;return}ft();ui&&(i&&i.id!=="copilot"?(CIB.config.features.enablePrivacyProtectedConversation||(CIB.config.features.enablePrivacyProtectedConversation=!0),CIB.setPrivacyForConversation(!0)):(CIB.config.features.enablePrivacyProtectedConversation=fi,CIB.setPrivacyForConversation(!1)));i&&i.type!=="Copilot"?st(n,f,t,i):k(n)});sj_evt.bind("renderWsSlot",ci,!0)}}}function ft(){var n,t=document.getElementById("b_sydWelcomeTemplate_");t&&((n=t.parentNode)===null||n===void 0?void 0:n.removeChild(t))}function ci(n){var t=n[1],i=n.length>2?n[2]:d;et(t,p,i)}function et(n,t,i,r){var f,e,u,o;if((r===void 0&&(r=0),!(r>3))&&(u=(f=n.shadowRoot)===null||f===void 0?void 0:f.querySelector("cib-conversation"),u)){if(o=(e=u.shadowRoot)===null||e===void 0?void 0:e.querySelector(g),!o){setTimeout(function(){et(n,t,i,r+1)},12);return}ht(o,u,t,i)}}function ot(){try{var n=new URLSearchParams(_w.location.search),t=n.get("gptId");if(t)return!0}catch(i){}return!1}function k(n){sj_evt.fire("cib_init",n);li();u&&lt(u)}function li(){sj_evt.fire("lazyLdImg");sj_evt.fire("loadProgImages");sj_evt.fire("RMS.LoadImg")}function st(n,i,r,u){var f,e,o;u.type!=="Custom"||u.welcomeTiles&&((f=u.welcomeTiles)===null||f===void 0?void 0:f.length)!==0||(u.welcomeTiles=FreeSydneyHelper.getDefaultCustomWelcomeTiles());e=function(){return u.welcomeTiles};o=u.welcomeTiles?function(){return Promise.resolve(u.welcomeTiles)}:null;t&&ut===(u===null||u===void 0?void 0:u.id)||(t=vi(u),SydWelcomeScreenBase.setTileContainer(t,!1,o,e));ut=u===null||u===void 0?void 0:u.id;t&&(ai(n),ht(i,r,p,d))}function ai(n){(t===null||t===void 0?void 0:t.id.slice(-1))!=="_"&&(t.id=t.getAttribute("id")+"_");t===null||t===void 0?void 0:t.setAttribute("slot",p);n.appendChild(t)}function ht(n,t,i,r){var u=n.querySelector("slot[name=".concat(r)),f;u||(u=SydWelcomeScreenBase.createSlot(r),n.prepend(u));f=t.querySelector("slot[name=".concat(i));f||(f=SydWelcomeScreenBase.createSlot(i,u),t.append(f),t.removeAttribute("empty"))}function vi(n){var o,f=sj_ce(i,at,vt),u,r,c,l,a;f.setAttribute(yt,"2");var e=sj_ce(i,null,pt),s=sj_ce(i,null,bt),h=(o=n.type)===null||o===void 0?void 0:o.toLowerCase(),t=sj_ce(i,null,wt+" "+h);return si&&(n===null||n===void 0?void 0:n.icon)&&(t.style.content="url(".concat(n.icon,")")),t.setAttribute("role","img"),t.setAttribute("alt",h),t.setAttribute("aria-label",h+" Logo"),t.setAttribute("tab-index","0"),u=sj_ce(i,null,kt),u.innerHTML=ct(n.displayName||n.name),u.setAttribute("role","heading"),u.setAttribute("aria-level","2"),r=sj_ce(i,null,dt),r.innerHTML=ct(n.welcomeHeader||n.description||""),r.setAttribute("role","heading"),r.setAttribute("aria-level","2"),s.appendChild(t),s.appendChild(u),e.appendChild(s),r.innerHTML&&e.appendChild(r),c=n.type!=="Custom"?ti:n.authorName,l=sj_ce(i,null,gt),l.innerHTML=w===null||w===void 0?void 0:w.replace("{0}",c),e.appendChild(l),lt(b===null||b===void 0?void 0:b.replace("{0}",c)),a=sj_ce(i,null,ni),f.appendChild(e),f.appendChild(a),f}function ct(n){if(n)return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function lt(n){var r=_d.querySelector("cib-serp"),t,i,f;(r===null||r===void 0?void 0:r.shadowRoot)&&(t=r.shadowRoot.querySelector("cib-conversation"),(t===null||t===void 0?void 0:t.shadowRoot)&&(i=t.shadowRoot.querySelector("cib-welcome-container"),(i===null||i===void 0?void 0:i.shadowRoot)&&(f=i.shadowRoot.querySelector(ii),f&&(u||(u=f.innerHTML),f.innerHTML=n))))}var f,e,o,s,h,c,l,a,v,y,at="b_sydWelcomeTemplate",vt="b_wlcmCont",i="div",p="wlcmCntnr",d="wlcmCntnrChld",yt="data-priority",pt="b_wlcmHdr",wt="b_wlcmPersLogo",bt="b_wlcmPersLogoCont",kt="b_wlcmPersName",dt="b_wlcmPersDesc",gt="b_wlcmPersAuthorText",ni="b_wlcmTileCont",ti="Microsoft",ii=".preview-container .preview-disclaimer .disclaimer span",ri=SydFSCHelper.getConfigOrDefault((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableFreeSydney,!1),ui=SydFSCHelper.getConfigOrDefault((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableFreeSydneyPrivacy,!1),fi=SydFSCHelper.getConfigOrDefault((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enablePrivacyProtectedConversation,!1),ei=SydFSCHelper.getConfigOrDefault((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableDelayGet1PGpts,!1),oi=SydFSCHelper.getConfigOrDefault((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enablePanelTransition,!1),g="#cib-chat-main",w=(c=_w._sydConvTranslation)===null||c===void 0?void 0:c.freeSydneyWelcomeAuthorText,b=(l=_w._sydConvTranslation)===null||l===void 0?void 0:l.sydneyGptCreatorWelcomeMessage,nt=SydFSCHelper.getConfigOrDefault((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enable1pGPTPreLoadForCopilot,!0),si=SydFSCHelper.getConfigOrDefault((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enable1pGptsApi,!1),tt=SydFSCHelper.getConfigOrDefault((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableSimplifiedFRE,!1),it=!0,rt=!1,r=!1,ut,t,u;n.attachPersonaChangeEvents=hi;n.removeLastWelcomeContainer=ft;n.isGPTIdInUrlParams=ot;n.renderCopilotPage=k;n.setWelcomeScreenContentForFreeSydney=st})(GPTHomeScreen||(GPTHomeScreen={}));var __awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},SydneyFullScreenConv;(function(n){function eu(f){var e,v,w,b,d,tt,it,st,ht,ct,wt,bt,gt,ri,si,hi,yi,bi,ki,di,fr,fu,eu,su,cu,au,vu,yu,pu,wu,bu,ku,du,gu,nf,tf,rf,uf,ff,lf,af,yf,wf,bf,kf,df,gf,ne,te,ie,re,ce,le,ve,ye,be,ke,de,ge,no,to,io,ro,uo,fo,eo,oo,so,ho,co,lo,ao,vo,yo,po,wo,bo,ko,go,ns,ts;return f===void 0&&(f=null),__awaiter(this,void 0,void 0,function(){var ps,ws,bs,vh,yh,ss,ks,ds,gs,nh,th,ih,rh,uh,es,os,hs,fh,eh,oh,sh,hh,ch,cs,lh,ls,as,is,us,rs,vs,ys,fs,ah;return __generator(this,function(ph){switch(ph.label){case 0:return(i=_ge(ci),i.querySelector("cib-serp"))?[2]:(li=SydFSCHelper.getConfigOrDefault((e=_w._sydConvConfig)===null||e===void 0?void 0:e.usePill,!0),lt=SydFSCHelper.getConfigOrDefault((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableScrollOut,!0),u=SydFSCHelper.getConfigOrDefault((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enablePanelTransition,!1,!1),ai=SydFSCHelper.getConfigOrDefault((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableSydContext,!0),c=SydFSCHelper.getConfigOrDefault((d=_w._sydConvConfig)===null||d===void 0?void 0:d.convBackBtn,!1),at=SydFSCHelper.getConfigOrDefault((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableSetConvQueryFlag,!0),ef=SydFSCHelper.getConfigOrDefault((it=_w._sydConvConfig)===null||it===void 0?void 0:it.enableSydTigerAns,!0),gi=SydFSCHelper.getConfigOrDefault((st=_w._sydConvConfig)===null||st===void 0?void 0:st.enableSydAjax,!1),dt=SydFSCHelper.getConfigOrDefault((ht=_w._sydConvConfig)===null||ht===void 0?void 0:ht.enableSydCarousel,!1),n.moveOnlySydXAnswers=SydFSCHelper.getConfigOrDefault((ct=_w._sydConvConfig)===null||ct===void 0?void 0:ct.moveOnlySydXAnswers,!0),l=SydFSCHelper.getConfigOrDefault((wt=_w._sydConvConfig)===null||wt===void 0?void 0:wt.hideSydFSC,!1),a=SydFSCHelper.getConfigOrDefault((bt=_w._sydConvConfig)===null||bt===void 0?void 0:bt.enableSydOverlay,!1),vi=SydFSCHelper.getConfigOrDefault((gt=_w._sydConvConfig)===null||gt===void 0?void 0:gt.enable1TCibSlot,!1),rt=SydFSCHelper.getConfigOrDefault((ri=_w._sydConvConfig)===null||ri===void 0?void 0:ri.enableSydX1T,!0),tr=SydFSCHelper.getConfigOrDefault((si=_w._sydConvConfig)===null||si===void 0?void 0:si.hideSydMic,!1),ir=SydFSCHelper.getConfigOrDefault((hi=_w._sydConvConfig)===null||hi===void 0?void 0:hi.fromNoResults,!1),lr=SydFSCHelper.getConfigOrDefault((yi=_w._sydConvConfig)===null||yi===void 0?void 0:yi.codexWinEnableCustomGreeting,!1),ar=SydFSCHelper.getConfigOrDefault((bi=_w._sydConvConfig)===null||bi===void 0?void 0:bi.codexWinGreetingCustomString,""),er=SydFSCHelper.getConfigOrDefault((ki=_w._sydConvConfig)===null||ki===void 0?void 0:ki.checkCreatorAnsFor1T,!0),rr=SydFSCHelper.getConfigOrDefault((di=_w._sydConvConfig)===null||di===void 0?void 0:di.enableSydCarouselHistory,!1),sf=SydFSCHelper.getConfigOrDefault((fr=_w._sydConvConfig)===null||fr===void 0?void 0:fr.enableSQMsg,!0),ur=SydFSCHelper.getConfigOrDefault((fu=_w._sydConvConfig)===null||fu===void 0?void 0:fu.enableSemSerpNoCache,!1),or=SydFSCHelper.getConfigOrDefault((eu=_w._sydConvConfig)===null||eu===void 0?void 0:eu.enableSydStaticAdsLink,!1),ps=SydFSCHelper.getConfigOrDefault((su=_w._sydConvConfig)===null||su===void 0?void 0:su.hideSydReconnect,!1),ws=(cu=_w._sydConvConfig)===null||cu===void 0?void 0:cu.enableDlBing,bs=(au=_w._sydConvConfig)===null||au===void 0?void 0:au.disableSydGhosting,vh=SydFSCHelper.getConfigOrDefault((vu=_w._sydConvConfig)===null||vu===void 0?void 0:vu.disableCibNotificationStyleUpdate,!1),yh=_w._sydCachedString,ss=_w._sydAddOptionsSet,_G[SydFSCHelper.SYD_MODE]="serp",_G[SydFSCHelper.SYD_PREV_MODE]="",nr=SydFSCHelper.getConfigOrDefault((yu=_w._sydConvConfig)===null||yu===void 0?void 0:yu.keyboardNavigationSydney,!1),ni=SydFSCHelper.getConfigOrDefault((pu=_w._sydConvConfig)===null||pu===void 0?void 0:pu.disableTabletScroll,!1),ti=SydFSCHelper.getConfigOrDefault((wu=_w._sydConvConfig)===null||wu===void 0?void 0:wu.disableTouchDesktopScroll,!1),ii=SydFSCHelper.getConfigOrDefault((bu=_w._sydConvConfig)===null||bu===void 0?void 0:bu.disableDesktopScroll,!0),sr=SydFSCHelper.getConfigOrDefault((ku=_w._sydConvConfig)===null||ku===void 0?void 0:ku.enableChatScrollFix,!0),hr=SydFSCHelper.getConfigOrDefault((du=_w._sydConvConfig)===null||du===void 0?void 0:du.enableModalScrollFix,!0),ui=SydFSCHelper.getConfigOrDefault((gu=_w._sydConvConfig)===null||gu===void 0?void 0:gu.enableConvModeSwitchAjax,!1),vr=SydFSCHelper.getConfigOrDefault((nf=_w._sydConvConfig)===null||nf===void 0?void 0:nf.enableCssSplitConvModeOnClick,0),ut=SydFSCHelper.getConfigOrDefault((tf=_w._sydConvConfig)===null||tf===void 0?void 0:tf.chatBackgroundColorOverride,""),tu=SydFSCHelper.getConfigOrDefault((rf=_w._sydConvConfig)===null||rf===void 0?void 0:rf.chatBackgroundColorOverrideNoSerp,!1),pt=SydFSCHelper.getConfigOrDefault((uf=_w._sydConvConfig)===null||uf===void 0?void 0:uf.enableWelcomeScreenV2,!1),yt=SydFSCHelper.getConfigOrDefault((ff=_w._sydConvConfig)===null||ff===void 0?void 0:ff.enableWelcomeScreenV3,!1),pi=SydFSCHelper.getConfigOrDefault((lf=_w._sydConvConfig)===null||lf===void 0?void 0:lf.enableGptHomeScreen,!1),wi=SydFSCHelper.getConfigOrDefault((af=_w._sydConvConfig)===null||af===void 0?void 0:af.enableChatFRE,!1),yr=SydFSCHelper.getConfigOrDefault((yf=_w._sydConvConfig)===null||yf===void 0?void 0:yf.enable2TQueryConfigsOnSerpLoad,!1),pr=SydFSCHelper.getConfigOrDefault((wf=_w._sydConvConfig)===null||wf===void 0?void 0:wf.enableBackgroundFix,!0),wr=SydFSCHelper.getConfigOrDefault((bf=_w._sydConvConfig)===null||bf===void 0?void 0:bf.hideMuidUpsell,!1),br=SydFSCHelper.getConfigOrDefault((kf=_w._sydConvConfig)===null||kf===void 0?void 0:kf.enableSERPHideShowConv,!1),kr=SydFSCHelper.getConfigOrDefault((df=_w._sydConvConfig)===null||df===void 0?void 0:df.enableBceBcbToggle,!1),s=SydFSCHelper.getConfigOrDefault((gf=_w._sydConvConfig)===null||gf===void 0?void 0:gf.enableNotebookMode,!1),dr=SydFSCHelper.getConfigOrDefault((ne=_w._sydConvConfig)===null||ne===void 0?void 0:ne.enableNotebookScrollDown,!1),gr=SydFSCHelper.getConfigOrDefault((te=_w._sydConvConfig)===null||te===void 0?void 0:te.enableSydTestCache,!1),k=SydFSCHelper.getConfigOrDefault((ie=_w._sydConvConfig)===null||ie===void 0?void 0:ie.enableChatContAfterHeader,!0),nu=SydFSCHelper.getConfigOrDefault((re=_w._sydConvConfig)===null||re===void 0?void 0:re.enableSafeChatAnsStyle,!1),et=SydFSCHelper.getConfigOrDefault((ce=_w._sydConvConfig)===null||ce===void 0?void 0:ce.isCopilotChat,!1),h=SydFSCHelper.getConfigOrDefault((le=_w._sydConvConfig)===null||le===void 0?void 0:le.isNewBingChat,!1),ot=SydFSCHelper.getConfigOrDefault((ve=_w._sydConvConfig)===null||ve===void 0?void 0:ve.isUnionClient,!1),iu=SydFSCHelper.getConfigOrDefault((ye=_w._sydConvConfig)===null||ye===void 0?void 0:ye.isMobileHost,!1)&&(et||h||ot),ru=SydFSCHelper.getConfigOrDefault((be=_w._sydConvConfig)===null||be===void 0?void 0:be.enableFakeScrollTelemetry,!1),uu=SydFSCHelper.getConfigOrDefault((ke=_w._sydConvConfig)===null||ke===void 0?void 0:ke.enableBingChatPath,!1),ks=SydFSCHelper.getConfigOrDefault((de=_w._sydConvConfig)===null||de===void 0?void 0:de.isGptCreator,!1),ds=SydFSCHelper.getConfigOrDefault((ge=_w._sydConvConfig)===null||ge===void 0?void 0:ge.disableGptCreatorFileUploadOptionsSets,!1),gs=SydFSCHelper.getConfigOrDefault((no=_w._sydConvConfig)===null||no===void 0?void 0:no.disableBotGreeting,!1),fi=SydFSCHelper.getConfigOrDefault((to=_w._sydConvConfig)===null||to===void 0?void 0:to.enableSydneyTranslationAsync,!1),hf=SydFSCHelper.getConfigOrDefault((io=_w._sydConvConfig)===null||io===void 0?void 0:io.enableRequestTranslationLater,!1),nh=SydFSCHelper.getConfigOrDefault((ro=_w._sydConvConfig)===null||ro===void 0?void 0:ro.enableTierLoadBalancing,!0),th=SydFSCHelper.getConfigOrDefault((uo=_w._sydConvConfig)===null||uo===void 0?void 0:uo.enableSimplifiedFRE,!1),ih=SydFSCHelper.getConfigOrDefault((fo=_w._sydConvConfig)===null||fo===void 0?void 0:fo.enableLoadConvTheme,!1),rh=SydFSCHelper.getConfigOrDefault((eo=_w._sydConvConfig)===null||eo===void 0?void 0:eo.isBingUserSignedIn,!1),uh=SydFSCHelper.getConfigOrDefault((oo=_w._sydConvConfig)===null||oo===void 0?void 0:oo.disableTierLoadBalancingCall,!0),g=_d.createElement("slot"),g.setAttribute("name","firstAnswer"),g.setAttribute("slot","firstAns"),nt=_d.createElement("slot"),nt.setAttribute("name","firstAns"),o=((so=_d.getElementsByClassName("b_top"))===null||so===void 0?void 0:so.length)>0?_d.getElementsByClassName("b_top")[0]:null,vt=!o?!1:o.getElementsByClassName("b_wpt_ch").length>0||o.getElementsByClassName("qna-sydney").length>0,cf(),(et||ot)&&vf(),r=_d.createElement("div"),r===null||r===void 0?void 0:r.setAttribute("slot","firstAnswer"),r===null||r===void 0?void 0:r.setAttribute("id","sydFirstAnswer"),r.style.maxWidth="648px",!(!uh&&nh))?[3,2]:[4,SydFSCHelper.setConfigs(f)];case 1:return ph.sent(),[3,3];case 2:SydFSCHelper.setConfigs(f);ph.label=3;case 3:if(SydFSCHelper.setEventListeners(),SydFSCHelper.setSydFSCEligibleState(!0),fi&&!kt&&SydFSCHelper.prefetchTranslationStrings(),es=SydFSCHelper.getConfigOrDefault((ho=_w._sydConvConfig)===null||ho===void 0?void 0:ho.isCompliantSydneyEndpointEnabled,!1),es&&(MsbSydneyHelper.setCompliantSydneyUrls(),CIB.responseTone=undefined),ks?(CIB.manager.chat.api.bing._endpoint=window.document.location.origin,CIB.setGptCreatorMode(),ei(i),CIB.config.sydney.request.optionsSets=["nlu_direct_response_filter","deepleo","enable_debug_commands","disable_emoji_spoken_text","responsible_ai_policy_235","enablemm","dv3sugg","autosave","iyxapbing","iycapbing","pluginval","eredirecturl","flux_phone_beta","clgalileo","flux_botbuilder_base",],ds&&CIB.config.fileupload&&(CIB.config.fileupload.extraOptionsSetV2=[])):et||ot?(es||(CIB.manager.chat.api.bing._endpoint=window.document.location.origin),ei(i)):h?ei(i):(t=CIB.insertAt(i),oi()),ft&&(_w&&_w.completeCIBInit&&typeof _w.completeCIBInit=="function"&&_w.completeCIBInit(),CIB.focusChatInputElement&&CIB.focusChatInputElement()),ou(),SydFSCHelper.setColorScheme(),os=SydFSCHelper.getConfigOrDefault((co=_w._sydConvConfig)===null||co===void 0?void 0:co.isBingChatForEnterprise,!1),hs=SydFSCHelper.getConfigOrDefault((lo=_w._sydConvConfig)===null||lo===void 0?void 0:lo.enableBCEDynamicPrompts,!1),fh=SydFSCHelper.getConfigOrDefault((ao=_w._sydConvConfig)===null||ao===void 0?void 0:ao.enableFreeSydney,!1),eh=os&&!hs&&typeof BceSydneyHelper!="undefined"?BceSydneyHelper.getSydneyWelcomeCards:undefined,oh=os&&hs&&typeof BceSydneyHelper!="undefined"?BceSydneyHelper.getFallBackTilesForBCE:undefined,sh=pi&&fh&&typeof GPTHomeScreen!="undefined",ut&&(tu?CIB.theme.addStyles("cib-background",CIB.theme.createStyles(':host([serp-slot="none"][product="bing"][background-type="gradient"]) { background: #'+ut+" !important;}")):CIB.theme.addStyles("cib-background",CIB.theme.createStyles(':host([product="bing"][background-type="gradient"]) { background: #'+ut+" !important;}"))),th?GPTHomeScreen===null||GPTHomeScreen===void 0?void 0:GPTHomeScreen.attachPersonaChangeEvents(t):yt?sh?GPTHomeScreen===null||GPTHomeScreen===void 0?void 0:GPTHomeScreen.attachPersonaChangeEvents(t):sj_evt.fire("cib_init",t):pt?sj_evt.bind("sydWelcomeScreen",function(){SydWelcomeScreen===null||SydWelcomeScreen===void 0?void 0:SydWelcomeScreen.setContent(t,eh,oh)},!0):wi&&(SydneyChatFRE===null||SydneyChatFRE===void 0?void 0:SydneyChatFRE.setContent(t)),hh=SydFSCHelper.getConfigOrDefault((vo=_w._sydConvConfig)===null||vo===void 0?void 0:vo.useAccountLinkingForConversationLimitUpsell,!1),hh&&(CIB.config.bing.signIn.query.action="acclink",CIB.config.bing.signIn.query.crea="MY04B",CIB.config.bing.signIn.query.pn="AccountLinking_Chat",CIB.config.bing.signIn.query.publ="BingIP"),ws&&CIB.config.sydney.request.optionsSets.push("dlbing"),ss&&CIB.config.sydney.request.optionsSets.push(ss),ir)SydFSCHelper.lastQuery=SydFSCHelper.getQuery().toLowerCase().trim();else{CIB.config.greeting.shouldSendBotGreeting=SydFSCHelper.shouldForceSendBotGreeting;ui||(sj_evt.bind("ajax.unload",function(){SydFSCHelper.shouldResetBotGreeting=!1}),sj_evt.bind("ajax.load",function(){SydFSCHelper.shouldResetBotGreeting=!0}));CIB.onConversationRequestStateChange(function(n){n||CIB.config.greeting.shouldSendBotGreeting||!SydFSCHelper.shouldResetBotGreeting||(CIB.config.greeting.shouldSendBotGreeting=!gs)})}return(ui&&sj_evt.bind("ajax.load",function(){_G[SydFSCHelper.SYD_MODE]="serp"}),ch=SydFSCHelper.getConfigOrDefault((yo=_w._sydConvConfig)===null||yo===void 0?void 0:yo.disResetTT,!0),ch&&(cs=(wo=(po=t===null||t===void 0?void 0:t.shadowRoot)===null||po===void 0?void 0:po.querySelector("cib-action-bar"))===null||wo===void 0?void 0:wo.shadowRoot,cs&&(rs=sj_ce("style"),rs.textContent="\n                    cib-tooltip {\n                        display: none !important;\n                    }\n                ",cs.appendChild(rs))),!(gr&&"SydneyTestHelper"in _w))?[3,5]:[4,SydneyTestHelper===null||SydneyTestHelper===void 0?void 0:SydneyTestHelper.setTestMocks()];case 4:ph.sent();ph.label=5;case 5:if(rr&&(lh=new URLSearchParams(_w.location.search),ls=lh.get("convid"),ls&&pe(ls)),es||os||!ih||!rh||(as=SydFSCHelper.getConfigOrDefault(_w.sessionStorage.getItem("CONV_ID"),""),as&&(CIB.loadConversationAsync(as),sessionStorage.removeItem("CONV_ID"))),is=(bo=_d.querySelector("cib-serp"))===null||bo===void 0?void 0:bo.shadowRoot,us=is===null||is===void 0?void 0:is.querySelector("cib-conversation"),us&&us.shadowRoot&&(y=us.shadowRoot.querySelector(".scroller"),rs=sj_ce("style"),ps&&(rs.textContent="\n                cib-notification-container {\n                    display: none;\n                }\n            "),us.shadowRoot.appendChild(rs)),bs&&(vs=(go=(ko=is===null||is===void 0?void 0:is.querySelector("cib-action-bar"))===null||ko===void 0?void 0:ko.shadowRoot)===null||go===void 0?void 0:go.querySelector(".autosuggest-text"),vs&&(vs.style.display="none")),ys="ontouchstart"in window||!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,ni&&Log.Log("ClientInst","Codex","TabletScrollDisabled"),ys&&Log.Log("ClientInst","Codex","TouchD"),ti&&Log.Log("ClientInst","Codex","TouchDesktopScrollDisabled"),a||ni||ys&&ti||u)u&&PanelTransition.init();else if(sj_be(_w,"mousewheel",ee),sj_be(_w,"touchstart",oe),sj_be(_w,"touchmove",se),sj_be(_w,"touchend",he),Log.Log("ClientInst","Codex","BindedScrollEvents"),sr&&(fs=(ns=_d.querySelector("cib-serp"))===null||ns===void 0?void 0:ns.shadowRoot.querySelector("cib-side-panel"),fs&&sj_be(fs,"mouseenter",ue),fs&&sj_be(fs,"mouseleave",fe)),hr&&CIB.onModalVisibilityChanged)CIB.onModalVisibilityChanged(function(n){cr=n});SydFSCHelper.triggerShareFlow();hu();sj_evt.bind("ajax.load",hu);c&&(SydFSCHelper.setupHistory(),SydFSCHelper.checkInitialState());pf();a&&ae();SydFSCHelper.triggerClarity();CIB.onResetConversation(function(){SydFSCHelper.shouldMove1TAnswers(rt,p)&&lu()});CIB.onModeChanged(function(n){sj_evt.fire("onModeChanged",n)});if(CIB.onMobileUpsellPopupShown)CIB.onMobileUpsellPopupShown(function(){var n={convId:CIB.manager.conversation.id,responseTone:CIB.responseTone};SydFSCHelper.SydLog("SystemEvent","MobileUpsell","MobileUpsellPopupShown",n);SydFSCHelper.createRequest("sydchat/writeConvInfo",JSON.stringify(n))});return ah=((ts=_w.BingChatCustomGreetingString)===null||ts===void 0?void 0:ts.length)>0,lr&&!ah&&SydFSCHelper.processCachedResponseUsingCIB(JSON.parse(ar)),pr&&SydFSCHelper.updateChatBackgroundWidth(),wr&&SydFSCHelper.hideSignInUpsellFor3P(),iu&&SydFSCHelper.hideTopFade(),we(),typeof SydneyTruncateIdName!="undefined"&&SydneyTruncateIdName.initTruncateIdName&&SydneyTruncateIdName.initTruncateIdName(),[2]}})})}function ou(){var n,i=SydFSCHelper.getConfigOrDefault((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableCopilotChatIdentityDisplay,!1),t;i&&(t=_ge("id_l"),t&&(t.style.display="inline-block"))}function cf(){var n,t;k=SydFSCHelper.getConfigOrDefault((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableChatContAfterHeader,!0);i=_ge(ci);k?i&&Lib.CssClass.add(sj_b,du):(t=_ge(u?"b_header_outer":"b_header"),i&&t&&sj_b.insertBefore(i,t))}function lf(){l||a||(_w.scrollY>0&&_w.scrollTo(0,0),_d.documentElement&&!u&&(Lib.CssClass.add(_d.documentElement,"b_disOvflw"),Lib.CssClass.remove(_d.documentElement,"b_delayOvflw")))}function af(){yt?sj_evt.fire("renderWsSlot",t):pt&&(SydWelcomeScreen===null||SydWelcomeScreen===void 0?void 0:SydWelcomeScreen.addWelcomeContainerChildSlot(t))}function vf(){var n=_ge("sydneyPayWall");n&&ft&&(n.style.display="none")}function yf(){var n=_ge("b_content");sb_st(function(){n&&Lib.CssClass.contains(n,"b_showconv")&&Lib.CssClass.remove(n,"b_showconv")},0)}function su(){var i=_ge("b-scopeListItem-web"),t,n;i&&_d&&(t="\n                .b_scopebar #b-scopeListItem-web {\n                    visibility: visible;\n                }\n\n                body:not(.b_notebookMode) #b-scopeListItem-conv::after {\n                    opacity: 0;\n                }\n\n                .b_notebookMode nav.b_scopebar li.b_active#b-scopeListItem-notebook::after {\n                    opacity: 0;\n                }\n            ",n=_d.createElement("style"),n.setAttribute("type","text/css"),_d.head.appendChild(n),n.innerHTML=t);sj_evt.unbind("ajaxReady",su)}function ei(n){var i=sj_ce("div");t=CIB.insertAt(i);oi();CIB.showConversation();n.appendChild(t);u&&sj_evt.fire("showSydFSC")}function hu(){sj_evt.bind("hideSydFSC",function(n){var g,nt,ut,h,ft,i,tt,r,y,it,f,e,t,o,d;if(!bt){if(bt=!0,Log.Log("ClientInst","Codex","LeaveConversationMode"),l||(Lib.CssClass.remove(sj_b,v),ut=_ge("tallhead"),ut&&(fu?_w.scrollTo(0,0):_w.scrollBy(0,48))),k&&sb_rst(function(){if(!Lib.CssClass.contains(sj_b,v)){var n=_ge("b_header"),t=_d.querySelector(".b_scopebar");t&&(n===null||n===void 0?void 0:n.insertBefore(t,ki))}},u?0:1e3),h=_ge("sb_form"),h&&Lib.CssClass.contains(h,"hassbi")&&Lib.CssClass.remove(h,"hassbi"),ft=n&&n.length>2?n[2]:!1,!ft&&u&&PanelTransition.transitionDirectToSerp(),CIB.hideConversation(),l||a||(u||Lib.CssClass.add(_d.documentElement,"b_delayOvflw"),SydFSCHelper.shouldMove1TAnswers(rt,p)&&lu(),i=_ge("b-scopeListItem-web"),tt=_d.getElementById("id_flight_banner"),tt&&(tt.style.display="none"),i&&i.children.length>0&&(i.children[0].setAttribute("aria-current","page"),Lib.CssClass.add(i,"b_active"),((g=_G===null||_G===void 0?void 0:_G.EF)===null||g===void 0?void 0:g.chatskip2content)===1||((nt=_ge("b_skip_to_content"))===null||nt===void 0?void 0:nt.setAttribute("tabindex","0"))),r=_ge("b-scopeListItem-conv"),r&&r.children.length>0&&(r.children[0].setAttribute("aria-current","false"),Lib.CssClass.remove(r,"b_active")),y=_ge("b_phead_chat"),y&&Lib.CssClass.contains(y,"b_active")&&Lib.CssClass.remove(y,"b_active")),_G[SydFSCHelper.SYD_PREV_MODE]!=_G[SydFSCHelper.SYD_MODE]&&(_G[SydFSCHelper.SYD_PREV_MODE]=_G[SydFSCHelper.SYD_MODE],c&&(it=n&&n.length>1?n[1]:!1,it&&SydFSCHelper.LogIntEvent("ConversationViewExit","Conversation",{source:"BackButton"}),it||SydFSCHelper.pushSydHistory(!1))),!c&&at&&SydFSCHelper.updateConvFlagInURL(!1),SydFSCHelper.updateConvPageTitle(!1),_G[SydFSCHelper.SYD_MODE]="serp",dt){if(f=_ge("b_pole"),!f){for(f=sj_ce("div","b_pole"),e=_d.querySelector("main"),t=_ge("b_results");t&&e&&t.parentElement!=e;)t=t.parentElement;e&&t&&e.insertBefore(f,t)}SydFSCHelper.addCarousel(f)}else if(gi&&(o=CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text!="Generating answers for you..."||n.type==="text"&&n.author==="user"}),o&&o.length>0)){var w=o[o.length-1].text.split("`"),b=w.length==1?w[0]:w.length==3?w[1]:"",et=_ge("sb_form_go"),ot=_ge("sb_form_q");_w.sj_isAjax&&b&&ot.value.toLowerCase()!=b.toLowerCase()&&et&&(ot.value=b,SydFSCHelper.lastQuery=b,et.click())}s&&sj_evt.fire("switchToWeb");sj_ue(_w,"beforeprint",vu);sj_ue(_w,"afterprint",yu);d=_ge("b_content");d&&Lib.CssClass.contains(d,"b_hide")&&Lib.CssClass.remove(d,"b_hide");wu(!1);bt=!1}});sb_st(function(){nu||(sj_evt.bind("showSydFSC",ie,!0),s&&sj_evt.bind("showNotebook",function(n){var i,r,u,f,o,e;sj_evt.fire("switchToNotebook");SydFSCHelper.addNotebookFlagInURL();SydFSCHelper.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSetNotebookAlignment,!0)&&t.setAttribute("alignment","left");f=SydFSCHelper.getConfigOrDefault((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableLoopNotebook,!1);SydFSCHelper.LogIntEvent("showNotebookFired","Notebook",{source:"ShowNotebook",loop:f});f?sj_evt.fire("setupNotebookLoop"):SydFSCHelper.setNotebookOptions();o=SydFSCHelper.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.disableShareLinkShowntbk,!1);o||(e=n&&n.length>1?n[1]:"",e&&CIB.loadSharedConversation(e))},!0))},0);br&&sj_evt.bind("sydFSCLoaded",yf,!0);h&&sj_evt.bind("ajaxReady",su,!0);sj_evt.bind("onModeChanged",function(n){setTimeout(function(){var t,i,r,u,f,e,o,h,c;s&&_G[SydFSCHelper.SYD_PREV_MODE]==="notebook"&&n[1]!=="notebook"&&(SydFSCHelper.setDefaultOptions(),CIB.config.features.enableNotebookPrefilledQuery&&(h=(e=(f=(u=(r=(i=(t=_d.querySelector("cib-serp"))===null||t===void 0?void 0:t.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-action-bar"))===null||r===void 0?void 0:r.shadowRoot)===null||u===void 0?void 0:u.querySelector(".input-container").querySelector("cib-text-input"))===null||f===void 0?void 0:f.shadowRoot)===null||e===void 0?void 0:e.querySelector("label"),h.setAttribute("data-suggestion",""),c=h.querySelector(".autosuggest"),c.setAttribute("hidden",""),c.querySelector(".append").innerHTML=""),af(),SydFSCHelper.getConfigOrDefault((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableSetNotebookAlignment,!0)&&oi())},0)});sj_evt.fire("convInit:done")}function oi(){var n,i,r,u,f,e,h=SydFSCHelper.getConfigOrDefault((n=_w._sydConvConfig)===null||n===void 0?void 0:n.isCopilotChat,!1),c=SydFSCHelper.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableThreads,!1),o=SydFSCHelper.getConfigOrDefault((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableChatCenterAlign,!0),l=SydFSCHelper.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isUnionClient,!1),s=(h||l)&&!c||o;t.setAttribute("alignment",s?"center":"left");s&&CIB&&((f=CIB.vm)===null||f===void 0?void 0:f.alignment)&&(CIB.vm.alignment="center");o&&((e=t===null||t===void 0?void 0:t.style)===null||e===void 0?void 0:e.setProperty("--cib-comp-conversation-max-width","840px"))}function cu(){var t;o=((t=_d.getElementsByClassName("b_top"))===null||t===void 0?void 0:t.length)>0?_d.getElementsByClassName("b_top")[0]:null;yi=sj_b.querySelector("#b_sydTigerCont")!=null;vt=!!o&&o.querySelector("#sydwrap_wrapper")!=null;n.moveOnlySydXAnswers&&(f=sj_b.querySelector("#sydwrap_wrapper #b_syd_sm_chat .b_wpt_chat"),f&&(Lib.CssClass.add(f,bi),fr=f.querySelector(".b_wpt_creator_content")!=null))}function pf(){var n=_ge("id_hbfo");sj_be(n,"click",function(n){var r=n.target,t,i;_G[SydFSCHelper.SYD_MODE]=="conversation"&&r&&(t=wf(r),t&&t.target!="_blank"&&(i="",t.href.indexOf("/profile/")>=0?i="profile":t.href.indexOf("/account/")>=0&&(i="account"),SydFSCHelper.LogIntEvent("ConversationViewExit","Conversation",{source:"ClickMenu",target:i})))})}function wf(n){while(n!=null){if(n.tagName=="A"&&Lib.CssClass.contains(n,"hb_section"))return n;n=n.parentElement}return null}function si(n,t,i){i===void 0&&(i=!1);t&&n&&(i?n.prepend(t):n.appendChild(t))}function bf(n){var u,f,e,o,s,h;if(!li){si(_ge("b_sydtoporpole"),n);return}var l=_d.querySelector("cib-serp"),t=(f=(u=_d.querySelector("cib-serp"))===null||u===void 0?void 0:u.shadowRoot)===null||f===void 0?void 0:f.querySelector("cib-conversation"),i=(o=(e=t===null||t===void 0?void 0:t.shadowRoot)===null||e===void 0?void 0:e.querySelector(".scroller"))===null||o===void 0?void 0:o.querySelector(".main cib-welcome-container"),c=(h=(s=t===null||t===void 0?void 0:t.shadowRoot)===null||s===void 0?void 0:s.querySelector(".scroller"))===null||h===void 0?void 0:h.querySelector(".main");t===null||t===void 0?void 0:t.appendChild(g);i?i===null||i===void 0?void 0:i.after(nt):c===null||c===void 0?void 0:c.prepend(nt);r===null||r===void 0?void 0:r.appendChild(n);vi;si(l,r);kf()}function kf(){df();gf()}function df(){var t=_d.querySelector("#sydFirstAnswer .b_wpt_chat"),n=_d.querySelector("#sydFirstAnswer .b_wpt_chat .b_wpt_chat_inner");t&&n&&(t.querySelector("b_wpt_chat_inner > .b_sideBleed")&&(n.style.padding="0 20px 5px 20px"),t.querySelector(".b_wpt_chat_inner > .wtr_core.b_sideBleed, .b_wpt_chat_inner > .b_sideBleed #lMapContainer, .b_wpt_chat_inner > .ji_container, .b_wpt_chat_inner > .b_sideBleed #placeAnswer, .b_wpt_chat_inner > .b_sideBleed .ckt_main, .b_wpt_chat_inner > .b_sideBleed .mit_ans, .b_wpt_chat_inner > .jobsAnswerContainer, .b_wpt_chat_inner > div .sa_main")&&(n.style.padding="unset"),n.querySelector(".b_wpt_creator")&&(n.style.padding="0px"),n.querySelector(".b_wpt_insights")&&(n.style.paddingTop="0px",n.style.paddingBottom="0px"))}function gf(){var n=_d.querySelector("#sydFirstAnswer .b_wpt_chat");n&&n.querySelector(".b_wpt_creator")&&(n.style.boxShadow="unset")}function ne(){if(cu(),n.moveOnlySydXAnswers){if(!f||er&&fr)return;(p||vt&&!yi)&&sb_st(function(){bf(f)},rf)}}function lu(){if(n.moveOnlySydXAnswers){if(!f)return;var t=sj_b.querySelector("#sydwrap_wrapper #b_syd_sm_chat");t&&!t.contains(f)&&f&&(Lib.CssClass.remove(f,bi),si(t,f,!0))}}function au(){var n=new URLSearchParams(_w.location.search),t=n.get("sendquery");return t==="1"}function te(){var n=_ge("conv-css-link");n&&!n.classList.contains("css-conv-added")&&(n.setAttribute("rel","stylesheet"),n.setAttribute("class","css-conv-added"))}function ie(n){var t,r,f,e,o,h,y,w,b,d,g,nt,tt,it,ut,ft;return __awaiter(this,void 0,void 0,function(){var bt,gt,pi,wi,bi,di,gi,tr,ir,rr,ui,et,ei,fr,ot,er,or,vt,ni,oi,sr,ti,hr,st,cr,ii,lr,si,ar,hi,yt,ct,pt,ri,ci,lt,li,vi,yi;return __generator(this,function(pr){switch(pr.label){case 0:return(bt=!1,SydFSCHelper.getConfigOrDefault((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableshowSydFSCThrottle,!1)&&_G[SydFSCHelper.SYD_MODE]==="conversation")?(gt=n&&n.length>1?n[1]:null,pi=n&&n.length>2?n[2]:null,wi=n&&n.length>3?n[3]&&n[3]!=="":!1,bi=n&&n.length>5?n[5]:null,di=n&&n.length>7?n[7]:!1,gi=n&&n.length>8?n[8]:!1,tr=n&&n.length>9?n[9]:!1,SydFSCHelper.getConfigOrDefault((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableAlwaysSendMsg,!1)&&tr&&gt&&(bt=SydFSCHelper.sendFirstQuery(gi?gt.trim():gt.toLowerCase().trim(),pi,bi,di||au(),wi)),[2]):wt?[2]:(wt=!0,!(fi&&!kt))?[3,2]:[4,SydFSCHelper.setConvTranslationAsync()];case 1:ir=pr.sent();kt=ir;pr.label=2;case 2:return SydFSCHelper.updateResponseToneAfterSerp(),rr=SydFSCHelper.getConfigOrDefault((f=_w._sydConvConfig)===null||f===void 0?void 0:f.disableAllChatAds,!1),CIB.config.features.enableAds=!rr,ur&&(ui=CIB.config.sydney.request.optionsSets.indexOf("nocacheread"),ui>=0&&CIB.config.sydney.request.optionsSets.splice(ui,1)),vr&&te(),_w.scrollY==0&&(fu=!0),et=_ge("b_header"),ei=!1,et&&ht&&Lib.CssClass.contains(et,ht)&&(Lib.CssClass.remove(et,ht),SydFSCHelper.getConfigOrDefault((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableShareLinkTrackLog,!1)?(ot=new URLSearchParams(window.location.search),fr=!!ot.get("shareId")&&!!ot.get("shid"),SydFSCHelper.LogIntEvent("ConversationViewEnter","Scope",{source:fr?"ShareLink":"ShowConv"})):SydFSCHelper.LogIntEvent("ConversationViewEnter","Scope",{source:"ShowConv"}),s&&(ot=new URLSearchParams(window.location.search),er=SydFSCHelper.getConfigOrDefault((o=_w._sydConvConfig)===null||o===void 0?void 0:o.disableShareLinkShowntbk,!1),or=!!ot.get("shareId"),ei=er&&or?!1:ot.get("showntbk")==="1")),et&&!Lib.CssClass.contains(et,"b_bcbSwitch")&&kr&&Lib.CssClass.add(et,"b_bcbSwitch"),dt&&SydFSCHelper.removeQueries(),vt=n&&n.length>1?n[1]:null,ni=n&&n.length>2?n[2]:null,p=n&&n.length>3?n[3]==tf:!1,oi=n&&n.length>3?n[3]&&n[3]!=="":!1,sr=n&&n.length>3?(h=n[3])!==null&&h!==void 0?h:"":"",ti=n&&n.length>5?n[5]:null,hr=n&&n.length>6?n[6]:!1,st=n&&n.length>7?n[7]:!1,cr=n&&n.length>8?n[8]:!1,ii=n&&n.length>10?n[10]:!0,lr=(n&&n.length>11?n[11]:!1)||u&&Lib.CssClass.contains(sj_b,gu),lf(),l||(Lib.CssClass.add(sj_b,v),k&&sb_st(function(){if(Lib.CssClass.contains(sj_b,v)){var t=_ge("id_h"),n=_d.querySelector(".b_scopebar");ki=n&&n.nextSibling;t&&n&&(et===null||et===void 0?void 0:et.insertBefore(n,t))}},1e3)),SydFSCHelper.shouldMove1TAnswers(rt,p,vt)&&ne(),vt&&(si=SydFSCHelper.getConfigOrDefault((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableSendQueryTextMessage,!0),ar=SydFSCHelper.getConfigOrDefault((w=_w._sydConvConfig)===null||w===void 0?void 0:w.isCopilotQueryIntentional,!1),hi=au(),ii=ii&&!(hi&&si&&!ar),st=st||hi&&!si,bt=SydFSCHelper.sendFirstQuery(cr?vt.trim():vt.toLowerCase().trim(),ni,ti,st,oi,ii),oi&&SydFSCHelper.LogIntEvent("EnteredToChatFromSerpChips",sr,"")),!lr&&u&&PanelTransition.transitionDirectToCopilot(),CIB.showConversation(),hr&&(yt=[],ti&&yt.push({author:"user",text:ti}),ni&&yt.push({author:"bot",text:ni}),ai&&yt.length!=0&&CIB.registerContext(yt),CIB.toggleSpeechEnabled(),CIB.triggerMic()),l||a||(ct=_ge("b-scopeListItem-web"),ct&&ct.children.length>0&&ct.parentElement&&(ct.children[0].setAttribute("aria-current","false"),Lib.CssClass.remove(ct,"b_active")),pt=_ge("b-scopeListItem-conv"),ri=_ge("b_bceBcbToggle"),ci=ri===null||ri===void 0?void 0:ri.querySelector(".selected"),pt&&pt.children.length>0&&(pt.children[0].setAttribute("aria-current","page"),Lib.CssClass.add(pt,"b_active"),((b=_G===null||_G===void 0?void 0:_G.EF)===null||b===void 0?void 0:b.chatskip2content)===1||((d=_ge("b_skip_to_content"))===null||d===void 0?void 0:d.setAttribute("tabindex","-1")),ci&&st&&ci.focus(),nr&&(lt=_d.querySelector(".b_sydConvMode"),li=lt&&((ft=(ut=(it=(tt=(nt=(g=lt===null||lt===void 0?void 0:lt.querySelector("cib-serp"))===null||g===void 0?void 0:g.shadowRoot)===null||nt===void 0?void 0:nt.querySelector("cib-action-bar"))===null||tt===void 0?void 0:tt.shadowRoot)===null||it===void 0?void 0:it.querySelector(".input-container").querySelector("cib-text-input"))===null||ut===void 0?void 0:ut.shadowRoot)===null||ft===void 0?void 0:ft.querySelector("textarea")),vi=_d.documentElement,lt&&li&&!st&&li.focus(),vi&&i&&et&&sj_be(vi,"keydown",function(n){Log&&Log.Log("Info","Accessibility","KeyboardNavigationSydney");(n.code=="Tab"||n.keyCode==9||n.key=="Tab")&&(i.contains(n.target||n.srcElement)||et.contains(n.target||n.srcElement)||(i.tabIndex=0,i.focus()))})))),_G[SydFSCHelper.SYD_PREV_MODE]!=_G[SydFSCHelper.SYD_MODE]&&(_G[SydFSCHelper.SYD_PREV_MODE]=_G[SydFSCHelper.SYD_MODE],c&&(yi=n&&n.length>4?n[4]:!1,yi&&SydFSCHelper.LogIntEvent("ConversationViewEnter","Conversation",{source:"BackButton"}),yi||SydFSCHelper.pushSydHistory(!0))),!c&&at&&SydFSCHelper.updateConvFlagInURL(!0),SydFSCHelper.updateConvPageTitle(!0),yr||re(),_G[SydFSCHelper.SYD_MODE]="conversation",!bt&&CIB.config.features.enablePartnerVisualSearchUpload&&SydFSCHelper.submitVisualSearchImage(),ei&&sj_evt.fire("switchToNotebook"),sj_be(_w,"beforeprint",vu),sj_be(_w,"afterprint",yu),wu(!0),wt=!1,[2]}})})}function re(){var n=ClientObserver.getBrowserWidth(),t=ClientObserver.getBrowserHeight();SydFSCHelper.set2TQueryConfigs(n,t,or)}function ue(){ri=!0}function fe(){ri=!1}function ee(n){var t=0;n||(n=window.event);n.wheelDelta?t=n.wheelDelta/60:n.detail&&(t=-n.detail/2);pu(t,d)}function oe(n){gt=n.changedTouches[0].clientY;b=n.touches&&n.touches.length>1?!0:!1}function se(n){var t=n.changedTouches[0].clientY-gt;pu(t,nf,!0)}function he(n){e=0;tt=!1;it=!1;gt=0;b=n.touches&&n.touches.length!==0}function vu(){var n=_ge("b_content");n&&Lib.CssClass.add(_ge("b_content"),"b_hide")}function yu(){var n=_ge("b_content");n&&Lib.CssClass.remove(n,"b_hide")}function pu(n,t,i){var u,f,o,c,y,r,a,p;if(i===void 0&&(i=!1),Log.Log("ClientInst","Codex","CheckScrollCalled"),!ri&&!cr){if(sb_ct(di),tt||(w=Lib.CssClass.contains(sj_b,v),it=w?le():_w.scrollY==0),tt=!0,it&&(e+=n),i||(di=sb_st(function(){e=0;tt=!1;it=!1},150)),y=!w&&e>ct&&_G[SydFSCHelper.SYD_MODE]!="conversation"&&!b,r=lt&&w&&e<-1*ct&&_G[SydFSCHelper.SYD_MODE]=="conversation"&&!b,s&&!r){var k=SydFSCHelper.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableNotebookInputBoxScroll,!0),l=(o=(f=_d.querySelector("cib-serp"))===null||f===void 0?void 0:f.shadowRoot)===null||o===void 0?void 0:o.querySelector("cib-action-bar"),d=k&&((c=l===null||l===void 0?void 0:l.shadowRoot)===null||c===void 0?void 0:c.querySelector(".root").hasAttribute("focus"));r=lt&&w&&e<-1*ct&&_G[SydFSCHelper.SYD_MODE]=="notebook"&&!b&&!d}y?(Log.Log("ClientInst","Codex","ScrollToChat"),!ii&&e>t&&(ru?SydFSCHelper.LogIntEvent("ConversationViewEnter","Scope",{source:"ChatBubble"}):SydFSCHelper.LogIntEvent("ConversationViewEnter","Scope",{source:"ScrollUp"}),SydFSCHelper.triggerSydFSCQueryWithContext("","",!1))):r&&(Log.Log("ClientInst","Codex","ScrollOutChat"),a=s&&_G[SydFSCHelper.SYD_MODE]==="notebook",p=!a||a&&dr,!ii&&p&&e<-1*t&&(h&&!ce()?sj_evt.bind("ajaxReady",hi,!0):hi()))}}function ce(){var n=_ge(uf);return n&&!Lib.CssClass.contains(n,ff)}function hi(){h&&SydFSCHelper.isCookieBannerVisibileOnChatPage()||(SydFSCHelper.LogIntEvent("ConversationViewExit","Scope",{source:"ScrollDown",target:_G[SydFSCHelper.SYD_PREV_MODE]}),sj_evt.fire("hideSydFSC"),sb_st(function(){_w.scrollTo(0,0)},1),(h||uu)&&sj_evt.unbind("ajaxReady",hi))}function le(){return!y?!1:Math.abs(y.scrollTop-(y.scrollHeight-y.offsetHeight))<1}function ae(){var t,i,r,e=_ge("b_sydOvrClose"),n,u,f;e&&sj_be(e,"click",function(){sj_evt.fire("hideSydFSC")});n=(r=(i=(t=_d.querySelector("#b_sydConvCont cib-serp"))===null||t===void 0?void 0:t.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-action-bar"))===null||r===void 0?void 0:r.shadowRoot;u=n===null||n===void 0?void 0:n.querySelector(".outside-left-container");u&&(u.style.display="none");tr&&n&&(f=sj_ce("style"),f.textContent="\n                .control.microphone {\n                    display: none;\n                }\n            ",n.appendChild(f))}function ve(n){var i,r,t=_ge("id_rfob");n&&((i=t===null||t===void 0?void 0:t.style)===null||i===void 0?void 0:i.display)?t.style.display="none":undefined;!n&&((r=t===null||t===void 0?void 0:t.style)===null||r===void 0?void 0:r.display)?t.style.display="inline-flex":undefined}function wu(n){var t,i,r=SydFSCHelper.getConfigOrDefault((t=_w._sydConvConfig)===null||t===void 0?void 0:t.isCompliantSydneyEndpointEnabled,!1),u=SydFSCHelper.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isBingChatForEnterprise,!1);(r||u)&&ve(n)}function ye(n,t){var i,r,u,f,e;n===void 0&&(n=null);t===void 0&&(t=d);e=(i=_w._sydPayWallConfig)===null||i===void 0?void 0:i.loadSydneyConvResWithPayWall;e?sj_evt.bind("waitlistUpdate:eligible",function(){return bu(null,t)},!0):bu(n,t);var o=SydFSCHelper.getConfigOrDefault((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableCopilotChatIdentityOnAnySignin,!1),s=SydFSCHelper.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isAADAuthenticated,!1),h=SydFSCHelper.getConfigOrDefault((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isMSAAuthenticated,!1);o&&(s||h)&&ou()}function bu(n,t){var i;n===void 0&&(n=null);t===void 0&&(t=d);ft=SydFSCHelper.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCIBBootstrapper,!1);ft?SydneyBootstrapper&&SydneyBootstrapper.bindToCIBInit(function(){return eu(n)}):void eu(n);d=t}function pe(n){CIB.loadConversation(n);SydFSCHelper.lastQuery=SydFSCHelper.getQuery().toLowerCase().trim()}function we(){var c=this,i,r,u,f,e=(i=_w._sydConvConfig)===null||i===void 0?void 0:i.pluginDevToolsDfpSessionId,o,s,h,t,n;e&&(o=(r=_w._sydConvConfig)===null||r===void 0?void 0:r.pluginDevToolsDfpOrganizationId,o&&(t=new URL("https://vlscppe.microsoft.com/fp/tags.js"),t.searchParams.append("org_id",o),t.searchParams.append("session_id",e),n=document.createElement("script"),n.type="text/javascript",n.src=t.toString(),n.async=!0,document.head.appendChild(n)),s=(u=_w._sydConvConfig)===null||u===void 0?void 0:u.pluginDevToolsDfpInstanceId,h=(f=_w._sydConvConfig)===null||f===void 0?void 0:f.pluginDevToolsDfpPageId,s&&h&&(t=new URL("https://ov-df.microsoft.com/mdt.js"),t.searchParams.append("session_id",e),t.searchParams.append("instanceId",s),t.searchParams.append("pageid",h),n=document.createElement("script"),n.type="text/javascript",n.src=t.toString(),n.async=!0,n.onload=function(){window.dfp.doFpt(c.document)},document.head.appendChild(n)))}var st,v="b_sydConvMode",ht="b_sydShowConv",ci="b_sydConvCont",du="b_ctf",gu="is-copilot",d=10,ct=10,nf=100,li,lt,u,ai,c,at,vi=!1,o,vt,f=null,yi=!1,t,yt,pi,pt,wi,y,r,g,nt,tf="SYDX_WRAPPER",p=!1,bi="b_sydxwrappedanswer",rf=1e3,wt=!1,bt=!1,kt=!1,ki=null,uf="b_content",ff="noSecondChunk",e=0,di,tt=!1,it=!1,w=!1,ef=!1,rt=!1,gi=!1,dt=!1,l=!1,a=!1,nr=!1,gt,ku;n.moveOnlySydXAnswers=!1;var tr=!1,ir=!1,rr=!1,sf=!1,ur=!1,fr=!1,er=!1,or=!1,ni=!1,ti=!1,ii=!1,sr=!1,ri=!1,hr=!1,cr=!1,ui=!1,lr=!1,ar="",b=!1,vr,yr=!1,pr=!1,wr=!1,br=!1,kr=!1,s=!1,dr=!1,gr=!1,k=!1,nu=!1,ut="",tu=!1,iu=!1,ru=!1,h=!1,uu=!1,fu=!1,fi=!1,hf=!1,ft=!1,et=!1,i,ot=!1;(typeof sj_b=="undefined"||sj_b==null)&&(window.sj_b=document.body);n.init1TAnswerContents=cu;n.initWithWaitlistUpdate=ye;ku=SydFSCHelper.getConfigOrDefault((st=_w._sydConvConfig)===null||st===void 0?void 0:st.enableSuperBowlWelcomescreenTest,!1);ku&&typeof WelcomeScreenLoader!="undefined"&&WelcomeScreenLoader.loadWelcomeScreen();sj_evt.fire("sydFSC.init")})(SydneyFullScreenConv||(SydneyFullScreenConv={}));var copilotBNPData ={"RawUrl":"/copilot?form=WSBSH2\u0026cvid=19a66de367894fd8b7b7d8cbdaf3e71f\u0026nclid=7350B772A50F4B4A44D9EE575F0E546A\u0026ts=1726831257734","Referer":"","NotificationsPartnerId":"copilot","IID":"discoverbing.5057"};;
//]]></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/ejZ64ujWKgpgzFpXlZ1IzLUcBvI.gz.js"></script><script type="text/javascript" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=">//<![CDATA[
(function(){function n(){Bnp.Global&&typeof copilotBNPData!="undefined"&&copilotBNPData&&(Bnp.Global.RawRequestURL=copilotBNPData.RawUrl,Bnp.Global.Referer=copilotBNPData.Referer);var n=new Bnp.Partner.Request(copilotBNPData.NotificationsPartnerId);n.IID=copilotBNPData.IID;n.Submit()}function t(){typeof Bnp!="undefined"&&(Bnp.PartnerRequestSubmitted||n())}sj_evt.bind("OnBnpLoaded",t,1,0)})();var BingUETTracking;(function(n){function t(){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.innerHTML='\n            (function(w,d,t,r,u) {\n                var f,n,i;\n                w[u]=w[u]||[],f=function() {\n                    var o={ti:"355026945", enableAutoSpaTracking: true};\n                    o.q=w[u],w[u]=new UET(o),w[u].push("pageLoad")\n                },\n                n=d.createElement(t),n.src=r,n.async=1,n.onload=n.onreadystatechange=function() {\n                    var s=this.readyState;\n                    s&&s!=="loaded"&&s!=="complete"||(f(),n.onload=n.onreadystatechange=null)\n                },\n                i=d.getElementsByTagName(t)[0],i.parentNode.insertBefore(n,i)\n            })\n            (window,document,"script","//bat.bing.com/bat.js","uetq");\n        ';_d.head.appendChild(n)}n.addUETTag=t;t()})(BingUETTracking||(BingUETTracking={}));var CTVPixelTagTracking;(function(n){function t(){var t=_d.createElement("img"),n;t.src="https://secure.adnxs.com/px?id=1776578&t=2";t.width=1;t.height=1;t.style.display="none";n=_d.createElement("iframe");n.style.display="none";n.id="iframe_CTV_Pixel";n.src="about:blank";n.onload=function(){n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.body.appendChild(t)};_d.body.appendChild(n)}n.addPixelTag=t;t()})(CTVPixelTagTracking||(CTVPixelTagTracking={}));sj_evt.bind("chs_init", function() { ChatHomeScreen.init("turing/api/suggestions/v2/zeroinputstarter"); }, 1);;var syd_loc_config ={"locations":{"locationsList":[]}};(function(){ sj_evt.bind("sydFSC.init",function() { var SydFSCModule = false ? SydneyFullScreenConvMob : SydneyFullScreenConv; if (SydFSCModule && SydFSCModule.initWithWaitlistUpdate){ SydFSCModule.initWithWaitlistUpdate(syd_loc_config, 10); } }, true); })();;if (!window.__showConvFired) { window.__showConvFired = true; sj_evt.fire("showSydFSC"); if (false) { sb_st(function(){ sj_evt.fire("showNotebook", ""); }, 0); } };
//]]></script><script type="text/javascript" crossorigin="anonymous" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" src="/rp/w2ofsCk32pPU3KO9nORg92ZePa0.gz.js"></script><script type="text/javascript" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=">//<![CDATA[
sj_evt.bind("onPP", function () { _w["rms"] && typeof _w["rms"].start == 'function' && _w["rms"].start(); }, true);;_w.rms.js({'A:rms:answers:Shared:BingCore.RMSBundle':'\/rp\/paUjPXJZwJJt08_2gEwJFetOkG4.gz.js'},{'A:rms:answers:SharedStaticAssets:WebVitals':'\/rp\/P5sulAQsfW7QvKFqa824mIUEgnA.gz.js'},{'A:rms:answers:WebVitals:WebVitalsMetrics4':'\/rp\/che2X0IxFAhC4EPVbjgGPzsgr-c.gz.js'},{'A:0':0},{'A:rms:answers:Shared:mlibCssClassAfterOnLoad':'\/rp\/dLXNK3o3tyXzkXA3Jj8ciHATOYc.gz.js'},{'A:1':1},{'A:rms:answers:Web:ClearSearchBox':'\/rp\/Y806JrL6RagU8tqNI_iN1M1S1mA.gz.js'},{'A:rms:answers:OrgId:SsoFrame':'\/rp\/PgVOrYqTvqK49IEnVEVlZVYfA1U.gz.js'},{'A:2':2},{'A:rms:answers:Identity:AccountLinkLoadProfileIcon':'\/rp\/pXVzgohStRjQefcwyp3z6bhIArA.gz.js'},{'A:rms:answers:VisualSystem:LanguageSwitch':'\/rp\/AZfy3NmHHQlEb_4KJu4H0LxxRhg.gz.js'},{'A:rms:answers:VisualSystem:ScopeBarRankInst':'\/rp\/fHuyi8cU3N_FKljgNDAU8JiBqx0.gz.js'},{'A:3':3},{'A:rms:answers:VisualSystem:LogTabCount':'\/rp\/WAAHGo-kP0xCDM16LGm9-alzHb8.gz.js'},{'A:4':4},{'A:rms:answers:Web:SydneyFullScreenConvLogging':'\/rp\/kme3yXVqq3l_x2uf0xdfvZGP6BM.gz.js'},{'A:ClientOSLogging':'\/rs\/6s\/ku\/jnc,nj\/cNbseG2vlUH2ubvgjbDJtgTzQPo.js'},{'A:rms:answers:SharedStaticAssets:speech-sdk':'\/rp\/4rFaDZMNzBHws4yVseaNHKgzTXM.gz.js'},{'A:rms:answers:Web:SydneyConvModeBackfacePatch':'\/rp\/n4XqUzu0nhrXuQOVDv1CXFZJG8Y.gz.js'});;
//]]></script><div id="aRmsDefer"><script type="text/rms" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=">//<![CDATA[
var pinnedHeaderParams ={};;
//]]></script><script type="text/rms" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=">//<![CDATA[
var BingAtWork;(function(n){var t;(function(){function h(){var t=f.value;/\S/.test(t)&&n()}function c(t){var i=t[0],r=t[1],u=t[2];n()}function l(n){var t=n&&n.length>1&&n[1];t&&Lib.CssClass.contains(t,"b_searchbox")&&t.id!=s&&a()}function a(){Lib.CssClass.add(sj_b,u)}function n(){Lib.CssClass.remove(sj_b,u)}function v(){sj_evt.bind("autosuggestHide",c,!0);sj_evt.bind("focusChange",l,!0);t&&sj_be(t,"submit",h)}function i(){(n(),r)||(t=_ge(e),f=_ge(o),r=!0,v())}var r=!1,u="as_on",e="sb_form",o="sb_form_q",s="uaseabox",t,f;sj_be(_d,"DOMContentLoaded",i);sj_evt.bind("onP1",i,!0);sj_evt.bind("ajax.load",i,!0);sj_evt.bind("pagehide",n);sj_evt.bind("ajax.unload",n)})(t=n.HeaderWithAutoSuggestState||(n.HeaderWithAutoSuggestState={}))})(BingAtWork||(BingAtWork={}));BingAtWork.HeaderWithAutoSuggestState.init && BingAtWork.HeaderWithAutoSuggestState.init(false);;
//]]></script><script type="text/rms" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=">//<![CDATA[
(function() { var config ={"url":"https%3a%2f%2flogin.microsoftonline.com%2fcommon%2foauth2%2fauthorize%3fclient_id%3d9ea1ad79-fdb6-4f9a-8bc3-2b70f96e34c7%26response_type%3did_token%26nonce%3d379211da-4383-443e-b8e3-8bed65b6693b%26redirect_uri%3dhttps%253a%252f%252fcopilot.microsoft.com%252forgid%252fidtoken%252fnosignin%26scope%3dopenid%2520email%2520profile%25209ea1ad79-fdb6-4f9a-8bc3-2b70f96e34c7%2f.default%26response_mode%3dform_post%26instance_aware%3dtrue%26msafed%3d0%26prompt%3dnone%26state%3d%257b%2522ig%2522%253a%25220FF6FCDFC93645978E50859680B34600%2522%257d","sandbox":"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts"}; if (false) { if (typeof dbg !== "undefined") { dbg.trace("OrgId", "Delaying SSO on postRBComplete event"); } sj_evt.bind('postRBComplete', function() { setTimeout(function() {_w.rms.js({'rms:answers:OrgId:SsoFrame':'\/rp\/PgVOrYqTvqK49IEnVEVlZVYfA1U.gz.js',d:1});sj_evt.fire('ssoFrameExists', config); }, 500); }, true, null, true); } else { sj_evt.fire('ssoFrameExists', config); } })();;(function () { var identityBtn = document.getElementById("id_l"); if (identityBtn) { identityBtn.addEventListener("click", function () { sj_log("CI.ICPopup", "popup", "1"); }); } })();;
//]]></script><script type="text/rms" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=">//<![CDATA[
var TextSpacing;(function(n){function f(n){if(typeof sj_ce!="undefined"&&u&&t&&r&&(window.MutationObserver||window.WebKitMutationObserver)&&typeof MutationObserver=="function"){var i=new MutationObserver(function(){var i=_qs("header nav ul li a");if(i&&window.getComputedStyle(i).getPropertyValue("letter-spacing")!="normal"&&!t.classList.contains("b_tsp"))t.classList.add("b_tsp"),e(n),typeof Log!="undefined"&&Log.Log("Info","Accessibility","TextSpacing");else if(i&&window.getComputedStyle(i).getPropertyValue("letter-spacing")=="normal"&&t.classList.contains("b_tsp"))t.classList.remove("b_tsp"),typeof Log!="undefined"&&Log.Log("Info","Accessibility","NoTextSpacing");else return});i.observe(r,{subtree:!0,childList:!0})}}function e(n){var t=sj_ce("link");i||(t.rel="stylesheet",t.href=n,u.appendChild(t),i=!0)}var i=!1,r=_qs("html"),u=document.head,t=document.body;n.init=f})(TextSpacing||(TextSpacing={}));TextSpacing.init("/rp/dHuJZPyruHWFebX_NFnCaeY1EYM.gz.css");var LogAccessibilityEvents;(function(){function t(){sj_be(_w,"keydown",function(t){n&&t.target==n&&Log.LogFilterFlare&&Log.LogFilterFlare(["screenreader"])})}function i(){var n=matchMedia("(forced-colors: active)"),t=matchMedia("(prefers-color-scheme: dark)");n.matches&&Log.LogFilterFlare&&Log.LogFilterFlare(["highcontrast"]);t.matches&&Log.LogFilterFlare&&Log.LogFilterFlare(["colschemedark"])}var n=document.getElementById("b_skip_to_content");typeof Log!="undefined"&&Log.Log&&(i(),t())})(LogAccessibilityEvents||(LogAccessibilityEvents={}));var LogAccessibilityEvents;(function(){function t(){var t=1;t=navigator&&navigator.userAgent.match(/Edge/)&&_w.screen?screen.deviceXDPI/screen.systemXDPI:navigator&&(navigator.userAgent.match(/Firefox/ig)||navigator.userAgent.match(/Trident/))?_w.devicePixelRatio:_w.outerWidth/_w.innerWidth;t>=4&&_w.devicePixelRatio>=4?(n=!0,Log.Log("Info","Accessibility","acczoommob"),Log.LogFilterFlare&&Log.LogFilterFlare(["acczoommob"])):n&&(Log.Log("Info","Accessibility","acczoompc"),Log.LogFilterFlare&&Log.LogFilterFlare(["acczoompc"]),n=!1)}var n=!1;typeof Log!="undefined"&&Log.Log&&(t(),sj_be(_w,"resize",function(){t()}))})(LogAccessibilityEvents||(LogAccessibilityEvents={}));var AccessibilityZoomDesktop;(function(){if(typeof sj_cook!="undefined"){var n="SRCHHPGUSR",t="PCMobUX",i="1";u();_w.addEventListener("resize",function(){return u()});function f(i){if(sj_cook.set(n,t,i,!0,"/"),sj_cook.get(n,t)!==i){typeof sj_log=="function"&&sj_log("CI.Info","cookie","read");return}r();sb_st(function(){_w.location.reload()},10)}function r(){var t=sj_cook.get(n,"WEBTHEME");typeof t!="undefined"&&(t==="0"||t==="1"||t==="2")?sj_cook.set(n,"THEME",t,!0,"/"):(sj_cook.set(n,"THEME","0",!0,"/"),sj_cook.set(n,"WEBTHEME","0",!0,"/"))}function u(){var u=1;u=navigator&&navigator.userAgent.match(/Edge/)&&_w.screen?screen.deviceXDPI/screen.systemXDPI:navigator&&(navigator.userAgent.match(/Firefox/ig)||navigator.userAgent.match(/Trident/))?_w.devicePixelRatio:_w.outerWidth/_w.innerWidth;r();u>=4&&_w.devicePixelRatio>=4&&sj_cook.get(n,t)!=i&&f(i)}}})(AccessibilityZoomDesktop||(AccessibilityZoomDesktop={}));
//]]></script><script type="text/rms" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=">//<![CDATA[
var sj_appHTML=function(n,t){var f,e,o,r,i,s,h;if(t&&n){var c="innerHTML",l="script",a="appendChild",v="length",y="src",p=sj_ce,u=p("div");if(u[c]="<br>"+t,f=u.childNodes,u.removeChild(f[0]),e=u.getElementsByTagName(l),e)for(o=0;o<e[v];o++)r=p(l),i=e[o],i&&(r.type=i.type=="module"||i.type=="importmap"?i.type:"text/javascript",s=i.getAttribute(y),s?(r.setAttribute(y,s),r.setAttribute("crossorigin","anonymous")):(r.text=i[c],r.setAttribute("data-bing-script","1")),i.parentNode.replaceChild(r,i));for(h=_d.createDocumentFragment();f[v];)h[a](f[0]);n[a](h)}};
//]]></script></div><script type="text/javascript" nonce="9iyI2qy8nVdYwDY41nup3BHKvL6sXUI+pVLKTa97GT8=" >//<![CDATA[
_G.HT=new Date;
//]]></script></body></html>